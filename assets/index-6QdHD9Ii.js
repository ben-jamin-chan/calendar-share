function v2(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function zx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var tp={exports:{}},$u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function _2(){if(gw)return $u;gw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var f in s)f!=="key"&&(l[f]=s[f])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:l}}return $u.Fragment=e,$u.jsx=t,$u.jsxs=t,$u}var pw;function b2(){return pw||(pw=1,tp.exports=_2()),tp.exports}var v=b2(),np={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function w2(){if(yw)return je;yw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,k={};function D(V,W,he){this.props=V,this.context=W,this.refs=k,this.updater=he||T}D.prototype.isReactComponent={},D.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},D.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function j(){}j.prototype=D.prototype;function H(V,W,he){this.props=V,this.context=W,this.refs=k,this.updater=he||T}var $=H.prototype=new j;$.constructor=H,A($,D.prototype),$.isPureReactComponent=!0;var Z=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function O(V,W,he,re,de,we){return he=we.ref,{$$typeof:n,type:V,key:W,ref:he!==void 0?he:null,props:we}}function N(V,W){return O(V.type,W,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function P(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(he){return W[he]})}var U=/\/+/g;function L(V,W){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):W.toString(36)}function M(){}function Ee(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(M,M):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function De(V,W,he,re,de){var we=typeof V;(we==="undefined"||we==="boolean")&&(V=null);var xe=!1;if(V===null)xe=!0;else switch(we){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(V.$$typeof){case n:case e:xe=!0;break;case y:return xe=V._init,De(xe(V._payload),W,he,re,de)}}if(xe)return de=de(V),xe=re===""?"."+L(V,0):re,Z(de)?(he="",xe!=null&&(he=xe.replace(U,"$&/")+"/"),De(de,W,he,"",function(Re){return Re})):de!=null&&(I(de)&&(de=N(de,he+(de.key==null||V&&V.key===de.key?"":(""+de.key).replace(U,"$&/")+"/")+xe)),W.push(de)),1;xe=0;var ge=re===""?".":re+":";if(Z(V))for(var ce=0;ce<V.length;ce++)re=V[ce],we=ge+L(re,ce),xe+=De(re,W,he,we,de);else if(ce=w(V),typeof ce=="function")for(V=ce.call(V),ce=0;!(re=V.next()).done;)re=re.value,we=ge+L(re,ce++),xe+=De(re,W,he,we,de);else if(we==="object"){if(typeof V.then=="function")return De(Ee(V),W,he,re,de);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return xe}function K(V,W,he){if(V==null)return V;var re=[],de=0;return De(V,re,"","",function(we){return W.call(he,we,de++)}),re}function le(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(he){(V._status===0||V._status===-1)&&(V._status=1,V._result=he)},function(he){(V._status===0||V._status===-1)&&(V._status=2,V._result=he)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var fe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ue(){}return je.Children={map:K,forEach:function(V,W,he){K(V,function(){W.apply(this,arguments)},he)},count:function(V){var W=0;return K(V,function(){W++}),W},toArray:function(V){return K(V,function(W){return W})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},je.Component=D,je.Fragment=t,je.Profiler=s,je.PureComponent=H,je.StrictMode=i,je.Suspense=h,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,je.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ee.H.useMemoCache(V)}},je.cache=function(V){return function(){return V.apply(null,arguments)}},je.cloneElement=function(V,W,he){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var re=A({},V.props),de=V.key,we=void 0;if(W!=null)for(xe in W.ref!==void 0&&(we=void 0),W.key!==void 0&&(de=""+W.key),W)!ie.call(W,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&W.ref===void 0||(re[xe]=W[xe]);var xe=arguments.length-2;if(xe===1)re.children=he;else if(1<xe){for(var ge=Array(xe),ce=0;ce<xe;ce++)ge[ce]=arguments[ce+2];re.children=ge}return O(V.type,de,void 0,void 0,we,re)},je.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},je.createElement=function(V,W,he){var re,de={},we=null;if(W!=null)for(re in W.key!==void 0&&(we=""+W.key),W)ie.call(W,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(de[re]=W[re]);var xe=arguments.length-2;if(xe===1)de.children=he;else if(1<xe){for(var ge=Array(xe),ce=0;ce<xe;ce++)ge[ce]=arguments[ce+2];de.children=ge}if(V&&V.defaultProps)for(re in xe=V.defaultProps,xe)de[re]===void 0&&(de[re]=xe[re]);return O(V,we,void 0,void 0,null,de)},je.createRef=function(){return{current:null}},je.forwardRef=function(V){return{$$typeof:f,render:V}},je.isValidElement=I,je.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:le}},je.memo=function(V,W){return{$$typeof:g,type:V,compare:W===void 0?null:W}},je.startTransition=function(V){var W=ee.T,he={};ee.T=he;try{var re=V(),de=ee.S;de!==null&&de(he,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ue,fe)}catch(we){fe(we)}finally{ee.T=W}},je.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},je.use=function(V){return ee.H.use(V)},je.useActionState=function(V,W,he){return ee.H.useActionState(V,W,he)},je.useCallback=function(V,W){return ee.H.useCallback(V,W)},je.useContext=function(V){return ee.H.useContext(V)},je.useDebugValue=function(){},je.useDeferredValue=function(V,W){return ee.H.useDeferredValue(V,W)},je.useEffect=function(V,W,he){var re=ee.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(V,W)},je.useId=function(){return ee.H.useId()},je.useImperativeHandle=function(V,W,he){return ee.H.useImperativeHandle(V,W,he)},je.useInsertionEffect=function(V,W){return ee.H.useInsertionEffect(V,W)},je.useLayoutEffect=function(V,W){return ee.H.useLayoutEffect(V,W)},je.useMemo=function(V,W){return ee.H.useMemo(V,W)},je.useOptimistic=function(V,W){return ee.H.useOptimistic(V,W)},je.useReducer=function(V,W,he){return ee.H.useReducer(V,W,he)},je.useRef=function(V){return ee.H.useRef(V)},je.useState=function(V){return ee.H.useState(V)},je.useSyncExternalStore=function(V,W,he){return ee.H.useSyncExternalStore(V,W,he)},je.useTransition=function(){return ee.H.useTransition()},je.version="19.1.0",je}var vw;function Ry(){return vw||(vw=1,np.exports=w2()),np.exports}var b=Ry();const dt=zx(b),Mp=v2({__proto__:null,default:dt},[b]);var rp={exports:{}},zu={},ip={exports:{}},ap={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function E2(){return _w||(_w=1,function(n){function e(K,le){var fe=K.length;K.push(le);e:for(;0<fe;){var ue=fe-1>>>1,V=K[ue];if(0<s(V,le))K[ue]=le,K[fe]=V,fe=ue;else break e}}function t(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var le=K[0],fe=K.pop();if(fe!==le){K[0]=fe;e:for(var ue=0,V=K.length,W=V>>>1;ue<W;){var he=2*(ue+1)-1,re=K[he],de=he+1,we=K[de];if(0>s(re,fe))de<V&&0>s(we,re)?(K[ue]=we,K[de]=fe,ue=de):(K[ue]=re,K[he]=fe,ue=he);else if(de<V&&0>s(we,fe))K[ue]=we,K[de]=fe,ue=de;else break e}}return le}function s(K,le){var fe=K.sortIndex-le.sortIndex;return fe!==0?fe:K.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var h=[],g=[],y=1,E=null,w=3,T=!1,A=!1,k=!1,D=!1,j=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Z(K){for(var le=t(g);le!==null;){if(le.callback===null)i(g);else if(le.startTime<=K)i(g),le.sortIndex=le.expirationTime,e(h,le);else break;le=t(g)}}function ee(K){if(k=!1,Z(K),!A)if(t(h)!==null)A=!0,ie||(ie=!0,L());else{var le=t(g);le!==null&&De(ee,le.startTime-K)}}var ie=!1,O=-1,N=5,I=-1;function P(){return D?!0:!(n.unstable_now()-I<N)}function U(){if(D=!1,ie){var K=n.unstable_now();I=K;var le=!0;try{e:{A=!1,k&&(k=!1,H(O),O=-1),T=!0;var fe=w;try{t:{for(Z(K),E=t(h);E!==null&&!(E.expirationTime>K&&P());){var ue=E.callback;if(typeof ue=="function"){E.callback=null,w=E.priorityLevel;var V=ue(E.expirationTime<=K);if(K=n.unstable_now(),typeof V=="function"){E.callback=V,Z(K),le=!0;break t}E===t(h)&&i(h),Z(K)}else i(h);E=t(h)}if(E!==null)le=!0;else{var W=t(g);W!==null&&De(ee,W.startTime-K),le=!1}}break e}finally{E=null,w=fe,T=!1}le=void 0}}finally{le?L():ie=!1}}}var L;if(typeof $=="function")L=function(){$(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ee=M.port2;M.port1.onmessage=U,L=function(){Ee.postMessage(null)}}else L=function(){j(U,0)};function De(K,le){O=j(function(){K(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(K){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var fe=w;w=le;try{return K()}finally{w=fe}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var fe=w;w=K;try{return le()}finally{w=fe}},n.unstable_scheduleCallback=function(K,le,fe){var ue=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ue+fe:ue):fe=ue,K){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=fe+V,K={id:y++,callback:le,priorityLevel:K,startTime:fe,expirationTime:V,sortIndex:-1},fe>ue?(K.sortIndex=fe,e(g,K),t(h)===null&&K===t(g)&&(k?(H(O),O=-1):k=!0,De(ee,fe-ue))):(K.sortIndex=V,e(h,K),A||T||(A=!0,ie||(ie=!0,L()))),K},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(K){var le=w;return function(){var fe=w;w=le;try{return K.apply(this,arguments)}finally{w=fe}}}}(ap)),ap}var bw;function x2(){return bw||(bw=1,ip.exports=E2()),ip.exports}var sp={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function T2(){if(ww)return un;ww=1;var n=Ry();function e(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(h,g,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:E==null?null:""+E,children:h,containerInfo:g,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,un.createPortal=function(h,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(h,g,null,y)},un.flushSync=function(h){var g=c.T,y=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=g,i.p=y,i.d.f()}},un.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(h,g))},un.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},un.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var y=g.as,E=f(y,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:T}):y==="script"&&i.d.X(h,{crossOrigin:E,integrity:w,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);i.d.M(h,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(h)},un.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,E=f(y,g.crossOrigin);i.d.L(h,y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(h,g){if(typeof h=="string")if(g){var y=f(g.as,g.crossOrigin);i.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(h)},un.requestFormReset=function(h){i.d.r(h)},un.unstable_batchedUpdates=function(h,g){return h(g)},un.useFormState=function(h,g,y){return c.H.useFormState(h,g,y)},un.useFormStatus=function(){return c.H.useHostTransitionStatus()},un.version="19.1.0",un}var Ew;function Bx(){if(Ew)return sp.exports;Ew=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sp.exports=T2(),sp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function S2(){if(xw)return zu;xw=1;var n=x2(),e=Ry(),t=Bx();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function h(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,u=a;;){var m=o.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===o)return f(m),r;if(p===u)return f(m),a;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=m,u=p;else{for(var S=!1,R=m.child;R;){if(R===o){S=!0,o=m,u=p;break}if(R===u){S=!0,u=m,o=p;break}R=R.sibling}if(!S){for(R=p.child;R;){if(R===o){S=!0,o=p,u=m;break}if(R===u){S=!0,u=p,o=m;break}R=R.sibling}if(!S)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function Ee(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case D:return"Profiler";case k:return"StrictMode";case ee:return"Suspense";case ie:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case T:return"Portal";case $:return(r.displayName||"Context")+".Provider";case H:return(r._context.displayName||"Context")+".Consumer";case Z:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return a=r.displayName||null,a!==null?a:Ee(r.type)||"Memo";case N:a=r._payload,r=r._init;try{return Ee(r(a))}catch{}}return null}var De=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},ue=[],V=-1;function W(r){return{current:r}}function he(r){0>V||(r.current=ue[V],ue[V]=null,V--)}function re(r,a){V++,ue[V]=r.current,r.current=a}var de=W(null),we=W(null),xe=W(null),ge=W(null);function ce(r,a){switch(re(xe,a),re(we,r),re(de,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Bb(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Bb(a),r=Hb(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}he(de),re(de,r)}function Re(){he(de),he(we),he(xe)}function Pe(r){r.memoizedState!==null&&re(ge,r);var a=de.current,o=Hb(a,r.type);a!==o&&(re(we,r),re(de,o))}function pe(r){we.current===r&&(he(de),he(we)),ge.current===r&&(he(ge),ju._currentValue=fe)}var be=Object.prototype.hasOwnProperty,Ze=n.unstable_scheduleCallback,gt=n.unstable_cancelCallback,Dn=n.unstable_shouldYield,ti=n.unstable_requestPaint,Sn=n.unstable_now,Ol=n.unstable_getCurrentPriorityLevel,Ml=n.unstable_ImmediatePriority,no=n.unstable_UserBlockingPriority,Ya=n.unstable_NormalPriority,nm=n.unstable_LowPriority,ro=n.unstable_IdlePriority,Pl=n.log,zc=n.unstable_setDisableYieldValue,Tt=null,nt=null;function On(r){if(typeof Pl=="function"&&zc(r),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Tt,r)}catch{}}var on=Math.clz32?Math.clz32:Ka,Bc=Math.log,rm=Math.LN2;function Ka(r){return r>>>=0,r===0?32:31-(Bc(r)/rm|0)|0}var Qa=256,Wa=4194304;function ur(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function io(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var m=0,p=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var R=u&134217727;return R!==0?(u=R&~p,u!==0?m=ur(u):(S&=R,S!==0?m=ur(S):o||(o=R&~r,o!==0&&(m=ur(o))))):(R=u&~p,R!==0?m=ur(R):S!==0?m=ur(S):o||(o=u&~r,o!==0&&(m=ur(o)))),m===0?0:a!==0&&a!==m&&(a&p)===0&&(p=m&-m,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:m}function Xa(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function jl(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ll(){var r=Qa;return Qa<<=1,(Qa&4194048)===0&&(Qa=256),r}function Vl(){var r=Wa;return Wa<<=1,(Wa&62914560)===0&&(Wa=4194304),r}function ni(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function ri(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ul(r,a,o,u,m,p){var S=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var R=r.entanglements,F=r.expirationTimes,Y=r.hiddenUpdates;for(o=S&~o;0<o;){var te=31-on(o),ae=1<<te;R[te]=0,F[te]=-1;var Q=Y[te];if(Q!==null)for(Y[te]=null,te=0;te<Q.length;te++){var X=Q[te];X!==null&&(X.lane&=-536870913)}o&=~ae}u!==0&&Tr(r,u,0),p!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=p&~(S&~a))}function Tr(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-on(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Fl(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-on(o),m=1<<u;m&a|r[u]&a&&(r[u]|=a),o&=~m}}function zi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ao(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Bi(){var r=le.p;return r!==0?r:(r=window.event,r===void 0?32:uw(r.type))}function Hc(r,a){var o=le.p;try{return le.p=r,a()}finally{le.p=o}}var pt=Math.random().toString(36).slice(2),Vt="__reactFiber$"+pt,kt="__reactProps$"+pt,Gn="__reactContainer$"+pt,$l="__reactEvents$"+pt,im="__reactListeners$"+pt,Hi="__reactHandles$"+pt,qc="__reactResources$"+pt,Za="__reactMarker$"+pt;function qi(r){delete r[Vt],delete r[kt],delete r[$l],delete r[im],delete r[Hi]}function ii(r){var a=r[Vt];if(a)return a;for(var o=r.parentNode;o;){if(a=o[Gn]||o[Vt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=Kb(r);r!==null;){if(o=r[Vt])return o;r=Kb(r)}return a}r=o,o=r.parentNode}return null}function Sr(r){if(r=r[Vt]||r[Gn]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Ar(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function pn(r){var a=r[qc];return a||(a=r[qc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Rt(r){r[Za]=!0}var zl=new Set,so={};function cr(r,a){ai(r,a),ai(r+"Capture",a)}function ai(r,a){for(so[r]=a,r=0;r<a.length;r++)zl.add(a[r])}var Gc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yc={},Ja={};function Kc(r){return be.call(Ja,r)?!0:be.call(Yc,r)?!1:Gc.test(r)?Ja[r]=!0:(Yc[r]=!0,!1)}function Gi(r,a,o){if(Kc(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function Rr(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function Xt(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}var es,Qc;function si(r){if(es===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);es=a&&a[1]||"",Qc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+es+r+Qc}var oo=!1;function lo(r,a){if(!r||oo)return"";oo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var Q=X}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(X){Q=X}r.call(ae.prototype)}}else{try{throw Error()}catch(X){Q=X}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),S=p[0],R=p[1];if(S&&R){var F=S.split(`
`),Y=R.split(`
`);for(m=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(u===F.length||m===Y.length)for(u=F.length-1,m=Y.length-1;1<=u&&0<=m&&F[u]!==Y[m];)m--;for(;1<=u&&0<=m;u--,m--)if(F[u]!==Y[m]){if(u!==1||m!==1)do if(u--,m--,0>m||F[u]!==Y[m]){var te=`
`+F[u].replace(" at new "," at ");return r.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",r.displayName)),te}while(1<=u&&0<=m);break}}}finally{oo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?si(o):""}function Bl(r){switch(r.tag){case 26:case 27:case 5:return si(r.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return lo(r.type,!1);case 11:return lo(r.type.render,!1);case 1:return lo(r.type,!0);case 31:return si("Activity");default:return""}}function uo(r){try{var a="";do a+=Bl(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Hl(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function am(r){var a=Hl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,p=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return m.call(this)},set:function(S){u=""+S,p.call(this,S)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function co(r){r._valueTracker||(r._valueTracker=am(r))}function ql(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=Hl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function ts(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var sm=/[\n"\\]/g;function Dt(r){return r.replace(sm,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Mn(r,a,o,u,m,p,S,R){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),a!=null?S==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+yn(a)):r.value!==""+yn(a)&&(r.value=""+yn(a)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),a!=null?Yi(r,S,yn(a)):o!=null?Yi(r,S,yn(o)):u!=null&&r.removeAttribute("value"),m==null&&p!=null&&(r.defaultChecked=!!p),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+yn(R):r.removeAttribute("name")}function ns(r,a,o,u,m,p,S,R){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;o=o!=null?""+yn(o):"",a=a!=null?""+yn(a):o,R||a===r.value||(r.value=a),r.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=R?r.checked:!!u,r.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function Yi(r,a,o){a==="number"&&ts(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function oi(r,a,o,u){if(r=r.options,a){a={};for(var m=0;m<o.length;m++)a["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=a.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&u&&(r[o].defaultSelected=!0)}else{for(o=""+yn(o),a=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,u&&(r[m].defaultSelected=!0);return}a!==null||r[m].disabled||(a=r[m])}a!==null&&(a.selected=!0)}}function st(r,a,o){if(a!=null&&(a=""+yn(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+yn(o):""}function rs(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(De(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=yn(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Yn(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wc(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||is.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function Gl(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&o[m]!==u&&Wc(r,m,u)}else for(var p in a)a.hasOwnProperty(p)&&Wc(r,p,a[p])}function Yl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fo(r){return lm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var li=null;function Kn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ui=null,ci=null;function Kl(r){var a=Sr(r);if(a&&(r=a.stateNode)){var o=r[kt]||null;e:switch(r=a.stateNode,a.type){case"input":if(Mn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dt(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var m=u[kt]||null;if(!m)throw Error(i(90));Mn(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&ql(u)}break e;case"textarea":st(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&oi(r,!!o.multiple,a,!1)}}}var Cr=!1;function Xc(r,a,o){if(Cr)return r(a,o);Cr=!0;try{var u=r(a);return u}finally{if(Cr=!1,(ui!==null||ci!==null)&&(Hd(),ui&&(a=ui,r=ci,ci=ui=null,Kl(a),r)))for(a=0;a<r.length;a++)Kl(r[a])}}function as(r,a){var o=r.stateNode;if(o===null)return null;var u=o[kt]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qn=!1;if(dr)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Qn=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Qn=!1}var Nr=null,Ki=null,di=null;function Ql(){if(di)return di;var r,a=Ki,o=a.length,u,m="value"in Nr?Nr.value:Nr.textContent,p=m.length;for(r=0;r<o&&a[r]===m[r];r++);var S=o-r;for(u=1;u<=S&&a[o-u]===m[p-u];u++);return di=m.slice(r,1<u?1-u:void 0)}function Ir(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function kr(){return!0}function Wl(){return!1}function qt(r){function a(o,u,m,p,S){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(o=r[R],this[R]=o?o(p):p[R]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?kr:Wl,this.isPropagationStopped=Wl,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),a}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=qt(Je),os=y({},Je,{view:0,detail:0}),Zc=qt(os),mo,go,Dr,ls=y({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Dr&&(Dr&&r.type==="mousemove"?(mo=r.screenX-Dr.screenX,go=r.screenY-Dr.screenY):go=mo=0,Dr=r),mo)},movementY:function(r){return"movementY"in r?r.movementY:go}}),Wn=qt(ls),Jc=y({},ls,{dataTransfer:0}),um=qt(Jc),us=y({},os,{relatedTarget:0}),po=qt(us),Xl=y({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),yo=qt(Xl),ed=y({},Je,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),vo=qt(ed),cm=y({},Je,{data:0}),Zl=qt(cm),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=nd[r])?!!a[r]:!1}function ds(){return Jl}var rd=y({},os,{key:function(r){if(r.key){var a=cs[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Ir(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?td[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(r){return r.type==="keypress"?Ir(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ir(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),_o=qt(rd),id=y({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eu=qt(id),fi=y({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),ad=qt(fi),sd=y({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),od=qt(sd),ld=y({},ls,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),bo=qt(ld),vn=y({},Je,{newState:0,oldState:0}),ud=qt(vn),cd=[9,13,27,32],Or=dr&&"CompositionEvent"in window,d=null;dr&&"documentMode"in document&&(d=document.documentMode);var _=dr&&"TextEvent"in window&&!d,x=dr&&(!Or||d&&8<d&&11>=d),C=" ",q=!1;function J(r,a){switch(r){case"keyup":return cd.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var qe=!1;function Ut(r,a){switch(r){case"compositionend":return me(a);case"keypress":return a.which!==32?null:(q=!0,C);case"textInput":return r=a.data,r===C&&q?null:r;default:return null}}function Ge(r,a){if(qe)return r==="compositionend"||!Or&&J(r,a)?(r=Ql(),di=Ki=Nr=null,qe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return x&&a.locale!=="ko"?null:a.data;default:return null}}var Gt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ft(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Gt[r.type]:a==="textarea"}function hi(r,a,o,u){ui?ci?ci.push(u):ci=[u]:ui=u,a=Wd(a,"onChange"),0<a.length&&(o=new ho("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var Zt=null,Mr=null;function tu(r){Vb(r,0)}function dd(r){var a=Ar(r);if(ql(a))return r}function av(r,a){if(r==="change")return a}var sv=!1;if(dr){var dm;if(dr){var fm="oninput"in document;if(!fm){var ov=document.createElement("div");ov.setAttribute("oninput","return;"),fm=typeof ov.oninput=="function"}dm=fm}else dm=!1;sv=dm&&(!document.documentMode||9<document.documentMode)}function lv(){Zt&&(Zt.detachEvent("onpropertychange",uv),Mr=Zt=null)}function uv(r){if(r.propertyName==="value"&&dd(Mr)){var a=[];hi(a,Mr,r,Kn(r)),Xc(tu,a)}}function KA(r,a,o){r==="focusin"?(lv(),Zt=a,Mr=o,Zt.attachEvent("onpropertychange",uv)):r==="focusout"&&lv()}function QA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return dd(Mr)}function WA(r,a){if(r==="click")return dd(a)}function XA(r,a){if(r==="input"||r==="change")return dd(a)}function ZA(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Pn=typeof Object.is=="function"?Object.is:ZA;function nu(r,a){if(Pn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!be.call(a,m)||!Pn(r[m],a[m]))return!1}return!0}function cv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function dv(r,a){var o=cv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=cv(o)}}function fv(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?fv(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function hv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=ts(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=ts(r.document)}return a}function hm(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var JA=dr&&"documentMode"in document&&11>=document.documentMode,wo=null,mm=null,ru=null,gm=!1;function mv(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;gm||wo==null||wo!==ts(u)||(u=wo,"selectionStart"in u&&hm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ru&&nu(ru,u)||(ru=u,u=Wd(mm,"onSelect"),0<u.length&&(a=new ho("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=wo)))}function fs(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var Eo={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},pm={},gv={};dr&&(gv=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function hs(r){if(pm[r])return pm[r];if(!Eo[r])return r;var a=Eo[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in gv)return pm[r]=a[o];return r}var pv=hs("animationend"),yv=hs("animationiteration"),vv=hs("animationstart"),eR=hs("transitionrun"),tR=hs("transitionstart"),nR=hs("transitioncancel"),_v=hs("transitionend"),bv=new Map,ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ym.push("scrollEnd");function fr(r,a){bv.set(r,a),cr(a,[r])}var wv=new WeakMap;function Xn(r,a){if(typeof r=="object"&&r!==null){var o=wv.get(r);return o!==void 0?o:(a={value:r,source:a,stack:uo(a)},wv.set(r,a),a)}return{value:r,source:a,stack:uo(a)}}var Zn=[],xo=0,vm=0;function fd(){for(var r=xo,a=vm=xo=0;a<r;){var o=Zn[a];Zn[a++]=null;var u=Zn[a];Zn[a++]=null;var m=Zn[a];Zn[a++]=null;var p=Zn[a];if(Zn[a++]=null,u!==null&&m!==null){var S=u.pending;S===null?m.next=m:(m.next=S.next,S.next=m),u.pending=m}p!==0&&Ev(o,m,p)}}function hd(r,a,o,u){Zn[xo++]=r,Zn[xo++]=a,Zn[xo++]=o,Zn[xo++]=u,vm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function _m(r,a,o,u){return hd(r,a,o,u),md(r)}function To(r,a){return hd(r,null,null,a),md(r)}function Ev(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var m=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(m=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,m&&a!==null&&(m=31-on(o),r=p.hiddenUpdates,u=r[m],u===null?r[m]=[a]:u.push(a),a.lane=o|536870912),p):null}function md(r){if(50<Cu)throw Cu=0,Sg=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var So={};function rR(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(r,a,o,u){return new rR(r,a,o,u)}function bm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function mi(r,a){var o=r.alternate;return o===null?(o=jn(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function xv(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function gd(r,a,o,u,m,p){var S=0;if(u=r,typeof r=="function")bm(r)&&(S=1);else if(typeof r=="string")S=a2(r,o,de.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=jn(31,o,a,m),r.elementType=I,r.lanes=p,r;case A:return ms(o.children,m,p,a);case k:S=8,m|=24;break;case D:return r=jn(12,o,a,m|2),r.elementType=D,r.lanes=p,r;case ee:return r=jn(13,o,a,m),r.elementType=ee,r.lanes=p,r;case ie:return r=jn(19,o,a,m),r.elementType=ie,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case $:S=10;break e;case H:S=9;break e;case Z:S=11;break e;case O:S=14;break e;case N:S=16,u=null;break e}S=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=jn(S,o,a,m),a.elementType=r,a.type=u,a.lanes=p,a}function ms(r,a,o,u){return r=jn(7,r,u,a),r.lanes=o,r}function wm(r,a,o){return r=jn(6,r,null,a),r.lanes=o,r}function Em(r,a,o){return a=jn(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Ao=[],Ro=0,pd=null,yd=0,Jn=[],er=0,gs=null,gi=1,pi="";function ps(r,a){Ao[Ro++]=yd,Ao[Ro++]=pd,pd=r,yd=a}function Tv(r,a,o){Jn[er++]=gi,Jn[er++]=pi,Jn[er++]=gs,gs=r;var u=gi;r=pi;var m=32-on(u)-1;u&=~(1<<m),o+=1;var p=32-on(a)+m;if(30<p){var S=m-m%5;p=(u&(1<<S)-1).toString(32),u>>=S,m-=S,gi=1<<32-on(a)+m|o<<m|u,pi=p+r}else gi=1<<p|o<<m|u,pi=r}function xm(r){r.return!==null&&(ps(r,1),Tv(r,1,0))}function Tm(r){for(;r===pd;)pd=Ao[--Ro],Ao[Ro]=null,yd=Ao[--Ro],Ao[Ro]=null;for(;r===gs;)gs=Jn[--er],Jn[er]=null,pi=Jn[--er],Jn[er]=null,gi=Jn[--er],Jn[er]=null}var _n=null,St=null,Xe=!1,ys=null,Pr=!1,Sm=Error(i(519));function vs(r){var a=Error(i(418,""));throw su(Xn(a,r)),Sm}function Sv(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[Vt]=r,a[kt]=u,o){case"dialog":ze("cancel",a),ze("close",a);break;case"iframe":case"object":case"embed":ze("load",a);break;case"video":case"audio":for(o=0;o<Iu.length;o++)ze(Iu[o],a);break;case"source":ze("error",a);break;case"img":case"image":case"link":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"input":ze("invalid",a),ns(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),co(a);break;case"select":ze("invalid",a);break;case"textarea":ze("invalid",a),rs(a,u.value,u.defaultValue,u.children),co(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||zb(a.textContent,o)?(u.popover!=null&&(ze("beforetoggle",a),ze("toggle",a)),u.onScroll!=null&&ze("scroll",a),u.onScrollEnd!=null&&ze("scrollend",a),u.onClick!=null&&(a.onclick=Xd),a=!0):a=!1,a||vs(r)}function Av(r){for(_n=r.return;_n;)switch(_n.tag){case 5:case 13:Pr=!1;return;case 27:case 3:Pr=!0;return;default:_n=_n.return}}function iu(r){if(r!==_n)return!1;if(!Xe)return Av(r),Xe=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||$g(r.type,r.memoizedProps)),o=!o),o&&St&&vs(r),Av(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){St=mr(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}St=null}}else a===27?(a=St,ca(r.type)?(r=qg,qg=null,St=r):St=a):St=_n?mr(r.stateNode.nextSibling):null;return!0}function au(){St=_n=null,Xe=!1}function Rv(){var r=ys;return r!==null&&(Cn===null?Cn=r:Cn.push.apply(Cn,r),ys=null),r}function su(r){ys===null?ys=[r]:ys.push(r)}var Am=W(null),_s=null,yi=null;function Qi(r,a,o){re(Am,a._currentValue),a._currentValue=o}function vi(r){r._currentValue=Am.current,he(Am)}function Rm(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function Cm(r,a,o,u){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var p=m.dependencies;if(p!==null){var S=m.child;p=p.firstContext;e:for(;p!==null;){var R=p;p=m;for(var F=0;F<a.length;F++)if(R.context===a[F]){p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),Rm(p.return,o,r),u||(S=null);break e}p=R.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=o,p=S.alternate,p!==null&&(p.lanes|=o),Rm(S,o,r),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===r){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function ou(r,a,o,u){r=null;for(var m=a,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var R=m.type;Pn(m.pendingProps.value,S.value)||(r!==null?r.push(R):r=[R])}}else if(m===ge.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(ju):r=[ju])}m=m.return}r!==null&&Cm(a,r,o,u),a.flags|=262144}function vd(r){for(r=r.firstContext;r!==null;){if(!Pn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function bs(r){_s=r,yi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ln(r){return Cv(_s,r)}function _d(r,a){return _s===null&&bs(r),Cv(r,a)}function Cv(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},yi===null){if(r===null)throw Error(i(308));yi=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else yi=yi.next=a;return o}var iR=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},aR=n.unstable_scheduleCallback,sR=n.unstable_NormalPriority,$t={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nm(){return{controller:new iR,data:new Map,refCount:0}}function lu(r){r.refCount--,r.refCount===0&&aR(sR,function(){r.controller.abort()})}var uu=null,Im=0,Co=0,No=null;function oR(r,a){if(uu===null){var o=uu=[];Im=0,Co=Dg(),No={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Im++,a.then(Nv,Nv),a}function Nv(){if(--Im===0&&uu!==null){No!==null&&(No.status="fulfilled");var r=uu;uu=null,Co=0,No=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function lR(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<o.length;m++)(0,o[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var Iv=K.S;K.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&oR(r,a),Iv!==null&&Iv(r,a)};var ws=W(null);function km(){var r=ws.current;return r!==null?r:ft.pooledCache}function bd(r,a){a===null?re(ws,ws.current):re(ws,a.pool)}function kv(){var r=km();return r===null?null:{parent:$t._currentValue,pool:r}}var cu=Error(i(460)),Dv=Error(i(474)),wd=Error(i(542)),Dm={then:function(){}};function Ov(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ed(){}function Mv(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(Ed,Ed),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,jv(r),r;default:if(typeof a.status=="string")a.then(Ed,Ed);else{if(r=ft,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,jv(r),r}throw du=a,cu}}var du=null;function Pv(){if(du===null)throw Error(i(459));var r=du;return du=null,r}function jv(r){if(r===cu||r===wd)throw Error(i(483))}var Wi=!1;function Om(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Xi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Zi(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(rt&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=md(r),Ev(r,null,o),a}return hd(r,u,a,o),md(r)}function fu(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,Fl(r,o)}}function Pm(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?m=p=S:p=p.next=S,o=o.next}while(o!==null);p===null?m=p=a:p=p.next=a}else m=p=a;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var jm=!1;function hu(){if(jm){var r=No;if(r!==null)throw r}}function mu(r,a,o,u){jm=!1;var m=r.updateQueue;Wi=!1;var p=m.firstBaseUpdate,S=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var F=R,Y=F.next;F.next=null,S===null?p=Y:S.next=Y,S=F;var te=r.alternate;te!==null&&(te=te.updateQueue,R=te.lastBaseUpdate,R!==S&&(R===null?te.firstBaseUpdate=Y:R.next=Y,te.lastBaseUpdate=F))}if(p!==null){var ae=m.baseState;S=0,te=Y=F=null,R=p;do{var Q=R.lane&-536870913,X=Q!==R.lane;if(X?(Ye&Q)===Q:(u&Q)===Q){Q!==0&&Q===Co&&(jm=!0),te!==null&&(te=te.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ie=r,Ae=R;Q=a;var ut=o;switch(Ae.tag){case 1:if(Ie=Ae.payload,typeof Ie=="function"){ae=Ie.call(ut,ae,Q);break e}ae=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ae.payload,Q=typeof Ie=="function"?Ie.call(ut,ae,Q):Ie,Q==null)break e;ae=y({},ae,Q);break e;case 2:Wi=!0}}Q=R.callback,Q!==null&&(r.flags|=64,X&&(r.flags|=8192),X=m.callbacks,X===null?m.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},te===null?(Y=te=X,F=ae):te=te.next=X,S|=Q;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;X=R,R=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);te===null&&(F=ae),m.baseState=F,m.firstBaseUpdate=Y,m.lastBaseUpdate=te,p===null&&(m.shared.lanes=0),sa|=S,r.lanes=S,r.memoizedState=ae}}function Lv(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Vv(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Lv(o[r],a)}var Io=W(null),xd=W(0);function Uv(r,a){r=Si,re(xd,r),re(Io,a),Si=r|a.baseLanes}function Lm(){re(xd,Si),re(Io,Io.current)}function Vm(){Si=xd.current,he(Io),he(xd)}var Ji=0,Le=null,ot=null,Ot=null,Td=!1,ko=!1,Es=!1,Sd=0,gu=0,Do=null,uR=0;function Ct(){throw Error(i(321))}function Um(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!Pn(r[o],a[o]))return!1;return!0}function Fm(r,a,o,u,m,p){return Ji=p,Le=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=r===null||r.memoizedState===null?E_:x_,Es=!1,p=o(u,m),Es=!1,ko&&(p=$v(a,o,u,m)),Fv(r),p}function Fv(r){K.H=kd;var a=ot!==null&&ot.next!==null;if(Ji=0,Ot=ot=Le=null,Td=!1,gu=0,Do=null,a)throw Error(i(300));r===null||Yt||(r=r.dependencies,r!==null&&vd(r)&&(Yt=!0))}function $v(r,a,o,u){Le=r;var m=0;do{if(ko&&(Do=null),gu=0,ko=!1,25<=m)throw Error(i(301));if(m+=1,Ot=ot=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}K.H=pR,p=a(o,u)}while(ko);return p}function cR(){var r=K.H,a=r.useState()[0];return a=typeof a.then=="function"?pu(a):a,r=r.useState()[0],(ot!==null?ot.memoizedState:null)!==r&&(Le.flags|=1024),a}function $m(){var r=Sd!==0;return Sd=0,r}function zm(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function Bm(r){if(Td){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Td=!1}Ji=0,Ot=ot=Le=null,ko=!1,gu=Sd=0,Do=null}function An(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Le.memoizedState=Ot=r:Ot=Ot.next=r,Ot}function Mt(){if(ot===null){var r=Le.alternate;r=r!==null?r.memoizedState:null}else r=ot.next;var a=Ot===null?Le.memoizedState:Ot.next;if(a!==null)Ot=a,ot=r;else{if(r===null)throw Le.alternate===null?Error(i(467)):Error(i(310));ot=r,r={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ot===null?Le.memoizedState=Ot=r:Ot=Ot.next=r}return Ot}function Hm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(r){var a=gu;return gu+=1,Do===null&&(Do=[]),r=Mv(Do,r,a),a=Le,(Ot===null?a.memoizedState:Ot.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?E_:x_),r}function Ad(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return pu(r);if(r.$$typeof===$)return ln(r)}throw Error(i(438,String(r)))}function qm(r){var a=null,o=Le.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=Le.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Hm(),Le.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=P;return a.index++,o}function _i(r,a){return typeof a=="function"?a(r):a}function Rd(r){var a=Mt();return Gm(a,ot,r)}function Gm(r,a,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var m=r.baseQueue,p=u.pending;if(p!==null){if(m!==null){var S=m.next;m.next=p.next,p.next=S}a.baseQueue=m=p,u.pending=null}if(p=r.baseState,m===null)r.memoizedState=p;else{a=m.next;var R=S=null,F=null,Y=a,te=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(Ye&ae)===ae:(Ji&ae)===ae){var Q=Y.revertLane;if(Q===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===Co&&(te=!0);else if((Ji&Q)===Q){Y=Y.next,Q===Co&&(te=!0);continue}else ae={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},F===null?(R=F=ae,S=p):F=F.next=ae,Le.lanes|=Q,sa|=Q;ae=Y.action,Es&&o(p,ae),p=Y.hasEagerState?Y.eagerState:o(p,ae)}else Q={lane:ae,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},F===null?(R=F=Q,S=p):F=F.next=Q,Le.lanes|=ae,sa|=ae;Y=Y.next}while(Y!==null&&Y!==a);if(F===null?S=p:F.next=R,!Pn(p,r.memoizedState)&&(Yt=!0,te&&(o=No,o!==null)))throw o;r.memoizedState=p,r.baseState=S,r.baseQueue=F,u.lastRenderedState=p}return m===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Ym(r){var a=Mt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,m=o.pending,p=a.memoizedState;if(m!==null){o.pending=null;var S=m=m.next;do p=r(p,S.action),S=S.next;while(S!==m);Pn(p,a.memoizedState)||(Yt=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,u]}function zv(r,a,o){var u=Le,m=Mt(),p=Xe;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=a();var S=!Pn((ot||m).memoizedState,o);S&&(m.memoizedState=o,Yt=!0),m=m.queue;var R=qv.bind(null,u,m,r);if(yu(2048,8,R,[r]),m.getSnapshot!==a||S||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,Oo(9,Cd(),Hv.bind(null,u,m,o,a),null),ft===null)throw Error(i(349));p||(Ji&124)!==0||Bv(u,a,o)}return o}function Bv(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=Le.updateQueue,a===null?(a=Hm(),Le.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function Hv(r,a,o,u){a.value=o,a.getSnapshot=u,Gv(a)&&Yv(r)}function qv(r,a,o){return o(function(){Gv(a)&&Yv(r)})}function Gv(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!Pn(r,o)}catch{return!0}}function Yv(r){var a=To(r,2);a!==null&&$n(a,r,2)}function Km(r){var a=An();if(typeof r=="function"){var o=r;if(r=o(),Es){On(!0);try{o()}finally{On(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:r},a}function Kv(r,a,o,u){return r.baseState=o,Gm(r,ot,typeof u=="function"?u:_i)}function dR(r,a,o,u,m){if(Id(r))throw Error(i(485));if(r=a.action,r!==null){var p={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};K.T!==null?o(!0):p.isTransition=!1,u(p),o=a.pending,o===null?(p.next=a.pending=p,Qv(a,p)):(p.next=o.next,a.pending=o.next=p)}}function Qv(r,a){var o=a.action,u=a.payload,m=r.state;if(a.isTransition){var p=K.T,S={};K.T=S;try{var R=o(m,u),F=K.S;F!==null&&F(S,R),Wv(r,a,R)}catch(Y){Qm(r,a,Y)}finally{K.T=p}}else try{p=o(m,u),Wv(r,a,p)}catch(Y){Qm(r,a,Y)}}function Wv(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Xv(r,a,u)},function(u){return Qm(r,a,u)}):Xv(r,a,o)}function Xv(r,a,o){a.status="fulfilled",a.value=o,Zv(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,Qv(r,o)))}function Qm(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,Zv(a),a=a.next;while(a!==u)}r.action=null}function Zv(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Jv(r,a){return a}function e_(r,a){if(Xe){var o=ft.formState;if(o!==null){e:{var u=Le;if(Xe){if(St){t:{for(var m=St,p=Pr;m.nodeType!==8;){if(!p){m=null;break t}if(m=mr(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){St=mr(m.nextSibling),u=m.data==="F!";break e}}vs(u)}u=!1}u&&(a=o[0])}}return o=An(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jv,lastRenderedState:a},o.queue=u,o=__.bind(null,Le,u),u.dispatch=o,u=Km(!1),p=eg.bind(null,Le,!1,u.queue),u=An(),m={state:a,dispatch:null,action:r,pending:null},u.queue=m,o=dR.bind(null,Le,m,p,o),m.dispatch=o,u.memoizedState=r,[a,o,!1]}function t_(r){var a=Mt();return n_(a,ot,r)}function n_(r,a,o){if(a=Gm(r,a,Jv)[0],r=Rd(_i)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=pu(a)}catch(S){throw S===cu?wd:S}else u=a;a=Mt();var m=a.queue,p=m.dispatch;return o!==a.memoizedState&&(Le.flags|=2048,Oo(9,Cd(),fR.bind(null,m,o),null)),[u,p,r]}function fR(r,a){r.action=a}function r_(r){var a=Mt(),o=ot;if(o!==null)return n_(a,o,r);Mt(),a=a.memoizedState,o=Mt();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function Oo(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=Le.updateQueue,a===null&&(a=Hm(),Le.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function Cd(){return{destroy:void 0,resource:void 0}}function i_(){return Mt().memoizedState}function Nd(r,a,o,u){var m=An();u=u===void 0?null:u,Le.flags|=r,m.memoizedState=Oo(1|a,Cd(),o,u)}function yu(r,a,o,u){var m=Mt();u=u===void 0?null:u;var p=m.memoizedState.inst;ot!==null&&u!==null&&Um(u,ot.memoizedState.deps)?m.memoizedState=Oo(a,p,o,u):(Le.flags|=r,m.memoizedState=Oo(1|a,p,o,u))}function a_(r,a){Nd(8390656,8,r,a)}function s_(r,a){yu(2048,8,r,a)}function o_(r,a){return yu(4,2,r,a)}function l_(r,a){return yu(4,4,r,a)}function u_(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function c_(r,a,o){o=o!=null?o.concat([r]):null,yu(4,4,u_.bind(null,a,r),o)}function Wm(){}function d_(r,a){var o=Mt();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&Um(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function f_(r,a){var o=Mt();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&Um(a,u[1]))return u[0];if(u=r(),Es){On(!0);try{r()}finally{On(!1)}}return o.memoizedState=[u,a],u}function Xm(r,a,o){return o===void 0||(Ji&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=gb(),Le.lanes|=r,sa|=r,o)}function h_(r,a,o,u){return Pn(o,a)?o:Io.current!==null?(r=Xm(r,o,u),Pn(r,a)||(Yt=!0),r):(Ji&42)===0?(Yt=!0,r.memoizedState=o):(r=gb(),Le.lanes|=r,sa|=r,a)}function m_(r,a,o,u,m){var p=le.p;le.p=p!==0&&8>p?p:8;var S=K.T,R={};K.T=R,eg(r,!1,a,o);try{var F=m(),Y=K.S;if(Y!==null&&Y(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var te=lR(F,u);vu(r,a,te,Fn(r))}else vu(r,a,u,Fn(r))}catch(ae){vu(r,a,{then:function(){},status:"rejected",reason:ae},Fn())}finally{le.p=p,K.T=S}}function hR(){}function Zm(r,a,o,u){if(r.tag!==5)throw Error(i(476));var m=g_(r).queue;m_(r,m,a,fe,o===null?hR:function(){return p_(r),o(u)})}function g_(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:fe},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function p_(r){var a=g_(r).next.queue;vu(r,a,{},Fn())}function Jm(){return ln(ju)}function y_(){return Mt().memoizedState}function v_(){return Mt().memoizedState}function mR(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=Fn();r=Xi(o);var u=Zi(a,r,o);u!==null&&($n(u,a,o),fu(u,a,o)),a={cache:Nm()},r.payload=a;return}a=a.return}}function gR(r,a,o){var u=Fn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Id(r)?b_(a,o):(o=_m(r,a,o,u),o!==null&&($n(o,r,u),w_(o,a,u)))}function __(r,a,o){var u=Fn();vu(r,a,o,u)}function vu(r,a,o,u){var m={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Id(r))b_(a,m);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var S=a.lastRenderedState,R=p(S,o);if(m.hasEagerState=!0,m.eagerState=R,Pn(R,S))return hd(r,a,m,0),ft===null&&fd(),!1}catch{}finally{}if(o=_m(r,a,m,u),o!==null)return $n(o,r,u),w_(o,a,u),!0}return!1}function eg(r,a,o,u){if(u={lane:2,revertLane:Dg(),action:u,hasEagerState:!1,eagerState:null,next:null},Id(r)){if(a)throw Error(i(479))}else a=_m(r,o,u,2),a!==null&&$n(a,r,2)}function Id(r){var a=r.alternate;return r===Le||a!==null&&a===Le}function b_(r,a){ko=Td=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function w_(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,Fl(r,o)}}var kd={readContext:ln,use:Ad,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},E_={readContext:ln,use:Ad,useCallback:function(r,a){return An().memoizedState=[r,a===void 0?null:a],r},useContext:ln,useEffect:a_,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,Nd(4194308,4,u_.bind(null,a,r),o)},useLayoutEffect:function(r,a){return Nd(4194308,4,r,a)},useInsertionEffect:function(r,a){Nd(4,2,r,a)},useMemo:function(r,a){var o=An();a=a===void 0?null:a;var u=r();if(Es){On(!0);try{r()}finally{On(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=An();if(o!==void 0){var m=o(a);if(Es){On(!0);try{o(a)}finally{On(!1)}}}else m=a;return u.memoizedState=u.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},u.queue=r,r=r.dispatch=gR.bind(null,Le,r),[u.memoizedState,r]},useRef:function(r){var a=An();return r={current:r},a.memoizedState=r},useState:function(r){r=Km(r);var a=r.queue,o=__.bind(null,Le,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:Wm,useDeferredValue:function(r,a){var o=An();return Xm(o,r,a)},useTransition:function(){var r=Km(!1);return r=m_.bind(null,Le,r.queue,!0,!1),An().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=Le,m=An();if(Xe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),ft===null)throw Error(i(349));(Ye&124)!==0||Bv(u,a,o)}m.memoizedState=o;var p={value:o,getSnapshot:a};return m.queue=p,a_(qv.bind(null,u,p,r),[r]),u.flags|=2048,Oo(9,Cd(),Hv.bind(null,u,p,o,a),null),o},useId:function(){var r=An(),a=ft.identifierPrefix;if(Xe){var o=pi,u=gi;o=(u&~(1<<32-on(u)-1)).toString(32)+o,a="«"+a+"R"+o,o=Sd++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=uR++,a="«"+a+"r"+o.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:Jm,useFormState:e_,useActionState:e_,useOptimistic:function(r){var a=An();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=eg.bind(null,Le,!0,o),o.dispatch=a,[r,a]},useMemoCache:qm,useCacheRefresh:function(){return An().memoizedState=mR.bind(null,Le)}},x_={readContext:ln,use:Ad,useCallback:d_,useContext:ln,useEffect:s_,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:Rd,useRef:i_,useState:function(){return Rd(_i)},useDebugValue:Wm,useDeferredValue:function(r,a){var o=Mt();return h_(o,ot.memoizedState,r,a)},useTransition:function(){var r=Rd(_i)[0],a=Mt().memoizedState;return[typeof r=="boolean"?r:pu(r),a]},useSyncExternalStore:zv,useId:y_,useHostTransitionStatus:Jm,useFormState:t_,useActionState:t_,useOptimistic:function(r,a){var o=Mt();return Kv(o,ot,r,a)},useMemoCache:qm,useCacheRefresh:v_},pR={readContext:ln,use:Ad,useCallback:d_,useContext:ln,useEffect:s_,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:Ym,useRef:i_,useState:function(){return Ym(_i)},useDebugValue:Wm,useDeferredValue:function(r,a){var o=Mt();return ot===null?Xm(o,r,a):h_(o,ot.memoizedState,r,a)},useTransition:function(){var r=Ym(_i)[0],a=Mt().memoizedState;return[typeof r=="boolean"?r:pu(r),a]},useSyncExternalStore:zv,useId:y_,useHostTransitionStatus:Jm,useFormState:r_,useActionState:r_,useOptimistic:function(r,a){var o=Mt();return ot!==null?Kv(o,ot,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:qm,useCacheRefresh:v_},Mo=null,_u=0;function Dd(r){var a=_u;return _u+=1,Mo===null&&(Mo=[]),Mv(Mo,r,a)}function bu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Od(r,a){throw a.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function T_(r){var a=r._init;return a(r._payload)}function S_(r){function a(B,z){if(r){var G=B.deletions;G===null?(B.deletions=[z],B.flags|=16):G.push(z)}}function o(B,z){if(!r)return null;for(;z!==null;)a(B,z),z=z.sibling;return null}function u(B){for(var z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function m(B,z){return B=mi(B,z),B.index=0,B.sibling=null,B}function p(B,z,G){return B.index=G,r?(G=B.alternate,G!==null?(G=G.index,G<z?(B.flags|=67108866,z):G):(B.flags|=67108866,z)):(B.flags|=1048576,z)}function S(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function R(B,z,G,ne){return z===null||z.tag!==6?(z=wm(G,B.mode,ne),z.return=B,z):(z=m(z,G),z.return=B,z)}function F(B,z,G,ne){var _e=G.type;return _e===A?te(B,z,G.props.children,ne,G.key):z!==null&&(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===N&&T_(_e)===z.type)?(z=m(z,G.props),bu(z,G),z.return=B,z):(z=gd(G.type,G.key,G.props,null,B.mode,ne),bu(z,G),z.return=B,z)}function Y(B,z,G,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=Em(G,B.mode,ne),z.return=B,z):(z=m(z,G.children||[]),z.return=B,z)}function te(B,z,G,ne,_e){return z===null||z.tag!==7?(z=ms(G,B.mode,ne,_e),z.return=B,z):(z=m(z,G),z.return=B,z)}function ae(B,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=wm(""+z,B.mode,G),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return G=gd(z.type,z.key,z.props,null,B.mode,G),bu(G,z),G.return=B,G;case T:return z=Em(z,B.mode,G),z.return=B,z;case N:var ne=z._init;return z=ne(z._payload),ae(B,z,G)}if(De(z)||L(z))return z=ms(z,B.mode,G,null),z.return=B,z;if(typeof z.then=="function")return ae(B,Dd(z),G);if(z.$$typeof===$)return ae(B,_d(B,z),G);Od(B,z)}return null}function Q(B,z,G,ne){var _e=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return _e!==null?null:R(B,z,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===_e?F(B,z,G,ne):null;case T:return G.key===_e?Y(B,z,G,ne):null;case N:return _e=G._init,G=_e(G._payload),Q(B,z,G,ne)}if(De(G)||L(G))return _e!==null?null:te(B,z,G,ne,null);if(typeof G.then=="function")return Q(B,z,Dd(G),ne);if(G.$$typeof===$)return Q(B,z,_d(B,G),ne);Od(B,G)}return null}function X(B,z,G,ne,_e){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return B=B.get(G)||null,R(z,B,""+ne,_e);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return B=B.get(ne.key===null?G:ne.key)||null,F(z,B,ne,_e);case T:return B=B.get(ne.key===null?G:ne.key)||null,Y(z,B,ne,_e);case N:var Ue=ne._init;return ne=Ue(ne._payload),X(B,z,G,ne,_e)}if(De(ne)||L(ne))return B=B.get(G)||null,te(z,B,ne,_e,null);if(typeof ne.then=="function")return X(B,z,G,Dd(ne),_e);if(ne.$$typeof===$)return X(B,z,G,_d(z,ne),_e);Od(z,ne)}return null}function Ie(B,z,G,ne){for(var _e=null,Ue=null,Te=z,Ce=z=0,Qt=null;Te!==null&&Ce<G.length;Ce++){Te.index>Ce?(Qt=Te,Te=null):Qt=Te.sibling;var Qe=Q(B,Te,G[Ce],ne);if(Qe===null){Te===null&&(Te=Qt);break}r&&Te&&Qe.alternate===null&&a(B,Te),z=p(Qe,z,Ce),Ue===null?_e=Qe:Ue.sibling=Qe,Ue=Qe,Te=Qt}if(Ce===G.length)return o(B,Te),Xe&&ps(B,Ce),_e;if(Te===null){for(;Ce<G.length;Ce++)Te=ae(B,G[Ce],ne),Te!==null&&(z=p(Te,z,Ce),Ue===null?_e=Te:Ue.sibling=Te,Ue=Te);return Xe&&ps(B,Ce),_e}for(Te=u(Te);Ce<G.length;Ce++)Qt=X(Te,B,Ce,G[Ce],ne),Qt!==null&&(r&&Qt.alternate!==null&&Te.delete(Qt.key===null?Ce:Qt.key),z=p(Qt,z,Ce),Ue===null?_e=Qt:Ue.sibling=Qt,Ue=Qt);return r&&Te.forEach(function(ga){return a(B,ga)}),Xe&&ps(B,Ce),_e}function Ae(B,z,G,ne){if(G==null)throw Error(i(151));for(var _e=null,Ue=null,Te=z,Ce=z=0,Qt=null,Qe=G.next();Te!==null&&!Qe.done;Ce++,Qe=G.next()){Te.index>Ce?(Qt=Te,Te=null):Qt=Te.sibling;var ga=Q(B,Te,Qe.value,ne);if(ga===null){Te===null&&(Te=Qt);break}r&&Te&&ga.alternate===null&&a(B,Te),z=p(ga,z,Ce),Ue===null?_e=ga:Ue.sibling=ga,Ue=ga,Te=Qt}if(Qe.done)return o(B,Te),Xe&&ps(B,Ce),_e;if(Te===null){for(;!Qe.done;Ce++,Qe=G.next())Qe=ae(B,Qe.value,ne),Qe!==null&&(z=p(Qe,z,Ce),Ue===null?_e=Qe:Ue.sibling=Qe,Ue=Qe);return Xe&&ps(B,Ce),_e}for(Te=u(Te);!Qe.done;Ce++,Qe=G.next())Qe=X(Te,B,Ce,Qe.value,ne),Qe!==null&&(r&&Qe.alternate!==null&&Te.delete(Qe.key===null?Ce:Qe.key),z=p(Qe,z,Ce),Ue===null?_e=Qe:Ue.sibling=Qe,Ue=Qe);return r&&Te.forEach(function(y2){return a(B,y2)}),Xe&&ps(B,Ce),_e}function ut(B,z,G,ne){if(typeof G=="object"&&G!==null&&G.type===A&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:e:{for(var _e=G.key;z!==null;){if(z.key===_e){if(_e=G.type,_e===A){if(z.tag===7){o(B,z.sibling),ne=m(z,G.props.children),ne.return=B,B=ne;break e}}else if(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===N&&T_(_e)===z.type){o(B,z.sibling),ne=m(z,G.props),bu(ne,G),ne.return=B,B=ne;break e}o(B,z);break}else a(B,z);z=z.sibling}G.type===A?(ne=ms(G.props.children,B.mode,ne,G.key),ne.return=B,B=ne):(ne=gd(G.type,G.key,G.props,null,B.mode,ne),bu(ne,G),ne.return=B,B=ne)}return S(B);case T:e:{for(_e=G.key;z!==null;){if(z.key===_e)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){o(B,z.sibling),ne=m(z,G.children||[]),ne.return=B,B=ne;break e}else{o(B,z);break}else a(B,z);z=z.sibling}ne=Em(G,B.mode,ne),ne.return=B,B=ne}return S(B);case N:return _e=G._init,G=_e(G._payload),ut(B,z,G,ne)}if(De(G))return Ie(B,z,G,ne);if(L(G)){if(_e=L(G),typeof _e!="function")throw Error(i(150));return G=_e.call(G),Ae(B,z,G,ne)}if(typeof G.then=="function")return ut(B,z,Dd(G),ne);if(G.$$typeof===$)return ut(B,z,_d(B,G),ne);Od(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(o(B,z.sibling),ne=m(z,G),ne.return=B,B=ne):(o(B,z),ne=wm(G,B.mode,ne),ne.return=B,B=ne),S(B)):o(B,z)}return function(B,z,G,ne){try{_u=0;var _e=ut(B,z,G,ne);return Mo=null,_e}catch(Te){if(Te===cu||Te===wd)throw Te;var Ue=jn(29,Te,null,B.mode);return Ue.lanes=ne,Ue.return=B,Ue}finally{}}}var Po=S_(!0),A_=S_(!1),tr=W(null),jr=null;function ea(r){var a=r.alternate;re(zt,zt.current&1),re(tr,r),jr===null&&(a===null||Io.current!==null||a.memoizedState!==null)&&(jr=r)}function R_(r){if(r.tag===22){if(re(zt,zt.current),re(tr,r),jr===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(jr=r)}}else ta()}function ta(){re(zt,zt.current),re(tr,tr.current)}function bi(r){he(tr),jr===r&&(jr=null),he(zt)}var zt=W(0);function Md(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Hg(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function tg(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:y({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var ng={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=Fn(),m=Xi(u);m.payload=a,o!=null&&(m.callback=o),a=Zi(r,m,u),a!==null&&($n(a,r,u),fu(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=Fn(),m=Xi(u);m.tag=1,m.payload=a,o!=null&&(m.callback=o),a=Zi(r,m,u),a!==null&&($n(a,r,u),fu(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=Fn(),u=Xi(o);u.tag=2,a!=null&&(u.callback=a),a=Zi(r,u,o),a!==null&&($n(a,r,o),fu(a,r,o))}};function C_(r,a,o,u,m,p,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,S):a.prototype&&a.prototype.isPureReactComponent?!nu(o,u)||!nu(m,p):!0}function N_(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&ng.enqueueReplaceState(a,a.state,null)}function xs(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=y({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}var Pd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function I_(r){Pd(r)}function k_(r){console.error(r)}function D_(r){Pd(r)}function jd(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function O_(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function rg(r,a,o){return o=Xi(o),o.tag=3,o.payload={element:null},o.callback=function(){jd(r,a)},o}function M_(r){return r=Xi(r),r.tag=3,r}function P_(r,a,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;r.payload=function(){return m(p)},r.callback=function(){O_(a,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){O_(a,o,u),typeof m!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function yR(r,a,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&ou(a,o,m,!0),o=tr.current,o!==null){switch(o.tag){case 13:return jr===null?Rg():o.alternate===null&&At===0&&(At=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Dm?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),Ng(r,u,m)),!1;case 22:return o.flags|=65536,u===Dm?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),Ng(r,u,m)),!1}throw Error(i(435,o.tag))}return Ng(r,u,m),Rg(),!1}if(Xe)return a=tr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==Sm&&(r=Error(i(422),{cause:u}),su(Xn(r,o)))):(u!==Sm&&(a=Error(i(423),{cause:u}),su(Xn(a,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,u=Xn(u,o),m=rg(r.stateNode,u,m),Pm(r,m),At!==4&&(At=2)),!1;var p=Error(i(520),{cause:u});if(p=Xn(p,o),Ru===null?Ru=[p]:Ru.push(p),At!==4&&(At=2),a===null)return!0;u=Xn(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=rg(o.stateNode,u,r),Pm(o,r),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(oa===null||!oa.has(p))))return o.flags|=65536,m&=-m,o.lanes|=m,m=M_(m),P_(m,r,o,u),Pm(o,m),!1}o=o.return}while(o!==null);return!1}var j_=Error(i(461)),Yt=!1;function Jt(r,a,o,u){a.child=r===null?A_(a,null,o,u):Po(a,r.child,o,u)}function L_(r,a,o,u,m){o=o.render;var p=a.ref;if("ref"in u){var S={};for(var R in u)R!=="ref"&&(S[R]=u[R])}else S=u;return bs(a),u=Fm(r,a,o,S,p,m),R=$m(),r!==null&&!Yt?(zm(r,a,m),wi(r,a,m)):(Xe&&R&&xm(a),a.flags|=1,Jt(r,a,u,m),a.child)}function V_(r,a,o,u,m){if(r===null){var p=o.type;return typeof p=="function"&&!bm(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,U_(r,a,p,u,m)):(r=gd(o.type,null,u,a,a.mode,m),r.ref=a.ref,r.return=a,a.child=r)}if(p=r.child,!dg(r,m)){var S=p.memoizedProps;if(o=o.compare,o=o!==null?o:nu,o(S,u)&&r.ref===a.ref)return wi(r,a,m)}return a.flags|=1,r=mi(p,u),r.ref=a.ref,r.return=a,a.child=r}function U_(r,a,o,u,m){if(r!==null){var p=r.memoizedProps;if(nu(p,u)&&r.ref===a.ref)if(Yt=!1,a.pendingProps=u=p,dg(r,m))(r.flags&131072)!==0&&(Yt=!0);else return a.lanes=r.lanes,wi(r,a,m)}return ig(r,a,o,u,m)}function F_(r,a,o){var u=a.pendingProps,m=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,r!==null){for(m=a.child=r.child,p=0;m!==null;)p=p|m.lanes|m.childLanes,m=m.sibling;a.childLanes=p&~u}else a.childLanes=0,a.child=null;return $_(r,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&bd(a,p!==null?p.cachePool:null),p!==null?Uv(a,p):Lm(),R_(a);else return a.lanes=a.childLanes=536870912,$_(r,a,p!==null?p.baseLanes|o:o,o)}else p!==null?(bd(a,p.cachePool),Uv(a,p),ta(),a.memoizedState=null):(r!==null&&bd(a,null),Lm(),ta());return Jt(r,a,m,o),a.child}function $_(r,a,o,u){var m=km();return m=m===null?null:{parent:$t._currentValue,pool:m},a.memoizedState={baseLanes:o,cachePool:m},r!==null&&bd(a,null),Lm(),R_(a),r!==null&&ou(r,a,u,!0),null}function Ld(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function ig(r,a,o,u,m){return bs(a),o=Fm(r,a,o,u,void 0,m),u=$m(),r!==null&&!Yt?(zm(r,a,m),wi(r,a,m)):(Xe&&u&&xm(a),a.flags|=1,Jt(r,a,o,m),a.child)}function z_(r,a,o,u,m,p){return bs(a),a.updateQueue=null,o=$v(a,u,o,m),Fv(r),u=$m(),r!==null&&!Yt?(zm(r,a,p),wi(r,a,p)):(Xe&&u&&xm(a),a.flags|=1,Jt(r,a,o,p),a.child)}function B_(r,a,o,u,m){if(bs(a),a.stateNode===null){var p=So,S=o.contextType;typeof S=="object"&&S!==null&&(p=ln(S)),p=new o(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=ng,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Om(a),S=o.contextType,p.context=typeof S=="object"&&S!==null?ln(S):So,p.state=a.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(tg(a,o,S,u),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&ng.enqueueReplaceState(p,p.state,null),mu(a,u,p,m),hu(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){p=a.stateNode;var R=a.memoizedProps,F=xs(o,R);p.props=F;var Y=p.context,te=o.contextType;S=So,typeof te=="object"&&te!==null&&(S=ln(te));var ae=o.getDerivedStateFromProps;te=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(R||Y!==S)&&N_(a,p,u,S),Wi=!1;var Q=a.memoizedState;p.state=Q,mu(a,u,p,m),hu(),Y=a.memoizedState,R||Q!==Y||Wi?(typeof ae=="function"&&(tg(a,o,ae,u),Y=a.memoizedState),(F=Wi||C_(a,o,F,u,Q,Y,S))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Y),p.props=u,p.state=Y,p.context=S,u=F):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Mm(r,a),S=a.memoizedProps,te=xs(o,S),p.props=te,ae=a.pendingProps,Q=p.context,Y=o.contextType,F=So,typeof Y=="object"&&Y!==null&&(F=ln(Y)),R=o.getDerivedStateFromProps,(Y=typeof R=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==ae||Q!==F)&&N_(a,p,u,F),Wi=!1,Q=a.memoizedState,p.state=Q,mu(a,u,p,m),hu();var X=a.memoizedState;S!==ae||Q!==X||Wi||r!==null&&r.dependencies!==null&&vd(r.dependencies)?(typeof R=="function"&&(tg(a,o,R,u),X=a.memoizedState),(te=Wi||C_(a,o,te,u,Q,X,F)||r!==null&&r.dependencies!==null&&vd(r.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,F),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,F)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===r.memoizedProps&&Q===r.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Q===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=X),p.props=u,p.state=X,p.context=F,u=te):(typeof p.componentDidUpdate!="function"||S===r.memoizedProps&&Q===r.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Q===r.memoizedState||(a.flags|=1024),u=!1)}return p=u,Ld(r,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,r!==null&&u?(a.child=Po(a,r.child,null,m),a.child=Po(a,null,o,m)):Jt(r,a,o,m),a.memoizedState=p.state,r=a.child):r=wi(r,a,m),r}function H_(r,a,o,u){return au(),a.flags|=256,Jt(r,a,o,u),a.child}var ag={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sg(r){return{baseLanes:r,cachePool:kv()}}function og(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=nr),r}function q_(r,a,o){var u=a.pendingProps,m=!1,p=(a.flags&128)!==0,S;if((S=p)||(S=r!==null&&r.memoizedState===null?!1:(zt.current&2)!==0),S&&(m=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,r===null){if(Xe){if(m?ea(a):ta(),Xe){var R=St,F;if(F=R){e:{for(F=R,R=Pr;F.nodeType!==8;){if(!R){R=null;break e}if(F=mr(F.nextSibling),F===null){R=null;break e}}R=F}R!==null?(a.memoizedState={dehydrated:R,treeContext:gs!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},F=jn(18,null,null,0),F.stateNode=R,F.return=a,a.child=F,_n=a,St=null,F=!0):F=!1}F||vs(a)}if(R=a.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Hg(R)?a.lanes=32:a.lanes=536870912,null;bi(a)}return R=u.children,u=u.fallback,m?(ta(),m=a.mode,R=Vd({mode:"hidden",children:R},m),u=ms(u,m,o,null),R.return=a,u.return=a,R.sibling=u,a.child=R,m=a.child,m.memoizedState=sg(o),m.childLanes=og(r,S,o),a.memoizedState=ag,u):(ea(a),lg(a,R))}if(F=r.memoizedState,F!==null&&(R=F.dehydrated,R!==null)){if(p)a.flags&256?(ea(a),a.flags&=-257,a=ug(r,a,o)):a.memoizedState!==null?(ta(),a.child=r.child,a.flags|=128,a=null):(ta(),m=u.fallback,R=a.mode,u=Vd({mode:"visible",children:u.children},R),m=ms(m,R,o,null),m.flags|=2,u.return=a,m.return=a,u.sibling=m,a.child=u,Po(a,r.child,null,o),u=a.child,u.memoizedState=sg(o),u.childLanes=og(r,S,o),a.memoizedState=ag,a=m);else if(ea(a),Hg(R)){if(S=R.nextSibling&&R.nextSibling.dataset,S)var Y=S.dgst;S=Y,u=Error(i(419)),u.stack="",u.digest=S,su({value:u,source:null,stack:null}),a=ug(r,a,o)}else if(Yt||ou(r,a,o,!1),S=(o&r.childLanes)!==0,Yt||S){if(S=ft,S!==null&&(u=o&-o,u=(u&42)!==0?1:zi(u),u=(u&(S.suspendedLanes|o))!==0?0:u,u!==0&&u!==F.retryLane))throw F.retryLane=u,To(r,u),$n(S,r,u),j_;R.data==="$?"||Rg(),a=ug(r,a,o)}else R.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=F.treeContext,St=mr(R.nextSibling),_n=a,Xe=!0,ys=null,Pr=!1,r!==null&&(Jn[er++]=gi,Jn[er++]=pi,Jn[er++]=gs,gi=r.id,pi=r.overflow,gs=a),a=lg(a,u.children),a.flags|=4096);return a}return m?(ta(),m=u.fallback,R=a.mode,F=r.child,Y=F.sibling,u=mi(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,Y!==null?m=mi(Y,m):(m=ms(m,R,o,null),m.flags|=2),m.return=a,u.return=a,u.sibling=m,a.child=u,u=m,m=a.child,R=r.child.memoizedState,R===null?R=sg(o):(F=R.cachePool,F!==null?(Y=$t._currentValue,F=F.parent!==Y?{parent:Y,pool:Y}:F):F=kv(),R={baseLanes:R.baseLanes|o,cachePool:F}),m.memoizedState=R,m.childLanes=og(r,S,o),a.memoizedState=ag,u):(ea(a),o=r.child,r=o.sibling,o=mi(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(S=a.deletions,S===null?(a.deletions=[r],a.flags|=16):S.push(r)),a.child=o,a.memoizedState=null,o)}function lg(r,a){return a=Vd({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Vd(r,a){return r=jn(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function ug(r,a,o){return Po(a,r.child,null,o),r=lg(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function G_(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),Rm(r.return,a,o)}function cg(r,a,o,u,m){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=m)}function Y_(r,a,o){var u=a.pendingProps,m=u.revealOrder,p=u.tail;if(Jt(r,a,u.children,o),u=zt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&G_(r,o,a);else if(r.tag===19)G_(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(re(zt,u),m){case"forwards":for(o=a.child,m=null;o!==null;)r=o.alternate,r!==null&&Md(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=a.child,a.child=null):(m=o.sibling,o.sibling=null),cg(a,!1,m,o,p);break;case"backwards":for(o=null,m=a.child,a.child=null;m!==null;){if(r=m.alternate,r!==null&&Md(r)===null){a.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}cg(a,!0,o,null,p);break;case"together":cg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function wi(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),sa|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(ou(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=mi(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=mi(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function dg(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&vd(r)))}function vR(r,a,o){switch(a.tag){case 3:ce(a,a.stateNode.containerInfo),Qi(a,$t,r.memoizedState.cache),au();break;case 27:case 5:Pe(a);break;case 4:ce(a,a.stateNode.containerInfo);break;case 10:Qi(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ea(a),a.flags|=128,null):(o&a.child.childLanes)!==0?q_(r,a,o):(ea(a),r=wi(r,a,o),r!==null?r.sibling:null);ea(a);break;case 19:var m=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(ou(r,a,o,!1),u=(o&a.childLanes)!==0),m){if(u)return Y_(r,a,o);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),re(zt,zt.current),u)break;return null;case 22:case 23:return a.lanes=0,F_(r,a,o);case 24:Qi(a,$t,r.memoizedState.cache)}return wi(r,a,o)}function K_(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)Yt=!0;else{if(!dg(r,o)&&(a.flags&128)===0)return Yt=!1,vR(r,a,o);Yt=(r.flags&131072)!==0}else Yt=!1,Xe&&(a.flags&1048576)!==0&&Tv(a,yd,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,m=u._init;if(u=m(u._payload),a.type=u,typeof u=="function")bm(u)?(r=xs(u,r),a.tag=1,a=B_(null,a,u,r,o)):(a.tag=0,a=ig(null,a,u,r,o));else{if(u!=null){if(m=u.$$typeof,m===Z){a.tag=11,a=L_(null,a,u,r,o);break e}else if(m===O){a.tag=14,a=V_(null,a,u,r,o);break e}}throw a=Ee(u)||u,Error(i(306,a,""))}}return a;case 0:return ig(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,m=xs(u,a.pendingProps),B_(r,a,u,m,o);case 3:e:{if(ce(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;m=p.element,Mm(r,a),mu(a,u,null,o);var S=a.memoizedState;if(u=S.cache,Qi(a,$t,u),u!==p.cache&&Cm(a,[$t],o,!0),hu(),u=S.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=H_(r,a,u,o);break e}else if(u!==m){m=Xn(Error(i(424)),a),su(m),a=H_(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(St=mr(r.firstChild),_n=a,Xe=!0,ys=null,Pr=!0,o=A_(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(au(),u===m){a=wi(r,a,o);break e}Jt(r,a,u,o)}a=a.child}return a;case 26:return Ld(r,a),r===null?(o=Zb(a.type,null,a.pendingProps,null))?a.memoizedState=o:Xe||(o=a.type,r=a.pendingProps,u=Zd(xe.current).createElement(o),u[Vt]=a,u[kt]=r,tn(u,o,r),Rt(u),a.stateNode=u):a.memoizedState=Zb(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Pe(a),r===null&&Xe&&(u=a.stateNode=Qb(a.type,a.pendingProps,xe.current),_n=a,Pr=!0,m=St,ca(a.type)?(qg=m,St=mr(u.firstChild)):St=m),Jt(r,a,a.pendingProps.children,o),Ld(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Xe&&((m=u=St)&&(u=GR(u,a.type,a.pendingProps,Pr),u!==null?(a.stateNode=u,_n=a,St=mr(u.firstChild),Pr=!1,m=!0):m=!1),m||vs(a)),Pe(a),m=a.type,p=a.pendingProps,S=r!==null?r.memoizedProps:null,u=p.children,$g(m,p)?u=null:S!==null&&$g(m,S)&&(a.flags|=32),a.memoizedState!==null&&(m=Fm(r,a,cR,null,null,o),ju._currentValue=m),Ld(r,a),Jt(r,a,u,o),a.child;case 6:return r===null&&Xe&&((r=o=St)&&(o=YR(o,a.pendingProps,Pr),o!==null?(a.stateNode=o,_n=a,St=null,r=!0):r=!1),r||vs(a)),null;case 13:return q_(r,a,o);case 4:return ce(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=Po(a,null,u,o):Jt(r,a,u,o),a.child;case 11:return L_(r,a,a.type,a.pendingProps,o);case 7:return Jt(r,a,a.pendingProps,o),a.child;case 8:return Jt(r,a,a.pendingProps.children,o),a.child;case 12:return Jt(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,Qi(a,a.type,u.value),Jt(r,a,u.children,o),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,bs(a),m=ln(m),u=u(m),a.flags|=1,Jt(r,a,u,o),a.child;case 14:return V_(r,a,a.type,a.pendingProps,o);case 15:return U_(r,a,a.type,a.pendingProps,o);case 19:return Y_(r,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},r===null?(o=Vd(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=mi(r.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return F_(r,a,o);case 24:return bs(a),u=ln($t),r===null?(m=km(),m===null&&(m=ft,p=Nm(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=o),m=p),a.memoizedState={parent:u,cache:m},Om(a),Qi(a,$t,m)):((r.lanes&o)!==0&&(Mm(r,a),mu(a,null,null,o),hu()),m=r.memoizedState,p=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Qi(a,$t,u)):(u=p.cache,Qi(a,$t,u),u!==m.cache&&Cm(a,[$t],o,!0))),Jt(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ei(r){r.flags|=4}function Q_(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!rw(a)){if(a=tr.current,a!==null&&((Ye&4194048)===Ye?jr!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||a!==jr))throw du=Dm,Dv;r.flags|=8192}}function Ud(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Vl():536870912,r.lanes|=a,Uo|=a)}function wu(r,a){if(!Xe)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function wt(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function _R(r,a,o){var u=a.pendingProps;switch(Tm(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(a),null;case 1:return wt(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),vi($t),Re(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(iu(a)?Ei(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Rv())),wt(a),null;case 26:return o=a.memoizedState,r===null?(Ei(a),o!==null?(wt(a),Q_(a,o)):(wt(a),a.flags&=-16777217)):o?o!==r.memoizedState?(Ei(a),wt(a),Q_(a,o)):(wt(a),a.flags&=-16777217):(r.memoizedProps!==u&&Ei(a),wt(a),a.flags&=-16777217),null;case 27:pe(a),o=xe.current;var m=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Ei(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return wt(a),null}r=de.current,iu(a)?Sv(a):(r=Qb(m,u,o),a.stateNode=r,Ei(a))}return wt(a),null;case 5:if(pe(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Ei(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return wt(a),null}if(r=de.current,iu(a))Sv(a);else{switch(m=Zd(xe.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?m.createElement(o,{is:u.is}):m.createElement(o)}}r[Vt]=a,r[kt]=u;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=r;e:switch(tn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ei(a)}}return wt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&Ei(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=xe.current,iu(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,m=_n,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}r[Vt]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||zb(r.nodeValue,o)),r||vs(a)}else r=Zd(r).createTextNode(u),r[Vt]=a,a.stateNode=r}return wt(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=iu(a),u!==null&&u.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Vt]=a}else au(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;wt(a),m=!1}else m=Rv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(bi(a),a):(bi(a),null)}if(bi(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),Ud(a,a.updateQueue),wt(a),null;case 4:return Re(),r===null&&jg(a.stateNode.containerInfo),wt(a),null;case 10:return vi(a.type),wt(a),null;case 19:if(he(zt),m=a.memoizedState,m===null)return wt(a),null;if(u=(a.flags&128)!==0,p=m.rendering,p===null)if(u)wu(m,!1);else{if(At!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(p=Md(r),p!==null){for(a.flags|=128,wu(m,!1),r=p.updateQueue,a.updateQueue=r,Ud(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)xv(o,r),o=o.sibling;return re(zt,zt.current&1|2),a.child}r=r.sibling}m.tail!==null&&Sn()>zd&&(a.flags|=128,u=!0,wu(m,!1),a.lanes=4194304)}else{if(!u)if(r=Md(p),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,Ud(a,r),wu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!p.alternate&&!Xe)return wt(a),null}else 2*Sn()-m.renderingStartTime>zd&&o!==536870912&&(a.flags|=128,u=!0,wu(m,!1),a.lanes=4194304);m.isBackwards?(p.sibling=a.child,a.child=p):(r=m.last,r!==null?r.sibling=p:a.child=p,m.last=p)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Sn(),a.sibling=null,r=zt.current,re(zt,u?r&1|2:r&1),a):(wt(a),null);case 22:case 23:return bi(a),Vm(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(wt(a),a.subtreeFlags&6&&(a.flags|=8192)):wt(a),o=a.updateQueue,o!==null&&Ud(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&he(ws),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),vi($t),wt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function bR(r,a){switch(Tm(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return vi($t),Re(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return pe(a),null;case 13:if(bi(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));au()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return he(zt),null;case 4:return Re(),null;case 10:return vi(a.type),null;case 22:case 23:return bi(a),Vm(),r!==null&&he(ws),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return vi($t),null;case 25:return null;default:return null}}function W_(r,a){switch(Tm(a),a.tag){case 3:vi($t),Re();break;case 26:case 27:case 5:pe(a);break;case 4:Re();break;case 13:bi(a);break;case 19:he(zt);break;case 10:vi(a.type);break;case 22:case 23:bi(a),Vm(),r!==null&&he(ws);break;case 24:vi($t)}}function Eu(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&r)===r){u=void 0;var p=o.create,S=o.inst;u=p(),S.destroy=u}o=o.next}while(o!==m)}}catch(R){ct(a,a.return,R)}}function na(r,a,o){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&r)===r){var S=u.inst,R=S.destroy;if(R!==void 0){S.destroy=void 0,m=a;var F=o,Y=R;try{Y()}catch(te){ct(m,F,te)}}}u=u.next}while(u!==p)}}catch(te){ct(a,a.return,te)}}function X_(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{Vv(a,o)}catch(u){ct(r,r.return,u)}}}function Z_(r,a,o){o.props=xs(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ct(r,a,u)}}function xu(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(m){ct(r,a,m)}}function Lr(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){ct(r,a,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ct(r,a,m)}else o.current=null}function J_(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){ct(r,r.return,m)}}function fg(r,a,o){try{var u=r.stateNode;$R(u,r.type,o,a),u[kt]=a}catch(m){ct(r,r.return,m)}}function eb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ca(r.type)||r.tag===4}function hg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||eb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ca(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function mg(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Xd));else if(u!==4&&(u===27&&ca(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(mg(r,a,o),r=r.sibling;r!==null;)mg(r,a,o),r=r.sibling}function Fd(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&ca(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Fd(r,a,o),r=r.sibling;r!==null;)Fd(r,a,o),r=r.sibling}function tb(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);tn(a,u,o),a[Vt]=r,a[kt]=o}catch(p){ct(r,r.return,p)}}var xi=!1,Nt=!1,gg=!1,nb=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function wR(r,a){if(r=r.containerInfo,Ug=af,r=hv(r),hm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var S=0,R=-1,F=-1,Y=0,te=0,ae=r,Q=null;t:for(;;){for(var X;ae!==o||m!==0&&ae.nodeType!==3||(R=S+m),ae!==p||u!==0&&ae.nodeType!==3||(F=S+u),ae.nodeType===3&&(S+=ae.nodeValue.length),(X=ae.firstChild)!==null;)Q=ae,ae=X;for(;;){if(ae===r)break t;if(Q===o&&++Y===m&&(R=S),Q===p&&++te===u&&(F=S),(X=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=X}o=R===-1||F===-1?null:{start:R,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fg={focusedElem:r,selectionRange:o},af=!1,Kt=a;Kt!==null;)if(a=Kt,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,Kt=r;else for(;Kt!==null;){switch(a=Kt,p=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=a,m=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var Ie=xs(o.type,m,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ie,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ae){ct(o,o.return,Ae)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)Bg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Bg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Kt=r;break}Kt=a.return}}function rb(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ra(r,o),u&4&&Eu(5,o);break;case 1:if(ra(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(S){ct(o,o.return,S)}else{var m=xs(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(m,a,r.__reactInternalSnapshotBeforeUpdate)}catch(S){ct(o,o.return,S)}}u&64&&X_(o),u&512&&xu(o,o.return);break;case 3:if(ra(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{Vv(r,a)}catch(S){ct(o,o.return,S)}}break;case 27:a===null&&u&4&&tb(o);case 26:case 5:ra(r,o),a===null&&u&4&&J_(o),u&512&&xu(o,o.return);break;case 12:ra(r,o);break;case 13:ra(r,o),u&4&&sb(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=IR.bind(null,o),KR(r,o))));break;case 22:if(u=o.memoizedState!==null||xi,!u){a=a!==null&&a.memoizedState!==null||Nt,m=xi;var p=Nt;xi=u,(Nt=a)&&!p?ia(r,o,(o.subtreeFlags&8772)!==0):ra(r,o),xi=m,Nt=p}break;case 30:break;default:ra(r,o)}}function ib(r){var a=r.alternate;a!==null&&(r.alternate=null,ib(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&qi(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var yt=null,Rn=!1;function Ti(r,a,o){for(o=o.child;o!==null;)ab(r,a,o),o=o.sibling}function ab(r,a,o){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Tt,o)}catch{}switch(o.tag){case 26:Nt||Lr(o,a),Ti(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Nt||Lr(o,a);var u=yt,m=Rn;ca(o.type)&&(yt=o.stateNode,Rn=!1),Ti(r,a,o),Du(o.stateNode),yt=u,Rn=m;break;case 5:Nt||Lr(o,a);case 6:if(u=yt,m=Rn,yt=null,Ti(r,a,o),yt=u,Rn=m,yt!==null)if(Rn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(o.stateNode)}catch(p){ct(o,a,p)}else try{yt.removeChild(o.stateNode)}catch(p){ct(o,a,p)}break;case 18:yt!==null&&(Rn?(r=yt,Yb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Fu(r)):Yb(yt,o.stateNode));break;case 4:u=yt,m=Rn,yt=o.stateNode.containerInfo,Rn=!0,Ti(r,a,o),yt=u,Rn=m;break;case 0:case 11:case 14:case 15:Nt||na(2,o,a),Nt||na(4,o,a),Ti(r,a,o);break;case 1:Nt||(Lr(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Z_(o,a,u)),Ti(r,a,o);break;case 21:Ti(r,a,o);break;case 22:Nt=(u=Nt)||o.memoizedState!==null,Ti(r,a,o),Nt=u;break;default:Ti(r,a,o)}}function sb(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Fu(r)}catch(o){ct(a,a.return,o)}}function ER(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new nb),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new nb),a;default:throw Error(i(435,r.tag))}}function pg(r,a){var o=ER(r);a.forEach(function(u){var m=kR.bind(null,r,u);o.has(u)||(o.add(u),u.then(m,m))})}function Ln(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],p=r,S=a,R=S;e:for(;R!==null;){switch(R.tag){case 27:if(ca(R.type)){yt=R.stateNode,Rn=!1;break e}break;case 5:yt=R.stateNode,Rn=!1;break e;case 3:case 4:yt=R.stateNode.containerInfo,Rn=!0;break e}R=R.return}if(yt===null)throw Error(i(160));ab(p,S,m),yt=null,Rn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)ob(a,r),a=a.sibling}var hr=null;function ob(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ln(a,r),Vn(r),u&4&&(na(3,r,r.return),Eu(3,r),na(5,r,r.return));break;case 1:Ln(a,r),Vn(r),u&512&&(Nt||o===null||Lr(o,o.return)),u&64&&xi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=hr;if(Ln(a,r),Vn(r),u&512&&(Nt||o===null||Lr(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Za]||p[Vt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),tn(p,u,o),p[Vt]=r,Rt(p),u=p;break e;case"link":var S=tw("link","href",m).get(u+(o.href||""));if(S){for(var R=0;R<S.length;R++)if(p=S[R],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(R,1);break t}}p=m.createElement(u),tn(p,u,o),m.head.appendChild(p);break;case"meta":if(S=tw("meta","content",m).get(u+(o.content||""))){for(R=0;R<S.length;R++)if(p=S[R],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(R,1);break t}}p=m.createElement(u),tn(p,u,o),m.head.appendChild(p);break;default:throw Error(i(468,u))}p[Vt]=r,Rt(p),u=p}r.stateNode=u}else nw(m,r.type,r.stateNode);else r.stateNode=ew(m,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?nw(m,r.type,r.stateNode):ew(m,u,r.memoizedProps)):u===null&&r.stateNode!==null&&fg(r,r.memoizedProps,o.memoizedProps)}break;case 27:Ln(a,r),Vn(r),u&512&&(Nt||o===null||Lr(o,o.return)),o!==null&&u&4&&fg(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Ln(a,r),Vn(r),u&512&&(Nt||o===null||Lr(o,o.return)),r.flags&32){m=r.stateNode;try{Yn(m,"")}catch(X){ct(r,r.return,X)}}u&4&&r.stateNode!=null&&(m=r.memoizedProps,fg(r,m,o!==null?o.memoizedProps:m)),u&1024&&(gg=!0);break;case 6:if(Ln(a,r),Vn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(X){ct(r,r.return,X)}}break;case 3:if(tf=null,m=hr,hr=Jd(a.containerInfo),Ln(a,r),hr=m,Vn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Fu(a.containerInfo)}catch(X){ct(r,r.return,X)}gg&&(gg=!1,lb(r));break;case 4:u=hr,hr=Jd(r.stateNode.containerInfo),Ln(a,r),Vn(r),hr=u;break;case 12:Ln(a,r),Vn(r);break;case 13:Ln(a,r),Vn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Eg=Sn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,pg(r,u)));break;case 22:m=r.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,Y=xi,te=Nt;if(xi=Y||m,Nt=te||F,Ln(a,r),Nt=te,xi=Y,Vn(r),u&8192)e:for(a=r.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(o===null||F||xi||Nt||Ts(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){F=o=a;try{if(p=F.stateNode,m)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{R=F.stateNode;var ae=F.memoizedProps.style,Q=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;R.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(X){ct(F,F.return,X)}}}else if(a.tag===6){if(o===null){F=a;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch(X){ct(F,F.return,X)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,pg(r,o))));break;case 19:Ln(a,r),Vn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,pg(r,u)));break;case 30:break;case 21:break;default:Ln(a,r),Vn(r)}}function Vn(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(eb(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,p=hg(r);Fd(r,p,m);break;case 5:var S=o.stateNode;o.flags&32&&(Yn(S,""),o.flags&=-33);var R=hg(r);Fd(r,R,S);break;case 3:case 4:var F=o.stateNode.containerInfo,Y=hg(r);mg(r,Y,F);break;default:throw Error(i(161))}}catch(te){ct(r,r.return,te)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function lb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;lb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function ra(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)rb(r,a.alternate,a),a=a.sibling}function Ts(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:na(4,a,a.return),Ts(a);break;case 1:Lr(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&Z_(a,a.return,o),Ts(a);break;case 27:Du(a.stateNode);case 26:case 5:Lr(a,a.return),Ts(a);break;case 22:a.memoizedState===null&&Ts(a);break;case 30:Ts(a);break;default:Ts(a)}r=r.sibling}}function ia(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=r,p=a,S=p.flags;switch(p.tag){case 0:case 11:case 15:ia(m,p,o),Eu(4,p);break;case 1:if(ia(m,p,o),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){ct(u,u.return,Y)}if(u=p,m=u.updateQueue,m!==null){var R=u.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)Lv(F[m],R)}catch(Y){ct(u,u.return,Y)}}o&&S&64&&X_(p),xu(p,p.return);break;case 27:tb(p);case 26:case 5:ia(m,p,o),o&&u===null&&S&4&&J_(p),xu(p,p.return);break;case 12:ia(m,p,o);break;case 13:ia(m,p,o),o&&S&4&&sb(m,p);break;case 22:p.memoizedState===null&&ia(m,p,o),xu(p,p.return);break;case 30:break;default:ia(m,p,o)}a=a.sibling}}function yg(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&lu(o))}function vg(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&lu(r))}function Vr(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ub(r,a,o,u),a=a.sibling}function ub(r,a,o,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Vr(r,a,o,u),m&2048&&Eu(9,a);break;case 1:Vr(r,a,o,u);break;case 3:Vr(r,a,o,u),m&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&lu(r)));break;case 12:if(m&2048){Vr(r,a,o,u),r=a.stateNode;try{var p=a.memoizedProps,S=p.id,R=p.onPostCommit;typeof R=="function"&&R(S,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){ct(a,a.return,F)}}else Vr(r,a,o,u);break;case 13:Vr(r,a,o,u);break;case 23:break;case 22:p=a.stateNode,S=a.alternate,a.memoizedState!==null?p._visibility&2?Vr(r,a,o,u):Tu(r,a):p._visibility&2?Vr(r,a,o,u):(p._visibility|=2,jo(r,a,o,u,(a.subtreeFlags&10256)!==0)),m&2048&&yg(S,a);break;case 24:Vr(r,a,o,u),m&2048&&vg(a.alternate,a);break;default:Vr(r,a,o,u)}}function jo(r,a,o,u,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=r,S=a,R=o,F=u,Y=S.flags;switch(S.tag){case 0:case 11:case 15:jo(p,S,R,F,m),Eu(8,S);break;case 23:break;case 22:var te=S.stateNode;S.memoizedState!==null?te._visibility&2?jo(p,S,R,F,m):Tu(p,S):(te._visibility|=2,jo(p,S,R,F,m)),m&&Y&2048&&yg(S.alternate,S);break;case 24:jo(p,S,R,F,m),m&&Y&2048&&vg(S.alternate,S);break;default:jo(p,S,R,F,m)}a=a.sibling}}function Tu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,m=u.flags;switch(u.tag){case 22:Tu(o,u),m&2048&&yg(u.alternate,u);break;case 24:Tu(o,u),m&2048&&vg(u.alternate,u);break;default:Tu(o,u)}a=a.sibling}}var Su=8192;function Lo(r){if(r.subtreeFlags&Su)for(r=r.child;r!==null;)cb(r),r=r.sibling}function cb(r){switch(r.tag){case 26:Lo(r),r.flags&Su&&r.memoizedState!==null&&o2(hr,r.memoizedState,r.memoizedProps);break;case 5:Lo(r);break;case 3:case 4:var a=hr;hr=Jd(r.stateNode.containerInfo),Lo(r),hr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Su,Su=16777216,Lo(r),Su=a):Lo(r));break;default:Lo(r)}}function db(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Au(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];Kt=u,hb(u,r)}db(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)fb(r),r=r.sibling}function fb(r){switch(r.tag){case 0:case 11:case 15:Au(r),r.flags&2048&&na(9,r,r.return);break;case 3:Au(r);break;case 12:Au(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,$d(r)):Au(r);break;default:Au(r)}}function $d(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];Kt=u,hb(u,r)}db(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:na(8,a,a.return),$d(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,$d(a));break;default:$d(a)}r=r.sibling}}function hb(r,a){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:na(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:lu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Kt=u;else e:for(o=r;Kt!==null;){u=Kt;var m=u.sibling,p=u.return;if(ib(u),u===o){Kt=null;break e}if(m!==null){m.return=p,Kt=m;break e}Kt=p}}}var xR={getCacheForType:function(r){var a=ln($t),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},TR=typeof WeakMap=="function"?WeakMap:Map,rt=0,ft=null,$e=null,Ye=0,it=0,Un=null,aa=!1,Vo=!1,_g=!1,Si=0,At=0,sa=0,Ss=0,bg=0,nr=0,Uo=0,Ru=null,Cn=null,wg=!1,Eg=0,zd=1/0,Bd=null,oa=null,en=0,la=null,Fo=null,$o=0,xg=0,Tg=null,mb=null,Cu=0,Sg=null;function Fn(){if((rt&2)!==0&&Ye!==0)return Ye&-Ye;if(K.T!==null){var r=Co;return r!==0?r:Dg()}return Bi()}function gb(){nr===0&&(nr=(Ye&536870912)===0||Xe?Ll():536870912);var r=tr.current;return r!==null&&(r.flags|=32),nr}function $n(r,a,o){(r===ft&&(it===2||it===9)||r.cancelPendingCommit!==null)&&(zo(r,0),ua(r,Ye,nr,!1)),ri(r,o),((rt&2)===0||r!==ft)&&(r===ft&&((rt&2)===0&&(Ss|=o),At===4&&ua(r,Ye,nr,!1)),Ur(r))}function pb(r,a,o){if((rt&6)!==0)throw Error(i(327));var u=!o&&(a&124)===0&&(a&r.expiredLanes)===0||Xa(r,a),m=u?RR(r,a):Cg(r,a,!0),p=u;do{if(m===0){Vo&&!u&&ua(r,a,0,!1);break}else{if(o=r.current.alternate,p&&!SR(o)){m=Cg(r,a,!1),p=!1;continue}if(m===2){if(p=a,r.errorRecoveryDisabledLanes&p)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var R=r;m=Ru;var F=R.current.memoizedState.isDehydrated;if(F&&(zo(R,S).flags|=256),S=Cg(R,S,!1),S!==2){if(_g&&!F){R.errorRecoveryDisabledLanes|=p,Ss|=p,m=4;break e}p=Cn,Cn=m,p!==null&&(Cn===null?Cn=p:Cn.push.apply(Cn,p))}m=S}if(p=!1,m!==2)continue}}if(m===1){zo(r,0),ua(r,a,0,!0);break}e:{switch(u=r,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ua(u,a,nr,!aa);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=Eg+300-Sn(),10<m)){if(ua(u,a,nr,!aa),io(u,0,!0)!==0)break e;u.timeoutHandle=qb(yb.bind(null,u,o,Cn,Bd,wg,a,nr,Ss,Uo,aa,p,2,-0,0),m);break e}yb(u,o,Cn,Bd,wg,a,nr,Ss,Uo,aa,p,0,-0,0)}}break}while(!0);Ur(r)}function yb(r,a,o,u,m,p,S,R,F,Y,te,ae,Q,X){if(r.timeoutHandle=-1,ae=a.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Pu={stylesheets:null,count:0,unsuspend:s2},cb(a),ae=l2(),ae!==null)){r.cancelPendingCommit=ae(Tb.bind(null,r,a,p,o,u,m,S,R,F,te,1,Q,X)),ua(r,p,S,!Y);return}Tb(r,a,p,o,u,m,S,R,F)}function SR(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],p=m.getSnapshot;m=m.value;try{if(!Pn(p(),m))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ua(r,a,o,u){a&=~bg,a&=~Ss,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var m=a;0<m;){var p=31-on(m),S=1<<p;u[p]=-1,m&=~S}o!==0&&Tr(r,o,a)}function Hd(){return(rt&6)===0?(Nu(0),!1):!0}function Ag(){if($e!==null){if(it===0)var r=$e.return;else r=$e,yi=_s=null,Bm(r),Mo=null,_u=0,r=$e;for(;r!==null;)W_(r.alternate,r),r=r.return;$e=null}}function zo(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,BR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Ag(),ft=r,$e=o=mi(r.current,null),Ye=a,it=0,Un=null,aa=!1,Vo=Xa(r,a),_g=!1,Uo=nr=bg=Ss=sa=At=0,Cn=Ru=null,wg=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var m=31-on(u),p=1<<m;a|=r[m],u&=~p}return Si=a,fd(),o}function vb(r,a){Le=null,K.H=kd,a===cu||a===wd?(a=Pv(),it=3):a===Dv?(a=Pv(),it=4):it=a===j_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Un=a,$e===null&&(At=1,jd(r,Xn(a,r.current)))}function _b(){var r=K.H;return K.H=kd,r===null?kd:r}function bb(){var r=K.A;return K.A=xR,r}function Rg(){At=4,aa||(Ye&4194048)!==Ye&&tr.current!==null||(Vo=!0),(sa&134217727)===0&&(Ss&134217727)===0||ft===null||ua(ft,Ye,nr,!1)}function Cg(r,a,o){var u=rt;rt|=2;var m=_b(),p=bb();(ft!==r||Ye!==a)&&(Bd=null,zo(r,a)),a=!1;var S=At;e:do try{if(it!==0&&$e!==null){var R=$e,F=Un;switch(it){case 8:Ag(),S=6;break e;case 3:case 2:case 9:case 6:tr.current===null&&(a=!0);var Y=it;if(it=0,Un=null,Bo(r,R,F,Y),o&&Vo){S=0;break e}break;default:Y=it,it=0,Un=null,Bo(r,R,F,Y)}}AR(),S=At;break}catch(te){vb(r,te)}while(!0);return a&&r.shellSuspendCounter++,yi=_s=null,rt=u,K.H=m,K.A=p,$e===null&&(ft=null,Ye=0,fd()),S}function AR(){for(;$e!==null;)wb($e)}function RR(r,a){var o=rt;rt|=2;var u=_b(),m=bb();ft!==r||Ye!==a?(Bd=null,zd=Sn()+500,zo(r,a)):Vo=Xa(r,a);e:do try{if(it!==0&&$e!==null){a=$e;var p=Un;t:switch(it){case 1:it=0,Un=null,Bo(r,a,p,1);break;case 2:case 9:if(Ov(p)){it=0,Un=null,Eb(a);break}a=function(){it!==2&&it!==9||ft!==r||(it=7),Ur(r)},p.then(a,a);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Ov(p)?(it=0,Un=null,Eb(a)):(it=0,Un=null,Bo(r,a,p,7));break;case 5:var S=null;switch($e.tag){case 26:S=$e.memoizedState;case 5:case 27:var R=$e;if(!S||rw(S)){it=0,Un=null;var F=R.sibling;if(F!==null)$e=F;else{var Y=R.return;Y!==null?($e=Y,qd(Y)):$e=null}break t}}it=0,Un=null,Bo(r,a,p,5);break;case 6:it=0,Un=null,Bo(r,a,p,6);break;case 8:Ag(),At=6;break e;default:throw Error(i(462))}}CR();break}catch(te){vb(r,te)}while(!0);return yi=_s=null,K.H=u,K.A=m,rt=o,$e!==null?0:(ft=null,Ye=0,fd(),At)}function CR(){for(;$e!==null&&!Dn();)wb($e)}function wb(r){var a=K_(r.alternate,r,Si);r.memoizedProps=r.pendingProps,a===null?qd(r):$e=a}function Eb(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=z_(o,a,a.pendingProps,a.type,void 0,Ye);break;case 11:a=z_(o,a,a.pendingProps,a.type.render,a.ref,Ye);break;case 5:Bm(a);default:W_(o,a),a=$e=xv(a,Si),a=K_(o,a,Si)}r.memoizedProps=r.pendingProps,a===null?qd(r):$e=a}function Bo(r,a,o,u){yi=_s=null,Bm(a),Mo=null,_u=0;var m=a.return;try{if(yR(r,m,a,o,Ye)){At=1,jd(r,Xn(o,r.current)),$e=null;return}}catch(p){if(m!==null)throw $e=m,p;At=1,jd(r,Xn(o,r.current)),$e=null;return}a.flags&32768?(Xe||u===1?r=!0:Vo||(Ye&536870912)!==0?r=!1:(aa=r=!0,(u===2||u===9||u===3||u===6)&&(u=tr.current,u!==null&&u.tag===13&&(u.flags|=16384))),xb(a,r)):qd(a)}function qd(r){var a=r;do{if((a.flags&32768)!==0){xb(a,aa);return}r=a.return;var o=_R(a.alternate,a,Si);if(o!==null){$e=o;return}if(a=a.sibling,a!==null){$e=a;return}$e=a=r}while(a!==null);At===0&&(At=5)}function xb(r,a){do{var o=bR(r.alternate,r);if(o!==null){o.flags&=32767,$e=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){$e=r;return}$e=r=o}while(r!==null);At=6,$e=null}function Tb(r,a,o,u,m,p,S,R,F){r.cancelPendingCommit=null;do Gd();while(en!==0);if((rt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=vm,Ul(r,o,p,S,R,F),r===ft&&($e=ft=null,Ye=0),Fo=a,la=r,$o=o,xg=p,Tg=m,mb=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,DR(Ya,function(){return Nb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,m=le.p,le.p=2,S=rt,rt|=4;try{wR(r,a,o)}finally{rt=S,le.p=m,K.T=u}}en=1,Sb(),Ab(),Rb()}}function Sb(){if(en===1){en=0;var r=la,a=Fo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var u=le.p;le.p=2;var m=rt;rt|=4;try{ob(a,r);var p=Fg,S=hv(r.containerInfo),R=p.focusedElem,F=p.selectionRange;if(S!==R&&R&&R.ownerDocument&&fv(R.ownerDocument.documentElement,R)){if(F!==null&&hm(R)){var Y=F.start,te=F.end;if(te===void 0&&(te=Y),"selectionStart"in R)R.selectionStart=Y,R.selectionEnd=Math.min(te,R.value.length);else{var ae=R.ownerDocument||document,Q=ae&&ae.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),Ie=R.textContent.length,Ae=Math.min(F.start,Ie),ut=F.end===void 0?Ae:Math.min(F.end,Ie);!X.extend&&Ae>ut&&(S=ut,ut=Ae,Ae=S);var B=dv(R,Ae),z=dv(R,ut);if(B&&z&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var G=ae.createRange();G.setStart(B.node,B.offset),X.removeAllRanges(),Ae>ut?(X.addRange(G),X.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),X.addRange(G))}}}}for(ae=[],X=R;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ae.length;R++){var ne=ae[R];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}af=!!Ug,Fg=Ug=null}finally{rt=m,le.p=u,K.T=o}}r.current=a,en=2}}function Ab(){if(en===2){en=0;var r=la,a=Fo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var u=le.p;le.p=2;var m=rt;rt|=4;try{rb(r,a.alternate,a)}finally{rt=m,le.p=u,K.T=o}}en=3}}function Rb(){if(en===4||en===3){en=0,ti();var r=la,a=Fo,o=$o,u=mb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?en=5:(en=0,Fo=la=null,Cb(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(oa=null),ao(o),a=a.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Tt,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=K.T,m=le.p,le.p=2,K.T=null;try{for(var p=r.onRecoverableError,S=0;S<u.length;S++){var R=u[S];p(R.value,{componentStack:R.stack})}}finally{K.T=a,le.p=m}}($o&3)!==0&&Gd(),Ur(r),m=r.pendingLanes,(o&4194090)!==0&&(m&42)!==0?r===Sg?Cu++:(Cu=0,Sg=r):Cu=0,Nu(0)}}function Cb(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,lu(a)))}function Gd(r){return Sb(),Ab(),Rb(),Nb()}function Nb(){if(en!==5)return!1;var r=la,a=xg;xg=0;var o=ao($o),u=K.T,m=le.p;try{le.p=32>o?32:o,K.T=null,o=Tg,Tg=null;var p=la,S=$o;if(en=0,Fo=la=null,$o=0,(rt&6)!==0)throw Error(i(331));var R=rt;if(rt|=4,fb(p.current),ub(p,p.current,S,o),rt=R,Nu(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Tt,p)}catch{}return!0}finally{le.p=m,K.T=u,Cb(r,a)}}function Ib(r,a,o){a=Xn(o,a),a=rg(r.stateNode,a,2),r=Zi(r,a,2),r!==null&&(ri(r,2),Ur(r))}function ct(r,a,o){if(r.tag===3)Ib(r,r,o);else for(;a!==null;){if(a.tag===3){Ib(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(oa===null||!oa.has(u))){r=Xn(o,r),o=M_(2),u=Zi(a,o,2),u!==null&&(P_(o,u,a,r),ri(u,2),Ur(u));break}}a=a.return}}function Ng(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new TR;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(o)||(_g=!0,m.add(o),r=NR.bind(null,r,a,o),a.then(r,r))}function NR(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ft===r&&(Ye&o)===o&&(At===4||At===3&&(Ye&62914560)===Ye&&300>Sn()-Eg?(rt&2)===0&&zo(r,0):bg|=o,Uo===Ye&&(Uo=0)),Ur(r)}function kb(r,a){a===0&&(a=Vl()),r=To(r,a),r!==null&&(ri(r,a),Ur(r))}function IR(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),kb(r,o)}function kR(r,a){var o=0;switch(r.tag){case 13:var u=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),kb(r,o)}function DR(r,a){return Ze(r,a)}var Yd=null,Ho=null,Ig=!1,Kd=!1,kg=!1,As=0;function Ur(r){r!==Ho&&r.next===null&&(Ho===null?Yd=Ho=r:Ho=Ho.next=r),Kd=!0,Ig||(Ig=!0,MR())}function Nu(r,a){if(!kg&&Kd){kg=!0;do for(var o=!1,u=Yd;u!==null;){if(r!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var S=u.suspendedLanes,R=u.pingedLanes;p=(1<<31-on(42|r)+1)-1,p&=m&~(S&~R),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Pb(u,p))}else p=Ye,p=io(u,u===ft?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Xa(u,p)||(o=!0,Pb(u,p));u=u.next}while(o);kg=!1}}function OR(){Db()}function Db(){Kd=Ig=!1;var r=0;As!==0&&(zR()&&(r=As),As=0);for(var a=Sn(),o=null,u=Yd;u!==null;){var m=u.next,p=Ob(u,a);p===0?(u.next=null,o===null?Yd=m:o.next=m,m===null&&(Ho=o)):(o=u,(r!==0||(p&3)!==0)&&(Kd=!0)),u=m}Nu(r)}function Ob(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,m=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var S=31-on(p),R=1<<S,F=m[S];F===-1?((R&o)===0||(R&u)!==0)&&(m[S]=jl(R,a)):F<=a&&(r.expiredLanes|=R),p&=~R}if(a=ft,o=Ye,o=io(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(it===2||it===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&gt(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Xa(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&gt(u),ao(o)){case 2:case 8:o=no;break;case 32:o=Ya;break;case 268435456:o=ro;break;default:o=Ya}return u=Mb.bind(null,r),o=Ze(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&gt(u),r.callbackPriority=2,r.callbackNode=null,2}function Mb(r,a){if(en!==0&&en!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Gd()&&r.callbackNode!==o)return null;var u=Ye;return u=io(r,r===ft?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(pb(r,u,a),Ob(r,Sn()),r.callbackNode!=null&&r.callbackNode===o?Mb.bind(null,r):null)}function Pb(r,a){if(Gd())return null;pb(r,a,!0)}function MR(){HR(function(){(rt&6)!==0?Ze(Ml,OR):Db()})}function Dg(){return As===0&&(As=Ll()),As}function jb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:fo(""+r)}function Lb(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function PR(r,a,o,u,m){if(a==="submit"&&o&&o.stateNode===m){var p=jb((m[kt]||null).action),S=u.submitter;S&&(a=(a=S[kt]||null)?jb(a.formAction):S.getAttribute("formAction"),a!==null&&(p=a,S=null));var R=new ho("action","action",null,u,m);r.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(As!==0){var F=S?Lb(m,S):new FormData(m);Zm(o,{pending:!0,data:F,method:m.method,action:p},null,F)}}else typeof p=="function"&&(R.preventDefault(),F=S?Lb(m,S):new FormData(m),Zm(o,{pending:!0,data:F,method:m.method,action:p},p,F))},currentTarget:m}]})}}for(var Og=0;Og<ym.length;Og++){var Mg=ym[Og],jR=Mg.toLowerCase(),LR=Mg[0].toUpperCase()+Mg.slice(1);fr(jR,"on"+LR)}fr(pv,"onAnimationEnd"),fr(yv,"onAnimationIteration"),fr(vv,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(eR,"onTransitionRun"),fr(tR,"onTransitionStart"),fr(nR,"onTransitionCancel"),fr(_v,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function Vb(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],m=u.event;u=u.listeners;e:{var p=void 0;if(a)for(var S=u.length-1;0<=S;S--){var R=u[S],F=R.instance,Y=R.currentTarget;if(R=R.listener,F!==p&&m.isPropagationStopped())break e;p=R,m.currentTarget=Y;try{p(m)}catch(te){Pd(te)}m.currentTarget=null,p=F}else for(S=0;S<u.length;S++){if(R=u[S],F=R.instance,Y=R.currentTarget,R=R.listener,F!==p&&m.isPropagationStopped())break e;p=R,m.currentTarget=Y;try{p(m)}catch(te){Pd(te)}m.currentTarget=null,p=F}}}}function ze(r,a){var o=a[$l];o===void 0&&(o=a[$l]=new Set);var u=r+"__bubble";o.has(u)||(Ub(a,r,2,!1),o.add(u))}function Pg(r,a,o){var u=0;a&&(u|=4),Ub(o,r,u,a)}var Qd="_reactListening"+Math.random().toString(36).slice(2);function jg(r){if(!r[Qd]){r[Qd]=!0,zl.forEach(function(o){o!=="selectionchange"&&(VR.has(o)||Pg(o,!1,r),Pg(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Qd]||(a[Qd]=!0,Pg("selectionchange",!1,a))}}function Ub(r,a,o,u){switch(uw(a)){case 2:var m=d2;break;case 8:m=f2;break;default:m=Wg}o=m.bind(null,a,o,r),m=void 0,!Qn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?r.addEventListener(a,o,{capture:!0,passive:m}):r.addEventListener(a,o,!0):m!==void 0?r.addEventListener(a,o,{passive:m}):r.addEventListener(a,o,!1)}function Lg(r,a,o,u,m){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var R=u.stateNode.containerInfo;if(R===m)break;if(S===4)for(S=u.return;S!==null;){var F=S.tag;if((F===3||F===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;R!==null;){if(S=ii(R),S===null)return;if(F=S.tag,F===5||F===6||F===26||F===27){u=p=S;continue e}R=R.parentNode}}u=u.return}Xc(function(){var Y=p,te=Kn(o),ae=[];e:{var Q=bv.get(r);if(Q!==void 0){var X=ho,Ie=r;switch(r){case"keypress":if(Ir(o)===0)break e;case"keydown":case"keyup":X=_o;break;case"focusin":Ie="focus",X=po;break;case"focusout":Ie="blur",X=po;break;case"beforeblur":case"afterblur":X=po;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=ad;break;case pv:case yv:case vv:X=yo;break;case _v:X=od;break;case"scroll":case"scrollend":X=Zc;break;case"wheel":X=bo;break;case"copy":case"cut":case"paste":X=vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=eu;break;case"toggle":case"beforetoggle":X=ud}var Ae=(a&4)!==0,ut=!Ae&&(r==="scroll"||r==="scrollend"),B=Ae?Q!==null?Q+"Capture":null:Q;Ae=[];for(var z=Y,G;z!==null;){var ne=z;if(G=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||G===null||B===null||(ne=as(z,B),ne!=null&&Ae.push(ku(z,ne,G))),ut)break;z=z.return}0<Ae.length&&(Q=new X(Q,Ie,null,o,te),ae.push({event:Q,listeners:Ae}))}}if((a&7)===0){e:{if(Q=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",Q&&o!==li&&(Ie=o.relatedTarget||o.fromElement)&&(ii(Ie)||Ie[Gn]))break e;if((X||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(Ie=o.relatedTarget||o.toElement,X=Y,Ie=Ie?ii(Ie):null,Ie!==null&&(ut=l(Ie),Ae=Ie.tag,Ie!==ut||Ae!==5&&Ae!==27&&Ae!==6)&&(Ie=null)):(X=null,Ie=Y),X!==Ie)){if(Ae=Wn,ne="onMouseLeave",B="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Ae=eu,ne="onPointerLeave",B="onPointerEnter",z="pointer"),ut=X==null?Q:Ar(X),G=Ie==null?Q:Ar(Ie),Q=new Ae(ne,z+"leave",X,o,te),Q.target=ut,Q.relatedTarget=G,ne=null,ii(te)===Y&&(Ae=new Ae(B,z+"enter",Ie,o,te),Ae.target=G,Ae.relatedTarget=ut,ne=Ae),ut=ne,X&&Ie)t:{for(Ae=X,B=Ie,z=0,G=Ae;G;G=qo(G))z++;for(G=0,ne=B;ne;ne=qo(ne))G++;for(;0<z-G;)Ae=qo(Ae),z--;for(;0<G-z;)B=qo(B),G--;for(;z--;){if(Ae===B||B!==null&&Ae===B.alternate)break t;Ae=qo(Ae),B=qo(B)}Ae=null}else Ae=null;X!==null&&Fb(ae,Q,X,Ae,!1),Ie!==null&&ut!==null&&Fb(ae,ut,Ie,Ae,!0)}}e:{if(Q=Y?Ar(Y):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var _e=av;else if(Ft(Q))if(sv)_e=XA;else{_e=QA;var Ue=KA}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&Yl(Y.elementType)&&(_e=av):_e=WA;if(_e&&(_e=_e(r,Y))){hi(ae,_e,o,te);break e}Ue&&Ue(r,Q,Y),r==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Yi(Q,"number",Q.value)}switch(Ue=Y?Ar(Y):window,r){case"focusin":(Ft(Ue)||Ue.contentEditable==="true")&&(wo=Ue,mm=Y,ru=null);break;case"focusout":ru=mm=wo=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,mv(ae,o,te);break;case"selectionchange":if(JA)break;case"keydown":case"keyup":mv(ae,o,te)}var Te;if(Or)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else qe?J(r,o)&&(Ce="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(x&&o.locale!=="ko"&&(qe||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&qe&&(Te=Ql()):(Nr=te,Ki="value"in Nr?Nr.value:Nr.textContent,qe=!0)),Ue=Wd(Y,Ce),0<Ue.length&&(Ce=new Zl(Ce,r,null,o,te),ae.push({event:Ce,listeners:Ue}),Te?Ce.data=Te:(Te=me(o),Te!==null&&(Ce.data=Te)))),(Te=_?Ut(r,o):Ge(r,o))&&(Ce=Wd(Y,"onBeforeInput"),0<Ce.length&&(Ue=new Zl("onBeforeInput","beforeinput",null,o,te),ae.push({event:Ue,listeners:Ce}),Ue.data=Te)),PR(ae,r,Y,o,te)}Vb(ae,a)})}function ku(r,a,o){return{instance:r,listener:a,currentTarget:o}}function Wd(r,a){for(var o=a+"Capture",u=[];r!==null;){var m=r,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=as(r,o),m!=null&&u.unshift(ku(r,m,p)),m=as(r,a),m!=null&&u.push(ku(r,m,p))),r.tag===3)return u;r=r.return}return[]}function qo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Fb(r,a,o,u,m){for(var p=a._reactName,S=[];o!==null&&o!==u;){var R=o,F=R.alternate,Y=R.stateNode;if(R=R.tag,F!==null&&F===u)break;R!==5&&R!==26&&R!==27||Y===null||(F=Y,m?(Y=as(o,p),Y!=null&&S.unshift(ku(o,Y,F))):m||(Y=as(o,p),Y!=null&&S.push(ku(o,Y,F)))),o=o.return}S.length!==0&&r.push({event:a,listeners:S})}var UR=/\r\n?/g,FR=/\u0000|\uFFFD/g;function $b(r){return(typeof r=="string"?r:""+r).replace(UR,`
`).replace(FR,"")}function zb(r,a){return a=$b(a),$b(r)===a}function Xd(){}function lt(r,a,o,u,m,p){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Yn(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Yn(r,""+u);break;case"className":Rr(r,"class",u);break;case"tabIndex":Rr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(r,o,u);break;case"style":Gl(r,u,p);break;case"data":if(a!=="object"){Rr(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=fo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&lt(r,a,"name",m.name,m,null),lt(r,a,"formEncType",m.formEncType,m,null),lt(r,a,"formMethod",m.formMethod,m,null),lt(r,a,"formTarget",m.formTarget,m,null)):(lt(r,a,"encType",m.encType,m,null),lt(r,a,"method",m.method,m,null),lt(r,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=fo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Xd);break;case"onScroll":u!=null&&ze("scroll",r);break;case"onScrollEnd":u!=null&&ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=fo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":ze("beforetoggle",r),ze("toggle",r),Gi(r,"popover",u);break;case"xlinkActuate":Xt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Xt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Xt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Xt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Xt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Xt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Xt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Xt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Xt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=om.get(o)||o,Gi(r,o,u))}}function Vg(r,a,o,u,m,p){switch(o){case"style":Gl(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Yn(r,u):(typeof u=="number"||typeof u=="bigint")&&Yn(r,""+u);break;case"onScroll":u!=null&&ze("scroll",r);break;case"onScrollEnd":u!=null&&ze("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Xd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!so.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),a=o.slice(2,m?o.length-7:void 0),p=r[kt]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(a,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,m);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Gi(r,o,u)}}}function tn(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",r),ze("load",r);var u=!1,m=!1,p;for(p in o)if(o.hasOwnProperty(p)){var S=o[p];if(S!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:lt(r,a,p,S,o,null)}}m&&lt(r,a,"srcSet",o.srcSet,o,null),u&&lt(r,a,"src",o.src,o,null);return;case"input":ze("invalid",r);var R=p=S=m=null,F=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":m=te;break;case"type":S=te;break;case"checked":F=te;break;case"defaultChecked":Y=te;break;case"value":p=te;break;case"defaultValue":R=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:lt(r,a,u,te,o,null)}}ns(r,p,R,F,Y,S,m,!1),co(r);return;case"select":ze("invalid",r),u=S=p=null;for(m in o)if(o.hasOwnProperty(m)&&(R=o[m],R!=null))switch(m){case"value":p=R;break;case"defaultValue":S=R;break;case"multiple":u=R;default:lt(r,a,m,R,o,null)}a=p,o=S,r.multiple=!!u,a!=null?oi(r,!!u,a,!1):o!=null&&oi(r,!!u,o,!0);return;case"textarea":ze("invalid",r),p=m=u=null;for(S in o)if(o.hasOwnProperty(S)&&(R=o[S],R!=null))switch(S){case"value":u=R;break;case"defaultValue":m=R;break;case"children":p=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:lt(r,a,S,R,o,null)}rs(r,u,m,p),co(r);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:lt(r,a,F,u,o,null)}return;case"dialog":ze("beforetoggle",r),ze("toggle",r),ze("cancel",r),ze("close",r);break;case"iframe":case"object":ze("load",r);break;case"video":case"audio":for(u=0;u<Iu.length;u++)ze(Iu[u],r);break;case"image":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"embed":case"source":case"link":ze("error",r),ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:lt(r,a,Y,u,o,null)}return;default:if(Yl(a)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&Vg(r,a,te,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&lt(r,a,R,u,o,null))}function $R(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,S=null,R=null,F=null,Y=null,te=null;for(X in o){var ae=o[X];if(o.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":F=ae;default:u.hasOwnProperty(X)||lt(r,a,X,null,u,ae)}}for(var Q in u){var X=u[Q];if(ae=o[Q],u.hasOwnProperty(Q)&&(X!=null||ae!=null))switch(Q){case"type":p=X;break;case"name":m=X;break;case"checked":Y=X;break;case"defaultChecked":te=X;break;case"value":S=X;break;case"defaultValue":R=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:X!==ae&&lt(r,a,Q,X,u,ae)}}Mn(r,S,R,F,Y,te,p,m);return;case"select":X=S=R=Q=null;for(p in o)if(F=o[p],o.hasOwnProperty(p)&&F!=null)switch(p){case"value":break;case"multiple":X=F;default:u.hasOwnProperty(p)||lt(r,a,p,null,u,F)}for(m in u)if(p=u[m],F=o[m],u.hasOwnProperty(m)&&(p!=null||F!=null))switch(m){case"value":Q=p;break;case"defaultValue":R=p;break;case"multiple":S=p;default:p!==F&&lt(r,a,m,p,u,F)}a=R,o=S,u=X,Q!=null?oi(r,!!o,Q,!1):!!u!=!!o&&(a!=null?oi(r,!!o,a,!0):oi(r,!!o,o?[]:"",!1));return;case"textarea":X=Q=null;for(R in o)if(m=o[R],o.hasOwnProperty(R)&&m!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:lt(r,a,R,null,u,m)}for(S in u)if(m=u[S],p=o[S],u.hasOwnProperty(S)&&(m!=null||p!=null))switch(S){case"value":Q=m;break;case"defaultValue":X=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&lt(r,a,S,m,u,p)}st(r,Q,X);return;case"option":for(var Ie in o)if(Q=o[Ie],o.hasOwnProperty(Ie)&&Q!=null&&!u.hasOwnProperty(Ie))switch(Ie){case"selected":r.selected=!1;break;default:lt(r,a,Ie,null,u,Q)}for(F in u)if(Q=u[F],X=o[F],u.hasOwnProperty(F)&&Q!==X&&(Q!=null||X!=null))switch(F){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:lt(r,a,F,Q,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)Q=o[Ae],o.hasOwnProperty(Ae)&&Q!=null&&!u.hasOwnProperty(Ae)&&lt(r,a,Ae,null,u,Q);for(Y in u)if(Q=u[Y],X=o[Y],u.hasOwnProperty(Y)&&Q!==X&&(Q!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:lt(r,a,Y,Q,u,X)}return;default:if(Yl(a)){for(var ut in o)Q=o[ut],o.hasOwnProperty(ut)&&Q!==void 0&&!u.hasOwnProperty(ut)&&Vg(r,a,ut,void 0,u,Q);for(te in u)Q=u[te],X=o[te],!u.hasOwnProperty(te)||Q===X||Q===void 0&&X===void 0||Vg(r,a,te,Q,u,X);return}}for(var B in o)Q=o[B],o.hasOwnProperty(B)&&Q!=null&&!u.hasOwnProperty(B)&&lt(r,a,B,null,u,Q);for(ae in u)Q=u[ae],X=o[ae],!u.hasOwnProperty(ae)||Q===X||Q==null&&X==null||lt(r,a,ae,Q,u,X)}var Ug=null,Fg=null;function Zd(r){return r.nodeType===9?r:r.ownerDocument}function Bb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hb(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function $g(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zg=null;function zR(){var r=window.event;return r&&r.type==="popstate"?r===zg?!1:(zg=r,!0):(zg=null,!1)}var qb=typeof setTimeout=="function"?setTimeout:void 0,BR=typeof clearTimeout=="function"?clearTimeout:void 0,Gb=typeof Promise=="function"?Promise:void 0,HR=typeof queueMicrotask=="function"?queueMicrotask:typeof Gb<"u"?function(r){return Gb.resolve(null).then(r).catch(qR)}:qb;function qR(r){setTimeout(function(){throw r})}function ca(r){return r==="head"}function Yb(r,a){var o=a,u=0,m=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var S=r.ownerDocument;if(o&1&&Du(S.documentElement),o&2&&Du(S.body),o&4)for(o=S.head,Du(o),S=o.firstChild;S;){var R=S.nextSibling,F=S.nodeName;S[Za]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=R}}if(m===0){r.removeChild(p),Fu(a);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);Fu(a)}function Bg(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Bg(o),qi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function GR(r,a,o,u){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Za])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=mr(r.nextSibling),r===null)break}return null}function YR(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=mr(r.nextSibling),r===null))return null;return r}function Hg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function KR(r,a){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function mr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var qg=null;function Kb(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function Qb(r,a,o){switch(a=Zd(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Du(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);qi(r)}var rr=new Map,Wb=new Set;function Jd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ai=le.d;le.d={f:QR,r:WR,D:XR,C:ZR,L:JR,m:e2,X:n2,S:t2,M:r2};function QR(){var r=Ai.f(),a=Hd();return r||a}function WR(r){var a=Sr(r);a!==null&&a.tag===5&&a.type==="form"?p_(a):Ai.r(r)}var Go=typeof document>"u"?null:document;function Xb(r,a,o){var u=Go;if(u&&typeof a=="string"&&a){var m=Dt(a);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Wb.has(m)||(Wb.add(m),r={rel:r,crossOrigin:o,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),tn(a,"link",r),Rt(a),u.head.appendChild(a)))}}function XR(r){Ai.D(r),Xb("dns-prefetch",r,null)}function ZR(r,a){Ai.C(r,a),Xb("preconnect",r,a)}function JR(r,a,o){Ai.L(r,a,o);var u=Go;if(u&&r&&a){var m='link[rel="preload"][as="'+Dt(a)+'"]';a==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Dt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Dt(o.imageSizes)+'"]')):m+='[href="'+Dt(r)+'"]';var p=m;switch(a){case"style":p=Yo(r);break;case"script":p=Ko(r)}rr.has(p)||(r=y({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),rr.set(p,r),u.querySelector(m)!==null||a==="style"&&u.querySelector(Ou(p))||a==="script"&&u.querySelector(Mu(p))||(a=u.createElement("link"),tn(a,"link",r),Rt(a),u.head.appendChild(a)))}}function e2(r,a){Ai.m(r,a);var o=Go;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Dt(u)+'"][href="'+Dt(r)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ko(r)}if(!rr.has(p)&&(r=y({rel:"modulepreload",href:r},a),rr.set(p,r),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Mu(p)))return}u=o.createElement("link"),tn(u,"link",r),Rt(u),o.head.appendChild(u)}}}function t2(r,a,o){Ai.S(r,a,o);var u=Go;if(u&&r){var m=pn(u).hoistableStyles,p=Yo(r);a=a||"default";var S=m.get(p);if(!S){var R={loading:0,preload:null};if(S=u.querySelector(Ou(p)))R.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":a},o),(o=rr.get(p))&&Gg(r,o);var F=S=u.createElement("link");Rt(F),tn(F,"link",r),F._p=new Promise(function(Y,te){F.onload=Y,F.onerror=te}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,ef(S,a,u)}S={type:"stylesheet",instance:S,count:1,state:R},m.set(p,S)}}}function n2(r,a){Ai.X(r,a);var o=Go;if(o&&r){var u=pn(o).hoistableScripts,m=Ko(r),p=u.get(m);p||(p=o.querySelector(Mu(m)),p||(r=y({src:r,async:!0},a),(a=rr.get(m))&&Yg(r,a),p=o.createElement("script"),Rt(p),tn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function r2(r,a){Ai.M(r,a);var o=Go;if(o&&r){var u=pn(o).hoistableScripts,m=Ko(r),p=u.get(m);p||(p=o.querySelector(Mu(m)),p||(r=y({src:r,async:!0,type:"module"},a),(a=rr.get(m))&&Yg(r,a),p=o.createElement("script"),Rt(p),tn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function Zb(r,a,o,u){var m=(m=xe.current)?Jd(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Yo(o.href),o=pn(m).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Yo(o.href);var p=pn(m).hoistableStyles,S=p.get(r);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,S),(p=m.querySelector(Ou(r)))&&!p._p&&(S.instance=p,S.state.loading=5),rr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},rr.set(r,o),p||i2(m,r,o,S.state))),a&&u===null)throw Error(i(528,""));return S}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ko(o),o=pn(m).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Yo(r){return'href="'+Dt(r)+'"'}function Ou(r){return'link[rel="stylesheet"]['+r+"]"}function Jb(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function i2(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),tn(a,"link",o),Rt(a),r.head.appendChild(a))}function Ko(r){return'[src="'+Dt(r)+'"]'}function Mu(r){return"script[async]"+r}function ew(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+Dt(o.href)+'"]');if(u)return a.instance=u,Rt(u),u;var m=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Rt(u),tn(u,"style",m),ef(u,o.precedence,r),a.instance=u;case"stylesheet":m=Yo(o.href);var p=r.querySelector(Ou(m));if(p)return a.state.loading|=4,a.instance=p,Rt(p),p;u=Jb(o),(m=rr.get(m))&&Gg(u,m),p=(r.ownerDocument||r).createElement("link"),Rt(p);var S=p;return S._p=new Promise(function(R,F){S.onload=R,S.onerror=F}),tn(p,"link",u),a.state.loading|=4,ef(p,o.precedence,r),a.instance=p;case"script":return p=Ko(o.src),(m=r.querySelector(Mu(p)))?(a.instance=m,Rt(m),m):(u=o,(m=rr.get(p))&&(u=y({},o),Yg(u,m)),r=r.ownerDocument||r,m=r.createElement("script"),Rt(m),tn(m,"link",u),r.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,ef(u,o.precedence,r));return a.instance}function ef(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,S=0;S<u.length;S++){var R=u[S];if(R.dataset.precedence===a)p=R;else if(p!==m)break}p?p.parentNode.insertBefore(r,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function Gg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Yg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var tf=null;function tw(r,a,o){if(tf===null){var u=new Map,m=tf=new Map;m.set(o,u)}else m=tf,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var p=o[m];if(!(p[Za]||p[Vt]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(a)||"";S=r+S;var R=u.get(S);R?R.push(p):u.set(S,[p])}}return u}function nw(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function a2(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function rw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Pu=null;function s2(){}function o2(r,a,o){if(Pu===null)throw Error(i(475));var u=Pu;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Yo(o.href),p=r.querySelector(Ou(m));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=nf.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=p,Rt(p);return}p=r.ownerDocument||r,o=Jb(o),(m=rr.get(m))&&Gg(o,m),p=p.createElement("link"),Rt(p);var S=p;S._p=new Promise(function(R,F){S.onload=R,S.onerror=F}),tn(p,"link",o),a.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=nf.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function l2(){if(Pu===null)throw Error(i(475));var r=Pu;return r.stylesheets&&r.count===0&&Kg(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&Kg(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function nf(){if(this.count--,this.count===0){if(this.stylesheets)Kg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var rf=null;function Kg(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,rf=new Map,a.forEach(u2,r),rf=null,nf.call(r))}function u2(r,a){if(!(a.state.loading&4)){var o=rf.get(r);if(o)var u=o.get(null);else{o=new Map,rf.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var S=m[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}m=a.instance,S=m.getAttribute("data-precedence"),p=o.get(S)||u,p===u&&o.set(null,m),o.set(S,m),this.count++,u=nf.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),a.state.loading|=4}}var ju={$$typeof:$,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function c2(r,a,o,u,m,p,S,R){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function iw(r,a,o,u,m,p,S,R,F,Y,te,ae){return r=new c2(r,a,o,S,R,F,Y,ae),a=1,p===!0&&(a|=24),p=jn(3,null,null,a),r.current=p,p.stateNode=r,a=Nm(),a.refCount++,r.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:a},Om(p),r}function aw(r){return r?(r=So,r):So}function sw(r,a,o,u,m,p){m=aw(m),u.context===null?u.context=m:u.pendingContext=m,u=Xi(a),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Zi(r,u,a),o!==null&&($n(o,r,a),fu(o,r,a))}function ow(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function Qg(r,a){ow(r,a),(r=r.alternate)&&ow(r,a)}function lw(r){if(r.tag===13){var a=To(r,67108864);a!==null&&$n(a,r,67108864),Qg(r,67108864)}}var af=!0;function d2(r,a,o,u){var m=K.T;K.T=null;var p=le.p;try{le.p=2,Wg(r,a,o,u)}finally{le.p=p,K.T=m}}function f2(r,a,o,u){var m=K.T;K.T=null;var p=le.p;try{le.p=8,Wg(r,a,o,u)}finally{le.p=p,K.T=m}}function Wg(r,a,o,u){if(af){var m=Xg(u);if(m===null)Lg(r,a,u,sf,o),cw(r,u);else if(m2(m,r,a,o,u))u.stopPropagation();else if(cw(r,u),a&4&&-1<h2.indexOf(r)){for(;m!==null;){var p=Sr(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=ur(p.pendingLanes);if(S!==0){var R=p;for(R.pendingLanes|=2,R.entangledLanes|=2;S;){var F=1<<31-on(S);R.entanglements[1]|=F,S&=~F}Ur(p),(rt&6)===0&&(zd=Sn()+500,Nu(0))}}break;case 13:R=To(p,2),R!==null&&$n(R,p,2),Hd(),Qg(p,2)}if(p=Xg(u),p===null&&Lg(r,a,u,sf,o),p===m)break;m=p}m!==null&&u.stopPropagation()}else Lg(r,a,u,null,o)}}function Xg(r){return r=Kn(r),Zg(r)}var sf=null;function Zg(r){if(sf=null,r=ii(r),r!==null){var a=l(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=c(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return sf=r,null}function uw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ol()){case Ml:return 2;case no:return 8;case Ya:case nm:return 32;case ro:return 268435456;default:return 32}default:return 32}}var Jg=!1,da=null,fa=null,ha=null,Lu=new Map,Vu=new Map,ma=[],h2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cw(r,a){switch(r){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Lu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(a.pointerId)}}function Uu(r,a,o,u,m,p){return r===null||r.nativeEvent!==p?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},a!==null&&(a=Sr(a),a!==null&&lw(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),r)}function m2(r,a,o,u,m){switch(a){case"focusin":return da=Uu(da,r,a,o,u,m),!0;case"dragenter":return fa=Uu(fa,r,a,o,u,m),!0;case"mouseover":return ha=Uu(ha,r,a,o,u,m),!0;case"pointerover":var p=m.pointerId;return Lu.set(p,Uu(Lu.get(p)||null,r,a,o,u,m)),!0;case"gotpointercapture":return p=m.pointerId,Vu.set(p,Uu(Vu.get(p)||null,r,a,o,u,m)),!0}return!1}function dw(r){var a=ii(r.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){r.blockedOn=a,Hc(r.priority,function(){if(o.tag===13){var u=Fn();u=zi(u);var m=To(o,u);m!==null&&$n(m,o,u),Qg(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function of(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=Xg(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);li=u,o.target.dispatchEvent(u),li=null}else return a=Sr(o),a!==null&&lw(a),r.blockedOn=o,!1;a.shift()}return!0}function fw(r,a,o){of(r)&&o.delete(a)}function g2(){Jg=!1,da!==null&&of(da)&&(da=null),fa!==null&&of(fa)&&(fa=null),ha!==null&&of(ha)&&(ha=null),Lu.forEach(fw),Vu.forEach(fw)}function lf(r,a){r.blockedOn===a&&(r.blockedOn=null,Jg||(Jg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,g2)))}var uf=null;function hw(r){uf!==r&&(uf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){uf===r&&(uf=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],m=r[a+2];if(typeof u!="function"){if(Zg(u||o)===null)continue;break}var p=Sr(o);p!==null&&(r.splice(a,3),a-=3,Zm(p,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Fu(r){function a(F){return lf(F,r)}da!==null&&lf(da,r),fa!==null&&lf(fa,r),ha!==null&&lf(ha,r),Lu.forEach(a),Vu.forEach(a);for(var o=0;o<ma.length;o++){var u=ma[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ma.length&&(o=ma[0],o.blockedOn===null);)dw(o),o.blockedOn===null&&ma.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],p=o[u+1],S=m[kt]||null;if(typeof p=="function")S||hw(o);else if(S){var R=null;if(p&&p.hasAttribute("formAction")){if(m=p,S=p[kt]||null)R=S.formAction;else if(Zg(m)!==null)continue}else R=S.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),hw(o)}}}function ep(r){this._internalRoot=r}cf.prototype.render=ep.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=Fn();sw(o,u,r,a,null,null)},cf.prototype.unmount=ep.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;sw(r.current,2,null,r,null,null),Hd(),a[Gn]=null}};function cf(r){this._internalRoot=r}cf.prototype.unstable_scheduleHydration=function(r){if(r){var a=Bi();r={blockedOn:null,target:r,priority:a};for(var o=0;o<ma.length&&a!==0&&a<ma[o].priority;o++);ma.splice(o,0,r),o===0&&dw(r)}};var mw=e.version;if(mw!=="19.1.0")throw Error(i(527,mw,"19.1.0"));le.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var p2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{Tt=df.inject(p2),nt=df}catch{}}return zu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,u="",m=I_,p=k_,S=D_,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks)),a=iw(r,1,!1,null,null,o,u,m,p,S,R,null),r[Gn]=a.current,jg(r),new ep(a)},zu.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var u=!1,m="",p=I_,S=k_,R=D_,F=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(F=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),a=iw(r,1,!0,a,o??null,u,m,p,S,R,F,Y),a.context=aw(null),o=a.current,u=Fn(),u=zi(u),m=Xi(u),m.callback=null,Zi(o,m,u),o=u,a.current.lanes=o,ri(a,o),Ur(a),r[Gn]=a.current,jg(r),new cf(a)},zu.version="19.1.0",zu}var Tw;function A2(){if(Tw)return rp.exports;Tw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rp.exports=S2(),rp.exports}var R2=A2();const C2=zx(R2);var Bu={},Sw;function N2(){if(Sw)return Bu;Sw=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.parse=c,Bu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,T){const A=new l,k=w.length;if(k<2)return A;const D=(T==null?void 0:T.decode)||y;let j=0;do{const H=w.indexOf("=",j);if(H===-1)break;const $=w.indexOf(";",j),Z=$===-1?k:$;if(H>Z){j=w.lastIndexOf(";",H-1)+1;continue}const ee=f(w,j,H),ie=h(w,H,ee),O=w.slice(ee,ie);if(A[O]===void 0){let N=f(w,H+1,Z),I=h(w,Z,N);const P=D(w.slice(N,I));A[O]=P}j=Z+1}while(j<k);return A}function f(w,T,A){do{const k=w.charCodeAt(T);if(k!==32&&k!==9)return T}while(++T<A);return A}function h(w,T,A){for(;T>A;){const k=w.charCodeAt(--T);if(k!==32&&k!==9)return T+1}return A}function g(w,T,A){const k=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const D=k(T);if(!e.test(D))throw new TypeError(`argument val is invalid: ${T}`);let j=w+"="+D;if(!A)return j;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);j+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);j+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);j+="; Path="+A.path}if(A.expires){if(!E(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);j+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(j+="; HttpOnly"),A.secure&&(j+="; Secure"),A.partitioned&&(j+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return j}function y(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function E(w){return s.call(w)==="[object Date]"}return Bu}N2();var Aw="popstate";function I2(n={}){function e(i,s){let{pathname:l,search:c,hash:f}=i.location;return Pp("",{pathname:l,search:c,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:cc(s)}return D2(e,t,null,n)}function bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function vr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function k2(){return Math.random().toString(36).substring(2,10)}function Rw(n,e){return{usr:n.state,key:n.key,idx:e}}function Pp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?_l(e):e,state:t,key:e&&e.key||i||k2()}}function cc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function _l(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function D2(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,f="POP",h=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function E(){f="POP";let D=y(),j=D==null?null:D-g;g=D,h&&h({action:f,location:k.location,delta:j})}function w(D,j){f="PUSH";let H=Pp(k.location,D,j);g=y()+1;let $=Rw(H,g),Z=k.createHref(H);try{c.pushState($,"",Z)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;s.location.assign(Z)}l&&h&&h({action:f,location:k.location,delta:1})}function T(D,j){f="REPLACE";let H=Pp(k.location,D,j);g=y();let $=Rw(H,g),Z=k.createHref(H);c.replaceState($,"",Z),l&&h&&h({action:f,location:k.location,delta:0})}function A(D){let j=s.location.origin!=="null"?s.location.origin:s.location.href,H=typeof D=="string"?D:cc(D);return H=H.replace(/ $/,"%20"),bt(j,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,j)}let k={get action(){return f},get location(){return n(s,c)},listen(D){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Aw,E),h=D,()=>{s.removeEventListener(Aw,E),h=null}},createHref(D){return e(s,D)},createURL:A,encodeLocation(D){let j=A(D);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:w,replace:T,go(D){return c.go(D)}};return k}function Hx(n,e,t="/"){return O2(n,e,t,!1)}function O2(n,e,t,i){let s=typeof e=="string"?_l(e):e,l=Oi(s.pathname||"/",t);if(l==null)return null;let c=qx(n);M2(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let g=q2(l);f=B2(c[h],g,i)}return f}function qx(n,e=[],t=[],i=""){let s=(l,c,f)=>{let h={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(bt(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let g=Ii([i,h.relativePath]),y=t.concat(h);l.children&&l.children.length>0&&(bt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),qx(l.children,e,y,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:$2(g,l.index),routesMeta:y})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,c);else for(let h of Gx(l.path))s(l,c,h)}),e}function Gx(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=Gx(i.join("/")),f=[];return f.push(...c.map(h=>h===""?l:[l,h].join("/"))),s&&f.push(...c),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function M2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:z2(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var P2=/^:[\w-]+$/,j2=3,L2=2,V2=1,U2=10,F2=-2,Cw=n=>n==="*";function $2(n,e){let t=n.split("/"),i=t.length;return t.some(Cw)&&(i+=F2),e&&(i+=L2),t.filter(s=>!Cw(s)).reduce((s,l)=>s+(P2.test(l)?j2:l===""?V2:U2),i)}function z2(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function B2(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",c=[];for(let f=0;f<i.length;++f){let h=i[f],g=f===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",E=Uf({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},y),w=h.route;if(!E&&g&&t&&!i[i.length-1].route.index&&(E=Uf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!E)return null;Object.assign(s,E.params),c.push({params:s,pathname:Ii([l,E.pathname]),pathnameBase:Q2(Ii([l,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(l=Ii([l,E.pathnameBase]))}return c}function Uf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=H2(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:E},w)=>{if(y==="*"){let A=f[w]||"";c=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const T=f[w];return E&&!T?g[y]=void 0:g[y]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function H2(n,e=!1,t=!0){vr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function q2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Oi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function G2(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?_l(n):n;return{pathname:t?t.startsWith("/")?t:Y2(t,e):e,search:W2(i),hash:X2(s)}}function Y2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function op(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function K2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Cy(n){let e=K2(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Ny(n,e,t,i=!1){let s;typeof n=="string"?s=_l(n):(s={...n},bt(!s.pathname||!s.pathname.includes("?"),op("?","pathname","search",s)),bt(!s.pathname||!s.pathname.includes("#"),op("#","pathname","hash",s)),bt(!s.search||!s.search.includes("#"),op("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,f;if(c==null)f=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),E-=1;s.pathname=w.join("/")}f=E>=0?e[E]:"/"}let h=G2(s,f),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(g||y)&&(h.pathname+="/"),h}var Ii=n=>n.join("/").replace(/\/\/+/g,"/"),Q2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),W2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,X2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Z2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Yx=["POST","PUT","PATCH","DELETE"];new Set(Yx);var J2=["GET",...Yx];new Set(J2);var bl=b.createContext(null);bl.displayName="DataRouter";var ph=b.createContext(null);ph.displayName="DataRouterState";var Kx=b.createContext({isTransitioning:!1});Kx.displayName="ViewTransition";var eC=b.createContext(new Map);eC.displayName="Fetchers";var tC=b.createContext(null);tC.displayName="Await";var Er=b.createContext(null);Er.displayName="Navigation";var Ec=b.createContext(null);Ec.displayName="Location";var Xr=b.createContext({outlet:null,matches:[],isDataRoute:!1});Xr.displayName="Route";var Iy=b.createContext(null);Iy.displayName="RouteError";function nC(n,{relative:e}={}){bt(wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=b.useContext(Er),{hash:s,pathname:l,search:c}=xc(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Ii([t,l])),i.createHref({pathname:f,search:c,hash:s})}function wl(){return b.useContext(Ec)!=null}function Zr(){return bt(wl(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Ec).location}var Qx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wx(n){b.useContext(Er).static||b.useLayoutEffect(n)}function $a(){let{isDataRoute:n}=b.useContext(Xr);return n?gC():rC()}function rC(){bt(wl(),"useNavigate() may be used only in the context of a <Router> component.");let n=b.useContext(bl),{basename:e,navigator:t}=b.useContext(Er),{matches:i}=b.useContext(Xr),{pathname:s}=Zr(),l=JSON.stringify(Cy(i)),c=b.useRef(!1);return Wx(()=>{c.current=!0}),b.useCallback((h,g={})=>{if(vr(c.current,Qx),!c.current)return;if(typeof h=="number"){t.go(h);return}let y=Ny(h,JSON.parse(l),s,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ii([e,y.pathname])),(g.replace?t.replace:t.push)(y,g.state,g)},[e,t,l,s,n])}b.createContext(null);function xc(n,{relative:e}={}){let{matches:t}=b.useContext(Xr),{pathname:i}=Zr(),s=JSON.stringify(Cy(t));return b.useMemo(()=>Ny(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function iC(n,e){return Xx(n,e)}function Xx(n,e,t,i){var H;bt(wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=b.useContext(Er),{matches:c}=b.useContext(Xr),f=c[c.length-1],h=f?f.params:{},g=f?f.pathname:"/",y=f?f.pathnameBase:"/",E=f&&f.route;{let $=E&&E.path||"";Zx(g,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let w=Zr(),T;if(e){let $=typeof e=="string"?_l(e):e;bt(y==="/"||((H=$.pathname)==null?void 0:H.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${$.pathname}" was given in the \`location\` prop.`),T=$}else T=w;let A=T.pathname||"/",k=A;if(y!=="/"){let $=y.replace(/^\//,"").split("/");k="/"+A.replace(/^\//,"").split("/").slice($.length).join("/")}let D=!l&&t&&t.matches&&t.matches.length>0?t.matches:Hx(n,{pathname:k});vr(E||D!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),vr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=uC(D&&D.map($=>Object.assign({},$,{params:Object.assign({},h,$.params),pathname:Ii([y,s.encodeLocation?s.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:Ii([y,s.encodeLocation?s.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),c,t,i);return e&&j?b.createElement(Ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},j):j}function aC(){let n=mC(),e=Z2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:l},"ErrorBoundary")," or"," ",b.createElement("code",{style:l},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),t?b.createElement("pre",{style:s},t):null,c)}var sC=b.createElement(aC,null),oC=class extends b.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?b.createElement(Xr.Provider,{value:this.props.routeContext},b.createElement(Iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lC({routeContext:n,match:e,children:t}){let i=b.useContext(bl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Xr.Provider,{value:n},t)}function uC(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let h=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);bt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let c=!1,f=-1;if(t)for(let h=0;h<s.length;h++){let g=s[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=h),g.route.id){let{loaderData:y,errors:E}=t,w=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||w){c=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((h,g,y)=>{let E,w=!1,T=null,A=null;t&&(E=l&&g.route.id?l[g.route.id]:void 0,T=g.route.errorElement||sC,c&&(f<0&&y===0?(Zx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,A=null):f===y&&(w=!0,A=g.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,y+1)),D=()=>{let j;return E?j=T:w?j=A:g.route.Component?j=b.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=h,b.createElement(lC,{match:g,routeContext:{outlet:h,matches:k,isDataRoute:t!=null},children:j})};return t&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?b.createElement(oC,{location:t.location,revalidation:t.revalidation,component:T,error:E,children:D(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):D()},null)}function ky(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cC(n){let e=b.useContext(bl);return bt(e,ky(n)),e}function dC(n){let e=b.useContext(ph);return bt(e,ky(n)),e}function fC(n){let e=b.useContext(Xr);return bt(e,ky(n)),e}function Dy(n){let e=fC(n),t=e.matches[e.matches.length-1];return bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function hC(){return Dy("useRouteId")}function mC(){var i;let n=b.useContext(Iy),e=dC("useRouteError"),t=Dy("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function gC(){let{router:n}=cC("useNavigate"),e=Dy("useNavigate"),t=b.useRef(!1);return Wx(()=>{t.current=!0}),b.useCallback(async(s,l={})=>{vr(t.current,Qx),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var Nw={};function Zx(n,e,t){!e&&!Nw[n]&&(Nw[n]=!0,vr(!1,t))}b.memo(pC);function pC({routes:n,future:e,state:t}){return Xx(n,void 0,t,e)}function yC({to:n,replace:e,state:t,relative:i}){bt(wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(Er);vr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=b.useContext(Xr),{pathname:c}=Zr(),f=$a(),h=Ny(n,Cy(l),c,i==="path"),g=JSON.stringify(h);return b.useEffect(()=>{f(JSON.parse(g),{replace:e,state:t,relative:i})},[f,g,i,e,t]),null}function Zo(n){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vC({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:l=!1}){bt(!wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=b.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof t=="string"&&(t=_l(t));let{pathname:h="/",search:g="",hash:y="",state:E=null,key:w="default"}=t,T=b.useMemo(()=>{let A=Oi(h,c);return A==null?null:{location:{pathname:A,search:g,hash:y,state:E,key:w},navigationType:i}},[c,h,g,y,E,w,i]);return vr(T!=null,`<Router basename="${c}"> is not able to match the URL "${h}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:b.createElement(Er.Provider,{value:f},b.createElement(Ec.Provider,{children:e,value:T}))}function _C({children:n,location:e}){return iC(jp(n),e)}function jp(n,e=[]){let t=[];return b.Children.forEach(n,(i,s)=>{if(!b.isValidElement(i))return;let l=[...e,s];if(i.type===b.Fragment){t.push.apply(t,jp(i.props.children,l));return}bt(i.type===Zo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=jp(i.props.children,l)),t.push(c)}),t}var Sf="get",Af="application/x-www-form-urlencoded";function yh(n){return n!=null&&typeof n.tagName=="string"}function bC(n){return yh(n)&&n.tagName.toLowerCase()==="button"}function wC(n){return yh(n)&&n.tagName.toLowerCase()==="form"}function EC(n){return yh(n)&&n.tagName.toLowerCase()==="input"}function xC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function TC(n,e){return n.button===0&&(!e||e==="_self")&&!xC(n)}var ff=null;function SC(){if(ff===null)try{new FormData(document.createElement("form"),0),ff=!1}catch{ff=!0}return ff}var AC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lp(n){return n!=null&&!AC.has(n)?(vr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Af}"`),null):n}function RC(n,e){let t,i,s,l,c;if(wC(n)){let f=n.getAttribute("action");i=f?Oi(f,e):null,t=n.getAttribute("method")||Sf,s=lp(n.getAttribute("enctype"))||Af,l=new FormData(n)}else if(bC(n)||EC(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(i=h?Oi(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Sf,s=lp(n.getAttribute("formenctype"))||lp(f.getAttribute("enctype"))||Af,l=new FormData(f,n),!SC()){let{name:g,type:y,value:E}=n;if(y==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,E)}}else{if(yh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sf,i=null,s=Af,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}function Oy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function CC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function IC(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await CC(l,t);return c.links?c.links():[]}return[]}));return MC(i.flat(1).filter(NC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Iw(n,e,t,i,s,l){let c=(h,g)=>t[g]?h.route.id!==t[g].route.id:!0,f=(h,g)=>{var y;return t[g].pathname!==h.pathname||((y=t[g].route.path)==null?void 0:y.endsWith("*"))&&t[g].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,g)=>c(h,g)||f(h,g)):l==="data"?e.filter((h,g)=>{var E;let y=i.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(c(h,g)||f(h,g))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function kC(n,e,{includeHydrateFallback:t}={}){return DC(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function DC(n){return[...new Set(n)]}function OC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function MC(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(OC(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}var PC=new Set([100,101,204,205]);function jC(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Oi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Jx(){let n=b.useContext(bl);return Oy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function LC(){let n=b.useContext(ph);return Oy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var My=b.createContext(void 0);My.displayName="FrameworkContext";function eT(){let n=b.useContext(My);return Oy(n,"You must render this element inside a <HydratedRouter> element"),n}function VC(n,e){let t=b.useContext(My),[i,s]=b.useState(!1),[l,c]=b.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:g,onMouseLeave:y,onTouchStart:E}=e,w=b.useRef(null);b.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=j=>{j.forEach(H=>{c(H.isIntersecting)})},D=new IntersectionObserver(k,{threshold:.5});return w.current&&D.observe(w.current),()=>{D.disconnect()}}},[n]),b.useEffect(()=>{if(i){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[i]);let T=()=>{s(!0)},A=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,w,{}]:[l,w,{onFocus:Hu(f,T),onBlur:Hu(h,A),onMouseEnter:Hu(g,T),onMouseLeave:Hu(y,A),onTouchStart:Hu(E,T)}]:[!1,w,{}]}function Hu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function UC({page:n,...e}){let{router:t}=Jx(),i=b.useMemo(()=>Hx(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?b.createElement($C,{page:n,matches:i,...e}):null}function FC(n){let{manifest:e,routeModules:t}=eT(),[i,s]=b.useState([]);return b.useEffect(()=>{let l=!1;return IC(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),i}function $C({page:n,matches:e,...t}){let i=Zr(),{manifest:s,routeModules:l}=eT(),{basename:c}=Jx(),{loaderData:f,matches:h}=LC(),g=b.useMemo(()=>Iw(n,e,h,s,i,"data"),[n,e,h,s,i]),y=b.useMemo(()=>Iw(n,e,h,s,i,"assets"),[n,e,h,s,i]),E=b.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,k=!1;if(e.forEach(j=>{var $;let H=s.routes[j.route.id];!H||!H.hasLoader||(!g.some(Z=>Z.route.id===j.route.id)&&j.route.id in f&&(($=l[j.route.id])!=null&&$.shouldRevalidate)||H.hasClientLoader?k=!0:A.add(j.route.id))}),A.size===0)return[];let D=jC(n,c);return k&&A.size>0&&D.searchParams.set("_routes",e.filter(j=>A.has(j.route.id)).map(j=>j.route.id).join(",")),[D.pathname+D.search]},[c,f,i,s,g,e,n,l]),w=b.useMemo(()=>kC(y,s),[y,s]),T=FC(y);return b.createElement(b.Fragment,null,E.map(A=>b.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),w.map(A=>b.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),T.map(({key:A,link:k})=>b.createElement("link",{key:A,...k})))}function zC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var tT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tT&&(window.__reactRouterVersion="7.5.2")}catch{}function BC({basename:n,children:e,window:t}){let i=b.useRef();i.current==null&&(i.current=I2({window:t,v5Compat:!0}));let s=i.current,[l,c]=b.useState({action:s.action,location:s.location}),f=b.useCallback(h=>{b.startTransition(()=>c(h))},[c]);return b.useLayoutEffect(()=>s.listen(f),[s,f]),b.createElement(vC,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:s})}var nT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ls=b.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:f,target:h,to:g,preventScrollReset:y,viewTransition:E,...w},T){let{basename:A}=b.useContext(Er),k=typeof g=="string"&&nT.test(g),D,j=!1;if(typeof g=="string"&&k&&(D=g,tT))try{let I=new URL(window.location.href),P=g.startsWith("//")?new URL(I.protocol+g):new URL(g),U=Oi(P.pathname,A);P.origin===I.origin&&U!=null?g=U+P.search+P.hash:j=!0}catch{vr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=nC(g,{relative:s}),[$,Z,ee]=VC(i,w),ie=YC(g,{replace:c,state:f,target:h,preventScrollReset:y,relative:s,viewTransition:E});function O(I){e&&e(I),I.defaultPrevented||ie(I)}let N=b.createElement("a",{...w,...ee,href:D||H,onClick:j||l?e:O,ref:zC(T,Z),target:h,"data-discover":!k&&t==="render"?"true":void 0});return $&&!k?b.createElement(b.Fragment,null,N,b.createElement(UC,{page:H})):N});Ls.displayName="Link";var HC=b.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:f,children:h,...g},y){let E=xc(c,{relative:g.relative}),w=Zr(),T=b.useContext(ph),{navigator:A,basename:k}=b.useContext(Er),D=T!=null&&ZC(E)&&f===!0,j=A.encodeLocation?A.encodeLocation(E).pathname:E.pathname,H=w.pathname,$=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(H=H.toLowerCase(),$=$?$.toLowerCase():null,j=j.toLowerCase()),$&&k&&($=Oi($,k)||$);const Z=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ee=H===j||!s&&H.startsWith(j)&&H.charAt(Z)==="/",ie=$!=null&&($===j||!s&&$.startsWith(j)&&$.charAt(j.length)==="/"),O={isActive:ee,isPending:ie,isTransitioning:D},N=ee?e:void 0,I;typeof i=="function"?I=i(O):I=[i,ee?"active":null,ie?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(O):l;return b.createElement(Ls,{...g,"aria-current":N,className:I,ref:y,style:P,to:c,viewTransition:f},typeof h=="function"?h(O):h)});HC.displayName="NavLink";var qC=b.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=Sf,action:f,onSubmit:h,relative:g,preventScrollReset:y,viewTransition:E,...w},T)=>{let A=WC(),k=XC(f,{relative:g}),D=c.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&nT.test(f),H=$=>{if(h&&h($),$.defaultPrevented)return;$.preventDefault();let Z=$.nativeEvent.submitter,ee=(Z==null?void 0:Z.getAttribute("formmethod"))||c;A(Z||$.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:s,state:l,relative:g,preventScrollReset:y,viewTransition:E})};return b.createElement("form",{ref:T,method:D,action:k,onSubmit:i?h:H,...w,"data-discover":!j&&n==="render"?"true":void 0})});qC.displayName="Form";function GC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rT(n){let e=b.useContext(bl);return bt(e,GC(n)),e}function YC(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let f=$a(),h=Zr(),g=xc(n,{relative:l});return b.useCallback(y=>{if(TC(y,e)){y.preventDefault();let E=t!==void 0?t:cc(h)===cc(g);f(n,{replace:E,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[h,f,g,t,i,e,n,s,l,c])}var KC=0,QC=()=>`__${String(++KC)}__`;function WC(){let{router:n}=rT("useSubmit"),{basename:e}=b.useContext(Er),t=hC();return b.useCallback(async(i,s={})=>{let{action:l,method:c,encType:f,formData:h,body:g}=RC(i,e);if(s.navigate===!1){let y=s.fetcherKey||QC();await n.fetch(y,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:h,body:g,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:h,body:g,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function XC(n,{relative:e}={}){let{basename:t}=b.useContext(Er),i=b.useContext(Xr);bt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...xc(n||".",{relative:e})},c=Zr();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(y=>y==="")){f.delete("index"),h.filter(E=>E).forEach(E=>f.append("index",E));let y=f.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ii([t,l.pathname])),cc(l)}function ZC(n,e={}){let t=b.useContext(Kx);bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rT("useViewTransitionState"),s=xc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Oi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Oi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Uf(s.pathname,c)!=null||Uf(s.pathname,l)!=null}new TextEncoder;[...PC];var $r=Bx();let JC={data:""},eN=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||JC,tN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,nN=/\/\*[^]*?\*\/|  +/g,kw=/\n+/g,va=(n,e)=>{let t="",i="",s="";for(let l in n){let c=n[l];l[0]=="@"?l[1]=="i"?t=l+" "+c+";":i+=l[1]=="f"?va(c,l):l+"{"+va(c,l[1]=="k"?"":e)+"}":typeof c=="object"?i+=va(c,e?e.replace(/([^,])+/g,f=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,f):f?f+" "+h:h)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=va.p?va.p(l,c):l+":"+c+";")}return t+(e&&s?e+"{"+s+"}":s)+i},Ri={},iT=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+iT(n[t]);return e}return n},rN=(n,e,t,i,s)=>{let l=iT(n),c=Ri[l]||(Ri[l]=(h=>{let g=0,y=11;for(;g<h.length;)y=101*y+h.charCodeAt(g++)>>>0;return"go"+y})(l));if(!Ri[c]){let h=l!==n?n:(g=>{let y,E,w=[{}];for(;y=tN.exec(g.replace(nN,""));)y[4]?w.shift():y[3]?(E=y[3].replace(kw," ").trim(),w.unshift(w[0][E]=w[0][E]||{})):w[0][y[1]]=y[2].replace(kw," ").trim();return w[0]})(n);Ri[c]=va(s?{["@keyframes "+c]:h}:h,t?"":"."+c)}let f=t&&Ri.g?Ri.g:null;return t&&(Ri.g=Ri[c]),((h,g,y,E)=>{E?g.data=g.data.replace(E,h):g.data.indexOf(h)===-1&&(g.data=y?h+g.data:g.data+h)})(Ri[c],e,i,f),c},iN=(n,e,t)=>n.reduce((i,s,l)=>{let c=e[l];if(c&&c.call){let f=c(t),h=f&&f.props&&f.props.className||/^go/.test(f)&&f;c=h?"."+h:f&&typeof f=="object"?f.props?"":va(f,""):f===!1?"":f}return i+s+(c??"")},"");function vh(n){let e=this||{},t=n.call?n(e.p):n;return rN(t.unshift?t.raw?iN(t,[].slice.call(arguments,1),e.p):t.reduce((i,s)=>Object.assign(i,s&&s.call?s(e.p):s),{}):t,eN(e.target),e.g,e.o,e.k)}let aT,Lp,Vp;vh.bind({g:1});let Mi=vh.bind({k:1});function aN(n,e,t,i){va.p=e,aT=n,Lp=t,Vp=i}function za(n,e){let t=this||{};return function(){let i=arguments;function s(l,c){let f=Object.assign({},l),h=f.className||s.className;t.p=Object.assign({theme:Lp&&Lp()},f),t.o=/ *go\d+/.test(h),f.className=vh.apply(t,i)+(h?" "+h:"");let g=n;return n[0]&&(g=f.as||n,delete f.as),Vp&&g[0]&&Vp(f),aT(g,f)}return s}}var sN=n=>typeof n=="function",Ff=(n,e)=>sN(n)?n(e):n,oN=(()=>{let n=0;return()=>(++n).toString()})(),sT=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),lN=20,oT=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,lN)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:t}=e;return oT(n,{type:n.toasts.find(l=>l.id===t.id)?1:0,toast:t});case 3:let{toastId:i}=e;return{...n,toasts:n.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let s=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+s}))}}},Rf=[],Is={toasts:[],pausedAt:void 0},Ws=n=>{Is=oT(Is,n),Rf.forEach(e=>{e(Is)})},uN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},cN=(n={})=>{let[e,t]=b.useState(Is),i=b.useRef(Is);b.useEffect(()=>(i.current!==Is&&t(Is),Rf.push(t),()=>{let l=Rf.indexOf(t);l>-1&&Rf.splice(l,1)}),[]);let s=e.toasts.map(l=>{var c,f,h;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((c=n[l.type])==null?void 0:c.removeDelay)||(n==null?void 0:n.removeDelay),duration:l.duration||((f=n[l.type])==null?void 0:f.duration)||(n==null?void 0:n.duration)||uN[l.type],style:{...n.style,...(h=n[l.type])==null?void 0:h.style,...l.style}}});return{...e,toasts:s}},dN=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||oN()}),Tc=n=>(e,t)=>{let i=dN(e,n,t);return Ws({type:2,toast:i}),i.id},bn=(n,e)=>Tc("blank")(n,e);bn.error=Tc("error");bn.success=Tc("success");bn.loading=Tc("loading");bn.custom=Tc("custom");bn.dismiss=n=>{Ws({type:3,toastId:n})};bn.remove=n=>Ws({type:4,toastId:n});bn.promise=(n,e,t)=>{let i=bn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(s=>{let l=e.success?Ff(e.success,s):void 0;return l?bn.success(l,{id:i,...t,...t==null?void 0:t.success}):bn.dismiss(i),s}).catch(s=>{let l=e.error?Ff(e.error,s):void 0;l?bn.error(l,{id:i,...t,...t==null?void 0:t.error}):bn.dismiss(i)}),n};var fN=(n,e)=>{Ws({type:1,toast:{id:n,height:e}})},hN=()=>{Ws({type:5,time:Date.now()})},nc=new Map,mN=1e3,gN=(n,e=mN)=>{if(nc.has(n))return;let t=setTimeout(()=>{nc.delete(n),Ws({type:4,toastId:n})},e);nc.set(n,t)},pN=n=>{let{toasts:e,pausedAt:t}=cN(n);b.useEffect(()=>{if(t)return;let l=Date.now(),c=e.map(f=>{if(f.duration===1/0)return;let h=(f.duration||0)+f.pauseDuration-(l-f.createdAt);if(h<0){f.visible&&bn.dismiss(f.id);return}return setTimeout(()=>bn.dismiss(f.id),h)});return()=>{c.forEach(f=>f&&clearTimeout(f))}},[e,t]);let i=b.useCallback(()=>{t&&Ws({type:6,time:Date.now()})},[t]),s=b.useCallback((l,c)=>{let{reverseOrder:f=!1,gutter:h=8,defaultPosition:g}=c||{},y=e.filter(T=>(T.position||g)===(l.position||g)&&T.height),E=y.findIndex(T=>T.id===l.id),w=y.filter((T,A)=>A<E&&T.visible).length;return y.filter(T=>T.visible).slice(...f?[w+1]:[0,w]).reduce((T,A)=>T+(A.height||0)+h,0)},[e]);return b.useEffect(()=>{e.forEach(l=>{if(l.dismissed)gN(l.id,l.removeDelay);else{let c=nc.get(l.id);c&&(clearTimeout(c),nc.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:fN,startPause:hN,endPause:i,calculateOffset:s}}},yN=Mi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vN=Mi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_N=Mi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bN=za("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_N} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,wN=Mi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,EN=za("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${wN} 1s linear infinite;
`,xN=Mi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,TN=Mi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,SN=za("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${TN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,AN=za("div")`
  position: absolute;
`,RN=za("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,CN=Mi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,NN=za("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${CN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,IN=({toast:n})=>{let{icon:e,type:t,iconTheme:i}=n;return e!==void 0?typeof e=="string"?b.createElement(NN,null,e):e:t==="blank"?null:b.createElement(RN,null,b.createElement(EN,{...i}),t!=="loading"&&b.createElement(AN,null,t==="error"?b.createElement(bN,{...i}):b.createElement(SN,{...i})))},kN=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,DN=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,ON="0%{opacity:0;} 100%{opacity:1;}",MN="0%{opacity:1;} 100%{opacity:0;}",PN=za("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,jN=za("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,LN=(n,e)=>{let t=n.includes("top")?1:-1,[i,s]=sT()?[ON,MN]:[kN(t),DN(t)];return{animation:e?`${Mi(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Mi(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},VN=b.memo(({toast:n,position:e,style:t,children:i})=>{let s=n.height?LN(n.position||e||"top-center",n.visible):{opacity:0},l=b.createElement(IN,{toast:n}),c=b.createElement(jN,{...n.ariaProps},Ff(n.message,n));return b.createElement(PN,{className:n.className,style:{...s,...t,...n.style}},typeof i=="function"?i({icon:l,message:c}):b.createElement(b.Fragment,null,l,c))});aN(b.createElement);var UN=({id:n,className:e,style:t,onHeightUpdate:i,children:s})=>{let l=b.useCallback(c=>{if(c){let f=()=>{let h=c.getBoundingClientRect().height;i(n,h)};f(),new MutationObserver(f).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return b.createElement("div",{ref:l,className:e,style:t},s)},FN=(n,e)=>{let t=n.includes("top"),i=t?{top:0}:{bottom:0},s=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:sT()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...i,...s}},$N=vh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hf=16,zN=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:i,children:s,containerStyle:l,containerClassName:c})=>{let{toasts:f,handlers:h}=pN(t);return b.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:hf,left:hf,right:hf,bottom:hf,pointerEvents:"none",...l},className:c,onMouseEnter:h.startPause,onMouseLeave:h.endPause},f.map(g=>{let y=g.position||e,E=h.calculateOffset(g,{reverseOrder:n,gutter:i,defaultPosition:e}),w=FN(y,E);return b.createElement(UN,{id:g.id,key:g.id,onHeightUpdate:h.updateHeight,className:g.visible?$N:"",style:w},g.type==="custom"?Ff(g.message,g):s?s(g):b.createElement(VN,{toast:g,position:y}))}))},Fe=bn;const BN=()=>{};var Dw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},HN=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],f=n[t++],h=((s&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,f=c?n[s+1]:0,h=s+2<n.length,g=h?n[s+2]:0,y=l>>2,E=(l&3)<<4|f>>4;let w=(f&15)<<2|g>>6,T=g&63;h||(T=64,c||(w=64)),i.push(t[y],t[E],t[w],t[T])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):HN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||f==null||g==null||E==null)throw new qN;const w=l<<2|f>>4;if(i.push(w),g!==64){const T=f<<4&240|g>>2;if(i.push(T),E!==64){const A=g<<6&192|E;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GN=function(n){const e=lT(n);return uT.encodeByteArray(e,!0)},$f=function(n){return GN(n).replace(/\./g,"")},cT=function(n){try{return uT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=()=>YN().__FIREBASE_DEFAULTS__,QN=()=>{if(typeof process>"u"||typeof Dw>"u")return;const n=Dw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},WN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&cT(n[1]);return e&&JSON.parse(e)},_h=()=>{try{return BN()||KN()||QN()||WN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dT=n=>{var e,t;return(t=(e=_h())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},XN=n=>{const e=dT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},fT=()=>{var n;return(n=_h())===null||n===void 0?void 0:n.config},hT=n=>{var e;return(e=_h())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$f(JSON.stringify(t)),$f(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function tI(){var n;const e=(n=_h())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aI(){const n=gn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sI(){return!tI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oI(){try{return typeof indexedDB=="object"}catch{return!1}}function lI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="FirebaseError";class Fi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=uI,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sc.prototype.create)}}class Sc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?cI(l,i):"Error",f=`${this.serviceName}: ${c} (${s}).`;return new Fi(s,f,i)}}function cI(n,e){return n.replace(dI,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const dI=/\{\$([^}]+)}/g;function fI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if(Ow(l)&&Ow(c)){if(!Vs(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function Ow(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Qu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function Wu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function hI(n,e){const t=new mI(n,e);return t.subscribe.bind(t)}class mI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");gI(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=up),s.error===void 0&&(s.error=up),s.complete===void 0&&(s.complete=up);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(n){return n&&n._delegate?n._delegate:n}class Us{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new ZN;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vI(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:yI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yI(n){return n===Rs?void 0:n}function vI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const bI={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},wI=Be.INFO,EI={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},xI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=EI[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Py{constructor(e){this.name=e,this._logLevel=wI,this._logHandler=xI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const TI=(n,e)=>e.some(t=>n instanceof t);let Mw,Pw;function SI(){return Mw||(Mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AI(){return Pw||(Pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mT=new WeakMap,Up=new WeakMap,gT=new WeakMap,cp=new WeakMap,jy=new WeakMap;function RI(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Sa(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&mT.set(t,n)}).catch(()=>{}),jy.set(e,n),e}function CI(n){if(Up.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Up.set(n,e)}let Fp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Up.get(n);if(e==="objectStoreNames")return n.objectStoreNames||gT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Sa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function NI(n){Fp=n(Fp)}function II(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(dp(this),e,...t);return gT.set(i,e.sort?e.sort():[e]),Sa(i)}:AI().includes(n)?function(...e){return n.apply(dp(this),e),Sa(mT.get(this))}:function(...e){return Sa(n.apply(dp(this),e))}}function kI(n){return typeof n=="function"?II(n):(n instanceof IDBTransaction&&CI(n),TI(n,SI())?new Proxy(n,Fp):n)}function Sa(n){if(n instanceof IDBRequest)return RI(n);if(cp.has(n))return cp.get(n);const e=kI(n);return e!==n&&(cp.set(n,e),jy.set(e,n)),e}const dp=n=>jy.get(n);function DI(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),f=Sa(c);return i&&c.addEventListener("upgradeneeded",h=>{i(Sa(c.result),h.oldVersion,h.newVersion,Sa(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{l&&h.addEventListener("close",()=>l()),s&&h.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const OI=["get","getKey","getAll","getAllKeys","count"],MI=["put","add","delete","clear"],fp=new Map;function jw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fp.get(e))return fp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=MI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||OI.includes(t)))return;const l=async function(c,...f){const h=this.transaction(c,s?"readwrite":"readonly");let g=h.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),s&&h.done]))[0]};return fp.set(e,l),l}NI(n=>({...n,get:(e,t,i)=>jw(e,t)||n.get(e,t,i),has:(e,t)=>!!jw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(jI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function jI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $p="@firebase/app",Lw="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Py("@firebase/app"),LI="@firebase/app-compat",VI="@firebase/analytics-compat",UI="@firebase/analytics",FI="@firebase/app-check-compat",$I="@firebase/app-check",zI="@firebase/auth",BI="@firebase/auth-compat",HI="@firebase/database",qI="@firebase/data-connect",GI="@firebase/database-compat",YI="@firebase/functions",KI="@firebase/functions-compat",QI="@firebase/installations",WI="@firebase/installations-compat",XI="@firebase/messaging",ZI="@firebase/messaging-compat",JI="@firebase/performance",ek="@firebase/performance-compat",tk="@firebase/remote-config",nk="@firebase/remote-config-compat",rk="@firebase/storage",ik="@firebase/storage-compat",ak="@firebase/firestore",sk="@firebase/vertexai",ok="@firebase/firestore-compat",lk="firebase",uk="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="[DEFAULT]",ck={[$p]:"fire-core",[LI]:"fire-core-compat",[UI]:"fire-analytics",[VI]:"fire-analytics-compat",[$I]:"fire-app-check",[FI]:"fire-app-check-compat",[zI]:"fire-auth",[BI]:"fire-auth-compat",[HI]:"fire-rtdb",[qI]:"fire-data-connect",[GI]:"fire-rtdb-compat",[YI]:"fire-fn",[KI]:"fire-fn-compat",[QI]:"fire-iid",[WI]:"fire-iid-compat",[XI]:"fire-fcm",[ZI]:"fire-fcm-compat",[JI]:"fire-perf",[ek]:"fire-perf-compat",[tk]:"fire-rc",[nk]:"fire-rc-compat",[rk]:"fire-gcs",[ik]:"fire-gcs-compat",[ak]:"fire-fst",[ok]:"fire-fst-compat",[sk]:"fire-vertex","fire-js":"fire-js",[lk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new Map,dk=new Map,Bp=new Map;function Vw(n,e){try{n.container.addComponent(e)}catch(t){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ul(n){const e=n.name;if(Bp.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;Bp.set(e,n);for(const t of zf.values())Vw(t,n);for(const t of dk.values())Vw(t,n);return!0}function Ly(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function sr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Aa=new Sc("app","Firebase",fk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=uk;function pT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:zp,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Aa.create("bad-app-name",{appName:String(s)});if(t||(t=fT()),!t)throw Aa.create("no-options");const l=zf.get(s);if(l){if(Vs(t,l.options)&&Vs(i,l.config))return l;throw Aa.create("duplicate-app",{appName:s})}const c=new _I(s);for(const h of Bp.values())c.addComponent(h);const f=new hk(t,i,c);return zf.set(s,f),f}function yT(n=zp){const e=zf.get(n);if(!e&&n===zp&&fT())return pT();if(!e)throw Aa.create("no-app",{appName:n});return e}function Ra(n,e,t){var i;let s=(i=ck[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(f.join(" "));return}ul(new Us(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="firebase-heartbeat-database",gk=1,dc="firebase-heartbeat-store";let hp=null;function vT(){return hp||(hp=DI(mk,gk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(dc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Aa.create("idb-open",{originalErrorMessage:n.message})})),hp}async function pk(n){try{const t=(await vT()).transaction(dc),i=await t.objectStore(dc).get(_T(n));return await t.done,i}catch(e){if(e instanceof Fi)Pi.warn(e.message);else{const t=Aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pi.warn(t.message)}}}async function Uw(n,e){try{const i=(await vT()).transaction(dc,"readwrite");await i.objectStore(dc).put(e,_T(n)),await i.done}catch(t){if(t instanceof Fi)Pi.warn(t.message);else{const i=Aa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Pi.warn(i.message)}}}function _T(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=1024,vk=30;class _k{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wk(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Fw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>vk){const c=Ek(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Pi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Fw(),{heartbeatsToSend:i,unsentEntries:s}=bk(this._heartbeatsCache.heartbeats),l=$f(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Pi.warn(t),""}}}function Fw(){return new Date().toISOString().substring(0,10)}function bk(n,e=yk){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),$w(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),$w(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class wk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oI()?lI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $w(n){return $f(JSON.stringify({version:2,heartbeats:n})).length}function Ek(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(n){ul(new Us("platform-logger",e=>new PI(e),"PRIVATE")),ul(new Us("heartbeat",e=>new _k(e),"PRIVATE")),Ra($p,Lw,n),Ra($p,Lw,"esm2017"),Ra("fire-js","")}xk("");function Vy(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function bT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tk=bT,wT=new Sc("auth","Firebase",bT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=new Py("@firebase/auth");function Sk(n,...e){Bf.logLevel<=Be.WARN&&Bf.warn(`Auth (${El}): ${n}`,...e)}function Cf(n,...e){Bf.logLevel<=Be.ERROR&&Bf.error(`Auth (${El}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(n,...e){throw Uy(n,...e)}function zr(n,...e){return Uy(n,...e)}function ET(n,e,t){const i=Object.assign(Object.assign({},Tk()),{[e]:t});return new Sc("auth","Firebase",i).create(e,{appName:n.name})}function ki(n){return ET(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return wT.create(n,...e)}function Ne(n,e,...t){if(!n)throw Uy(e,...t)}function Ci(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Cf(e),new Error(e)}function ji(n,e){n||Ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Ak(){return zw()==="http:"||zw()==="https:"}function zw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ak()||rI()||"connection"in navigator)?navigator.onLine:!0}function Ck(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ji(t>e,"Short delay should be less than long delay!"),this.isMobile=eI()||iI()}get(){return Rk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(n,e){ji(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kk=new Rc(3e4,6e4);function Ba(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $i(n,e,t,i,s={}){return TT(n,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Ac(Object.assign({key:n.config.apiKey},c)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:h},l);return nI()||(g.referrerPolicy="no-referrer"),xT.fetch()(await ST(n,n.config.apiHost,t,f),g)})}async function TT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Nk),e);try{const s=new Ok(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw mf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[h,g]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw mf(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw mf(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw mf(n,"user-disabled",c);const y=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ET(n,y,g);_r(n,y)}}catch(s){if(s instanceof Fi)throw s;_r(n,"network-request-failed",{message:String(s)})}}async function Cc(n,e,t,i,s={}){const l=await $i(n,e,t,i,s);return"mfaPendingCredential"in l&&_r(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function ST(n,e,t,i){const s=`${e}${t}?${i}`,l=n,c=l.config.emulator?Fy(n.config,s):`${n.config.apiScheme}://${s}`;return Ik.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function Dk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ok{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(zr(this.auth,"network-request-failed")),kk.get())})}}function mf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=zr(n,e,i);return s.customData._tokenResponse=t,s}function Bw(n){return n!==void 0&&n.enterprise!==void 0}class Mk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Dk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Pk(n,e){return $i(n,"GET","/v2/recaptchaConfig",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(n,e){return $i(n,"POST","/v1/accounts:delete",e)}async function Hf(n,e){return $i(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lk(n,e=!1){const t=Lt(n),i=await t.getIdToken(e),s=$y(i);Ne(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:i,authTime:rc(mp(s.auth_time)),issuedAtTime:rc(mp(s.iat)),expirationTime:rc(mp(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function mp(n){return Number(n)*1e3}function $y(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Cf("JWT malformed, contained fewer than 3 sections"),null;try{const s=cT(t);return s?JSON.parse(s):(Cf("Failed to decode base64 JWT payload"),null)}catch(s){return Cf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Hw(n){const e=$y(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Fi&&Vk(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Vk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(n){var e;const t=n.auth,i=await n.getIdToken(),s=await cl(n,Hf(t,{idToken:i}));Ne(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?AT(l.providerUserInfo):[],f=$k(n.providerData,c),h=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),y=h?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new qp(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,E)}async function Fk(n){const e=Lt(n);await qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $k(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function AT(n){return n.map(e=>{var{providerId:t}=e,i=Vy(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,e){const t=await TT(n,{},async()=>{const i=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await ST(n,s,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",xT.fetch()(c,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Bk(n,e){return $i(n,"POST","/v2/accounts:revokeToken",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=Hw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await zk(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,c=new il;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Ne(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Ne(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class gr{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,l=Vy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Uk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new qp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await cl(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Lk(this,e)}reload(){return Fk(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await qf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await cl(this,jk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,l,c,f,h,g,y;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,w=(s=t.email)!==null&&s!==void 0?s:void 0,T=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,A=(c=t.photoURL)!==null&&c!==void 0?c:void 0,k=(f=t.tenantId)!==null&&f!==void 0?f:void 0,D=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,j=(g=t.createdAt)!==null&&g!==void 0?g:void 0,H=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:$,emailVerified:Z,isAnonymous:ee,providerData:ie,stsTokenManager:O}=t;Ne($&&O,e,"internal-error");const N=il.fromJSON(this.name,O);Ne(typeof $=="string",e,"internal-error"),pa(E,e.name),pa(w,e.name),Ne(typeof Z=="boolean",e,"internal-error"),Ne(typeof ee=="boolean",e,"internal-error"),pa(T,e.name),pa(A,e.name),pa(k,e.name),pa(D,e.name),pa(j,e.name),pa(H,e.name);const I=new gr({uid:$,auth:e,email:w,emailVerified:Z,displayName:E,isAnonymous:ee,photoURL:A,phoneNumber:T,tenantId:k,stsTokenManager:N,createdAt:j,lastLoginAt:H});return ie&&Array.isArray(ie)&&(I.providerData=ie.map(P=>Object.assign({},P))),D&&(I._redirectEventId=D),I}static async _fromIdTokenResponse(e,t,i=!1){const s=new il;s.updateFromServerResponse(t);const l=new gr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await qf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ne(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?AT(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),f=new il;f.updateFromIdToken(i);const h=new gr({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new qp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(h,g),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Map;function Ni(n){ji(n instanceof Function,"Expected a class definition");let e=qw.get(n);return e?(ji(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}RT.type="NONE";const Gw=RT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(n,e,t){return`firebase:${n}:${e}:${t}`}class al{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=Nf(this.userKey,s.apiKey,l),this.fullPersistenceKey=Nf("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hf(this.auth,{idToken:e}).catch(()=>{});return t?gr._fromGetAccountInfoResponse(this.auth,t,e):null}return gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new al(Ni(Gw),e,i);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=s[0]||Ni(Gw);const c=Nf(i,e.config.apiKey,e.name);let f=null;for(const g of t)try{const y=await g._get(c);if(y){let E;if(typeof y=="string"){const w=await Hf(e,{idToken:y}).catch(()=>{});if(!w)break;E=await gr._fromGetAccountInfoResponse(e,w,y)}else E=gr._fromJSON(e,y);g!==l&&(f=E),l=g;break}}catch{}const h=s.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new al(l,e,i):(l=h[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new al(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OT(e))return"Blackberry";if(MT(e))return"Webos";if(NT(e))return"Safari";if((e.includes("chrome/")||IT(e))&&!e.includes("edge/"))return"Chrome";if(DT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function CT(n=gn()){return/firefox\//i.test(n)}function NT(n=gn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IT(n=gn()){return/crios\//i.test(n)}function kT(n=gn()){return/iemobile/i.test(n)}function DT(n=gn()){return/android/i.test(n)}function OT(n=gn()){return/blackberry/i.test(n)}function MT(n=gn()){return/webos/i.test(n)}function zy(n=gn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Hk(n=gn()){var e;return zy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qk(){return aI()&&document.documentMode===10}function PT(n=gn()){return zy(n)||DT(n)||MT(n)||OT(n)||/windows phone/i.test(n)||kT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(n,e=[]){let t;switch(n){case"Browser":t=Yw(gn());break;case"Worker":t=`${Yw(gn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${El}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const h=e(l);c(h)}catch(h){f(h)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(n,e={}){return $i(n,"GET","/v2/passwordPolicy",Ba(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=6;class Qk{constructor(e){var t,i,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:Kk,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,l,c,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(l=h.containsUppercaseLetter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kw(this),this.idTokenSubscription=new Kw(this),this.beforeStateQueue=new Gk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ni(t)),this._initializationPromise=this.queue(async()=>{var i,s,l;if(!this._deleted&&(this.persistenceManager=await al.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hf(this,{idToken:e}),i=await gr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(sr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===f)&&(h!=null&&h.user)&&(s=h.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ck()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(ki(this));const t=e?Lt(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Yk(this),t=new Qk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Bk(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ni(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[Ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,s);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Sk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xs(n){return Lt(n)}class Kw{constructor(e){this.auth=e,this.observer=null,this.addObserver=hI(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xk(n){bh=n}function LT(n){return bh.loadJS(n)}function Zk(){return bh.recaptchaEnterpriseScript}function Jk(){return bh.gapiScript}function eD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class tD{constructor(){this.enterprise=new nD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class nD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const rD="recaptcha-enterprise",VT="NO_RECAPTCHA";class iD{constructor(e){this.type=rD,this.auth=Xs(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{Pk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new Mk(h);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(h=>{f(h)})})}function s(l,c,f){const h=window.grecaptcha;Bw(h)?h.enterprise.ready(()=>{h.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(VT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!t&&Bw(window.grecaptcha))s(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=Zk();h.length!==0&&(h+=f),LT(h).then(()=>{s(f,l,c)}).catch(g=>{c(g)})}}).catch(f=>{c(f)})})}}async function Qw(n,e,t,i=!1,s=!1){const l=new iD(n);let c;if(s)c=VT;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Gp(n,e,t,i,s){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Qw(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Qw(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n,e){const t=Ly(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(Vs(l,e??{}))return s;_r(s,"already-initialized")}return t.initialize({options:e})}function sD(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ni);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function oD(n,e,t){const i=Xs(n);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=UT(e),{host:c,port:f}=lD(e),h=f===null?"":`:${f}`,g={url:`${l}//${c}${h}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(Vs(g,i.config.emulator)&&Vs(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,uD()}function UT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function lD(n){const e=UT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:Ww(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Ww(c)}}}function Ww(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function uD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,t){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}async function cD(n,e){return $i(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(n,e){return Cc(n,"POST","/v1/accounts:signInWithPassword",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(n,e){return Cc(n,"POST","/v1/accounts:signInWithEmailLink",Ba(n,e))}async function hD(n,e){return Cc(n,"POST","/v1/accounts:signInWithEmailLink",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends By{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new fc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new fc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gp(e,t,"signInWithPassword",dD);case"emailLink":return fD(e,{email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gp(e,i,"signUpPassword",cD);case"emailLink":return hD(e,{idToken:t,email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(n,e){return Cc(n,"POST","/v1/accounts:signInWithIdp",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="http://localhost";class Fs extends By{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,l=Vy(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new Fs(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return sl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,sl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sl(e,t)}buildRequest(){const e={requestUri:mD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ac(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pD(n){const e=Qu(Wu(n)).link,t=e?Qu(Wu(e)).deep_link_id:null,i=Qu(Wu(n)).deep_link_id;return(i?Qu(Wu(i)).link:null)||i||t||e||n}class Hy{constructor(e){var t,i,s,l,c,f;const h=Qu(Wu(e)),g=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(i=h.oobCode)!==null&&i!==void 0?i:null,E=gD((s=h.mode)!==null&&s!==void 0?s:null);Ne(g&&y&&E,"argument-error"),this.apiKey=g,this.operation=E,this.code=y,this.continueUrl=(l=h.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=h.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=pD(e);try{return new Hy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.providerId=xl.PROVIDER_ID}static credential(e,t){return fc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Hy.parseLink(t);return Ne(i,"argument-error"),fc._fromEmailAndCode(e,i.code,i.tenantId)}}xl.PROVIDER_ID="password";xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends FT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Nc{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _a.credential(e.oauthAccessToken)}catch{return null}}}_a.FACEBOOK_SIGN_IN_METHOD="facebook.com";_a.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends Nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fs._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ba.credential(t,i)}catch{return null}}}ba.GOOGLE_SIGN_IN_METHOD="google.com";ba.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Nc{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.GITHUB_SIGN_IN_METHOD="github.com";wa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Nc{constructor(){super("twitter.com")}static credential(e,t){return Fs._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ea.credential(t,i)}catch{return null}}}Ea.TWITTER_SIGN_IN_METHOD="twitter.com";Ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(n,e){return Cc(n,"POST","/v1/accounts:signUp",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await gr._fromIdTokenResponse(e,i,s),c=Xw(i);return new $s({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=Xw(i);return new $s({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function Xw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends Fi{constructor(e,t,i,s){var l;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Gf(e,t,i,s)}}function $T(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(n,l,e,i):l})}async function vD(n,e,t=!1){const i=await cl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return $s._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(n,e,t=!1){const{auth:i}=n;if(sr(i.app))return Promise.reject(ki(i));const s="reauthenticate";try{const l=await cl(n,$T(i,s,e,n),t);Ne(l.idToken,i,"internal-error");const c=$y(l.idToken);Ne(c,i,"internal-error");const{sub:f}=c;return Ne(n.uid===f,i,"user-mismatch"),$s._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&_r(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(n,e,t=!1){if(sr(n.app))return Promise.reject(ki(n));const i="signIn",s=await $T(n,i,e),l=await $s._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}async function bD(n,e){return zT(Xs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BT(n){const e=Xs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wD(n,e,t){if(sr(n.app))return Promise.reject(ki(n));const i=Xs(n),c=await Gp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yD).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&BT(n),h}),f=await $s._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function ED(n,e,t){return sr(n.app)?Promise.reject(ki(n)):bD(Lt(n),xl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&BT(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(n,e){return $i(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Lt(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await cl(i,xD(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const f=i.providerData.find(({providerId:h})=>h==="password");f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function TD(n,e,t,i){return Lt(n).onIdTokenChanged(e,t,i)}function SD(n,e,t){return Lt(n).beforeAuthStateChanged(e,t)}function AD(n,e,t,i){return Lt(n).onAuthStateChanged(e,t,i)}function RD(n){return Lt(n).signOut()}const Yf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yf,"1"),this.storage.removeItem(Yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=1e3,ND=10;class GT extends qT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,h)=>{this.notifyListeners(c,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);qk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ND):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},CD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}GT.type="LOCAL";const ID=GT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends qT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}YT.type="SESSION";const KT=YT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new wh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const f=Array.from(c).map(async g=>g(t.origin,l)),h=await kD(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((f,h)=>{const g=qy("",20);s.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(E){const w=E;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(y),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function OD(n){Br().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function MD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function jD(){return QT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebaseLocalStorageDb",LD=1,Kf="firebaseLocalStorage",XT="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Eh(n,e){return n.transaction([Kf],e?"readwrite":"readonly").objectStore(Kf)}function VD(){const n=indexedDB.deleteDatabase(WT);return new Ic(n).toPromise()}function Yp(){const n=indexedDB.open(WT,LD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Kf,{keyPath:XT})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Kf)?e(i):(i.close(),await VD(),e(await Yp()))})})}async function Zw(n,e,t){const i=Eh(n,!0).put({[XT]:e,value:t});return new Ic(i).toPromise()}async function UD(n,e){const t=Eh(n,!1).get(e),i=await new Ic(t).toPromise();return i===void 0?null:i.value}function Jw(n,e){const t=Eh(n,!0).delete(e);return new Ic(t).toPromise()}const FD=800,$D=3;class ZT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>$D)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(jD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await MD(),!this.activeServiceWorker)return;this.sender=new DD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yp();return await Zw(e,Yf,"1"),await Jw(e,Yf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Zw(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>UD(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Jw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=Eh(s,!1).getAll();return new Ic(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZT.type="LOCAL";const zD=ZT;new Rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(n,e){return e?Ni(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy extends By{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HD(n){return zT(n.auth,new Gy(n),n.bypassAuthState)}function qD(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),_D(t,new Gy(n),n.bypassAuthState)}async function GD(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),vD(t,new Gy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HD;case"linkViaPopup":case"linkViaRedirect":return GD;case"reauthViaPopup":case"reauthViaRedirect":return qD;default:_r(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new Rc(2e3,1e4);class rl extends JT{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YD.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="pendingRedirect",If=new Map;class QD extends JT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=If.get(this.auth._key());if(!e){try{const i=await WD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}If.set(this.auth._key(),e)}return this.bypassAuthState||If.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WD(n,e){const t=JD(e),i=ZD(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function XD(n,e){If.set(n._key(),e)}function ZD(n){return Ni(n._redirectPersistence)}function JD(n){return Nf(KD,n.config.apiKey,n.name)}async function eO(n,e,t=!1){if(sr(n.app))return Promise.reject(ki(n));const i=Xs(n),s=BD(i,e),c=await new QD(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=10*60*1e3;class nO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!e1(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(zr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tO&&this.cachedEventUids.clear(),this.cachedEventUids.has(eE(e))}saveEventToCache(e){this.cachedEventUids.add(eE(e)),this.lastProcessedEventTime=Date.now()}}function eE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function e1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(n,e={}){return $i(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sO=/^https?/;async function oO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await iO(n);for(const t of e)try{if(lO(t))return}catch{}_r(n,"unauthorized-domain")}function lO(n){const e=Hp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!sO.test(t))return!1;if(aO.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new Rc(3e4,6e4);function tE(){const n=Br().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function cO(n){return new Promise((e,t)=>{var i,s,l;function c(){tE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tE(),t(zr(n,"network-request-failed"))},timeout:uO.get()})}if(!((s=(i=Br().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=Br().gapi)===null||l===void 0)&&l.load)c();else{const f=eD("iframefcb");return Br()[f]=()=>{gapi.load?c():t(zr(n,"network-request-failed"))},LT(`${Jk()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw kf=null,e})}let kf=null;function dO(n){return kf=kf||cO(n),kf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new Rc(5e3,15e3),hO="__/auth/iframe",mO="emulator/auth/iframe",gO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yO(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fy(e,mO):`https://${n.config.authDomain}/${hO}`,i={apiKey:e.apiKey,appName:n.name,v:El},s=pO.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Ac(i).slice(1)}`}async function vO(n){const e=await dO(n),t=Br().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:yO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gO,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=zr(n,"network-request-failed"),f=Br().setTimeout(()=>{l(c)},fO.get());function h(){Br().clearTimeout(f),s(i)}i.ping(h).then(h,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bO=500,wO=600,EO="_blank",xO="http://localhost";class nE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TO(n,e,t,i=bO,s=wO){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const h=Object.assign(Object.assign({},_O),{width:i.toString(),height:s.toString(),top:l,left:c}),g=gn().toLowerCase();t&&(f=IT(g)?EO:t),CT(g)&&(e=e||xO,h.scrollbars="yes");const y=Object.entries(h).reduce((w,[T,A])=>`${w}${T}=${A},`,"");if(Hk(g)&&f!=="_self")return SO(e||"",f),new nE(null);const E=window.open(e||"",f,y);Ne(E,n,"popup-blocked");try{E.focus()}catch{}return new nE(E)}function SO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="__/auth/handler",RO="emulator/auth/handler",CO=encodeURIComponent("fac");async function rE(n,e,t,i,s,l){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:El,eventId:s};if(e instanceof FT){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",fI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,E]of Object.entries({}))c[y]=E}if(e instanceof Nc){const y=e.getScopes().filter(E=>E!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const h=await n._getAppCheckToken(),g=h?`#${CO}=${encodeURIComponent(h)}`:"";return`${NO(n)}?${Ac(f).slice(1)}${g}`}function NO({config:n}){return n.emulator?Fy(n,RO):`https://${n.authDomain}/${AO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="webStorageSupport";class IO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KT,this._completeRedirectFn=eO,this._overrideRedirectResult=XD}async _openPopup(e,t,i,s){var l;ji((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await rE(e,t,i,Hp(),s);return TO(e,c,qy())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await rE(e,t,i,Hp(),s);return OD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(ji(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await vO(e),i=new nO(e);return t.register("authEvent",s=>(Ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gp,{type:gp},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[gp];c!==void 0&&t(!!c),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=oO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return PT()||NT()||zy()}}const kO=IO;var iE="@firebase/auth",aE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MO(n){ul(new Us("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ne(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jT(n)},g=new Wk(i,s,l,h);return sD(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ul(new Us("auth-internal",e=>{const t=Xs(e.getProvider("auth").getImmediate());return(i=>new DO(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ra(iE,aE,OO(n)),Ra(iE,aE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=5*60,jO=hT("authIdTokenMaxAge")||PO;let sE=null;const LO=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>jO)return;const s=t==null?void 0:t.token;sE!==s&&(sE=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function VO(n=yT()){const e=Ly(n,"auth");if(e.isInitialized())return e.getImmediate();const t=aD(n,{popupRedirectResolver:kO,persistence:[zD,ID,KT]}),i=hT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=LO(l.toString());SD(t,c,()=>c(t.currentUser)),TD(t,f=>c(f))}}const s=dT("auth");return s&&oD(t,`http://${s}`),t}function UO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Xk({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=zr("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",UO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MO("Browser");var FO="firebase",$O="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ra(FO,$O,"app");var oE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ca,t1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,N){function I(){}I.prototype=N.prototype,O.D=N.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(P,U,L){for(var M=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)M[Ee-2]=arguments[Ee];return N.prototype[U].apply(P,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,N,I){I||(I=0);var P=Array(16);if(typeof N=="string")for(var U=0;16>U;++U)P[U]=N.charCodeAt(I++)|N.charCodeAt(I++)<<8|N.charCodeAt(I++)<<16|N.charCodeAt(I++)<<24;else for(U=0;16>U;++U)P[U]=N[I++]|N[I++]<<8|N[I++]<<16|N[I++]<<24;N=O.g[0],I=O.g[1],U=O.g[2];var L=O.g[3],M=N+(L^I&(U^L))+P[0]+3614090360&4294967295;N=I+(M<<7&4294967295|M>>>25),M=L+(U^N&(I^U))+P[1]+3905402710&4294967295,L=N+(M<<12&4294967295|M>>>20),M=U+(I^L&(N^I))+P[2]+606105819&4294967295,U=L+(M<<17&4294967295|M>>>15),M=I+(N^U&(L^N))+P[3]+3250441966&4294967295,I=U+(M<<22&4294967295|M>>>10),M=N+(L^I&(U^L))+P[4]+4118548399&4294967295,N=I+(M<<7&4294967295|M>>>25),M=L+(U^N&(I^U))+P[5]+1200080426&4294967295,L=N+(M<<12&4294967295|M>>>20),M=U+(I^L&(N^I))+P[6]+2821735955&4294967295,U=L+(M<<17&4294967295|M>>>15),M=I+(N^U&(L^N))+P[7]+4249261313&4294967295,I=U+(M<<22&4294967295|M>>>10),M=N+(L^I&(U^L))+P[8]+1770035416&4294967295,N=I+(M<<7&4294967295|M>>>25),M=L+(U^N&(I^U))+P[9]+2336552879&4294967295,L=N+(M<<12&4294967295|M>>>20),M=U+(I^L&(N^I))+P[10]+4294925233&4294967295,U=L+(M<<17&4294967295|M>>>15),M=I+(N^U&(L^N))+P[11]+2304563134&4294967295,I=U+(M<<22&4294967295|M>>>10),M=N+(L^I&(U^L))+P[12]+1804603682&4294967295,N=I+(M<<7&4294967295|M>>>25),M=L+(U^N&(I^U))+P[13]+4254626195&4294967295,L=N+(M<<12&4294967295|M>>>20),M=U+(I^L&(N^I))+P[14]+2792965006&4294967295,U=L+(M<<17&4294967295|M>>>15),M=I+(N^U&(L^N))+P[15]+1236535329&4294967295,I=U+(M<<22&4294967295|M>>>10),M=N+(U^L&(I^U))+P[1]+4129170786&4294967295,N=I+(M<<5&4294967295|M>>>27),M=L+(I^U&(N^I))+P[6]+3225465664&4294967295,L=N+(M<<9&4294967295|M>>>23),M=U+(N^I&(L^N))+P[11]+643717713&4294967295,U=L+(M<<14&4294967295|M>>>18),M=I+(L^N&(U^L))+P[0]+3921069994&4294967295,I=U+(M<<20&4294967295|M>>>12),M=N+(U^L&(I^U))+P[5]+3593408605&4294967295,N=I+(M<<5&4294967295|M>>>27),M=L+(I^U&(N^I))+P[10]+38016083&4294967295,L=N+(M<<9&4294967295|M>>>23),M=U+(N^I&(L^N))+P[15]+3634488961&4294967295,U=L+(M<<14&4294967295|M>>>18),M=I+(L^N&(U^L))+P[4]+3889429448&4294967295,I=U+(M<<20&4294967295|M>>>12),M=N+(U^L&(I^U))+P[9]+568446438&4294967295,N=I+(M<<5&4294967295|M>>>27),M=L+(I^U&(N^I))+P[14]+3275163606&4294967295,L=N+(M<<9&4294967295|M>>>23),M=U+(N^I&(L^N))+P[3]+4107603335&4294967295,U=L+(M<<14&4294967295|M>>>18),M=I+(L^N&(U^L))+P[8]+1163531501&4294967295,I=U+(M<<20&4294967295|M>>>12),M=N+(U^L&(I^U))+P[13]+2850285829&4294967295,N=I+(M<<5&4294967295|M>>>27),M=L+(I^U&(N^I))+P[2]+4243563512&4294967295,L=N+(M<<9&4294967295|M>>>23),M=U+(N^I&(L^N))+P[7]+1735328473&4294967295,U=L+(M<<14&4294967295|M>>>18),M=I+(L^N&(U^L))+P[12]+2368359562&4294967295,I=U+(M<<20&4294967295|M>>>12),M=N+(I^U^L)+P[5]+4294588738&4294967295,N=I+(M<<4&4294967295|M>>>28),M=L+(N^I^U)+P[8]+2272392833&4294967295,L=N+(M<<11&4294967295|M>>>21),M=U+(L^N^I)+P[11]+1839030562&4294967295,U=L+(M<<16&4294967295|M>>>16),M=I+(U^L^N)+P[14]+4259657740&4294967295,I=U+(M<<23&4294967295|M>>>9),M=N+(I^U^L)+P[1]+2763975236&4294967295,N=I+(M<<4&4294967295|M>>>28),M=L+(N^I^U)+P[4]+1272893353&4294967295,L=N+(M<<11&4294967295|M>>>21),M=U+(L^N^I)+P[7]+4139469664&4294967295,U=L+(M<<16&4294967295|M>>>16),M=I+(U^L^N)+P[10]+3200236656&4294967295,I=U+(M<<23&4294967295|M>>>9),M=N+(I^U^L)+P[13]+681279174&4294967295,N=I+(M<<4&4294967295|M>>>28),M=L+(N^I^U)+P[0]+3936430074&4294967295,L=N+(M<<11&4294967295|M>>>21),M=U+(L^N^I)+P[3]+3572445317&4294967295,U=L+(M<<16&4294967295|M>>>16),M=I+(U^L^N)+P[6]+76029189&4294967295,I=U+(M<<23&4294967295|M>>>9),M=N+(I^U^L)+P[9]+3654602809&4294967295,N=I+(M<<4&4294967295|M>>>28),M=L+(N^I^U)+P[12]+3873151461&4294967295,L=N+(M<<11&4294967295|M>>>21),M=U+(L^N^I)+P[15]+530742520&4294967295,U=L+(M<<16&4294967295|M>>>16),M=I+(U^L^N)+P[2]+3299628645&4294967295,I=U+(M<<23&4294967295|M>>>9),M=N+(U^(I|~L))+P[0]+4096336452&4294967295,N=I+(M<<6&4294967295|M>>>26),M=L+(I^(N|~U))+P[7]+1126891415&4294967295,L=N+(M<<10&4294967295|M>>>22),M=U+(N^(L|~I))+P[14]+2878612391&4294967295,U=L+(M<<15&4294967295|M>>>17),M=I+(L^(U|~N))+P[5]+4237533241&4294967295,I=U+(M<<21&4294967295|M>>>11),M=N+(U^(I|~L))+P[12]+1700485571&4294967295,N=I+(M<<6&4294967295|M>>>26),M=L+(I^(N|~U))+P[3]+2399980690&4294967295,L=N+(M<<10&4294967295|M>>>22),M=U+(N^(L|~I))+P[10]+4293915773&4294967295,U=L+(M<<15&4294967295|M>>>17),M=I+(L^(U|~N))+P[1]+2240044497&4294967295,I=U+(M<<21&4294967295|M>>>11),M=N+(U^(I|~L))+P[8]+1873313359&4294967295,N=I+(M<<6&4294967295|M>>>26),M=L+(I^(N|~U))+P[15]+4264355552&4294967295,L=N+(M<<10&4294967295|M>>>22),M=U+(N^(L|~I))+P[6]+2734768916&4294967295,U=L+(M<<15&4294967295|M>>>17),M=I+(L^(U|~N))+P[13]+1309151649&4294967295,I=U+(M<<21&4294967295|M>>>11),M=N+(U^(I|~L))+P[4]+4149444226&4294967295,N=I+(M<<6&4294967295|M>>>26),M=L+(I^(N|~U))+P[11]+3174756917&4294967295,L=N+(M<<10&4294967295|M>>>22),M=U+(N^(L|~I))+P[2]+718787259&4294967295,U=L+(M<<15&4294967295|M>>>17),M=I+(L^(U|~N))+P[9]+3951481745&4294967295,O.g[0]=O.g[0]+N&4294967295,O.g[1]=O.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+L&4294967295}i.prototype.u=function(O,N){N===void 0&&(N=O.length);for(var I=N-this.blockSize,P=this.B,U=this.h,L=0;L<N;){if(U==0)for(;L<=I;)s(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<N;)if(P[U++]=O.charCodeAt(L++),U==this.blockSize){s(this,P),U=0;break}}else for(;L<N;)if(P[U++]=O[L++],U==this.blockSize){s(this,P),U=0;break}}this.h=U,this.o+=N},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var N=1;N<O.length-8;++N)O[N]=0;var I=8*this.o;for(N=O.length-8;N<O.length;++N)O[N]=I&255,I/=256;for(this.u(O),O=Array(16),N=I=0;4>N;++N)for(var P=0;32>P;P+=8)O[I++]=this.g[N]>>>P&255;return O};function l(O,N){var I=f;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=N(O)}function c(O,N){this.h=N;for(var I=[],P=!0,U=O.length-1;0<=U;U--){var L=O[U]|0;P&&L==N||(I[U]=L,P=!1)}this.g=I}var f={};function h(O){return-128<=O&&128>O?l(O,function(N){return new c([N|0],0>N?-1:0)}):new c([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return E;if(0>O)return D(g(-O));for(var N=[],I=1,P=0;O>=I;P++)N[P]=O/I|0,I*=4294967296;return new c(N,0)}function y(O,N){if(O.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(O.charAt(0)=="-")return D(y(O.substring(1),N));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(N,8)),P=E,U=0;U<O.length;U+=8){var L=Math.min(8,O.length-U),M=parseInt(O.substring(U,U+L),N);8>L?(L=g(Math.pow(N,L)),P=P.j(L).add(g(M))):(P=P.j(I),P=P.add(g(M)))}return P}var E=h(0),w=h(1),T=h(16777216);n=c.prototype,n.m=function(){if(k(this))return-D(this).m();for(var O=0,N=1,I=0;I<this.g.length;I++){var P=this.i(I);O+=(0<=P?P:4294967296+P)*N,N*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(A(this))return"0";if(k(this))return"-"+D(this).toString(O);for(var N=g(Math.pow(O,6)),I=this,P="";;){var U=Z(I,N).g;I=j(I,U.j(N));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=U,A(I))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function A(O){if(O.h!=0)return!1;for(var N=0;N<O.g.length;N++)if(O.g[N]!=0)return!1;return!0}function k(O){return O.h==-1}n.l=function(O){return O=j(this,O),k(O)?-1:A(O)?0:1};function D(O){for(var N=O.g.length,I=[],P=0;P<N;P++)I[P]=~O.g[P];return new c(I,~O.h).add(w)}n.abs=function(){return k(this)?D(this):this},n.add=function(O){for(var N=Math.max(this.g.length,O.g.length),I=[],P=0,U=0;U<=N;U++){var L=P+(this.i(U)&65535)+(O.i(U)&65535),M=(L>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);P=M>>>16,L&=65535,M&=65535,I[U]=M<<16|L}return new c(I,I[I.length-1]&-2147483648?-1:0)};function j(O,N){return O.add(D(N))}n.j=function(O){if(A(this)||A(O))return E;if(k(this))return k(O)?D(this).j(D(O)):D(D(this).j(O));if(k(O))return D(this.j(D(O)));if(0>this.l(T)&&0>O.l(T))return g(this.m()*O.m());for(var N=this.g.length+O.g.length,I=[],P=0;P<2*N;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var U=0;U<O.g.length;U++){var L=this.i(P)>>>16,M=this.i(P)&65535,Ee=O.i(U)>>>16,De=O.i(U)&65535;I[2*P+2*U]+=M*De,H(I,2*P+2*U),I[2*P+2*U+1]+=L*De,H(I,2*P+2*U+1),I[2*P+2*U+1]+=M*Ee,H(I,2*P+2*U+1),I[2*P+2*U+2]+=L*Ee,H(I,2*P+2*U+2)}for(P=0;P<N;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=N;P<2*N;P++)I[P]=0;return new c(I,0)};function H(O,N){for(;(O[N]&65535)!=O[N];)O[N+1]+=O[N]>>>16,O[N]&=65535,N++}function $(O,N){this.g=O,this.h=N}function Z(O,N){if(A(N))throw Error("division by zero");if(A(O))return new $(E,E);if(k(O))return N=Z(D(O),N),new $(D(N.g),D(N.h));if(k(N))return N=Z(O,D(N)),new $(D(N.g),N.h);if(30<O.g.length){if(k(O)||k(N))throw Error("slowDivide_ only works with positive integers.");for(var I=w,P=N;0>=P.l(O);)I=ee(I),P=ee(P);var U=ie(I,1),L=ie(P,1);for(P=ie(P,2),I=ie(I,2);!A(P);){var M=L.add(P);0>=M.l(O)&&(U=U.add(I),L=M),P=ie(P,1),I=ie(I,1)}return N=j(O,U.j(N)),new $(U,N)}for(U=E;0<=O.l(N);){for(I=Math.max(1,Math.floor(O.m()/N.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=g(I),M=L.j(N);k(M)||0<M.l(O);)I-=P,L=g(I),M=L.j(N);A(L)&&(L=w),U=U.add(L),O=j(O,M)}return new $(U,O)}n.A=function(O){return Z(this,O).h},n.and=function(O){for(var N=Math.max(this.g.length,O.g.length),I=[],P=0;P<N;P++)I[P]=this.i(P)&O.i(P);return new c(I,this.h&O.h)},n.or=function(O){for(var N=Math.max(this.g.length,O.g.length),I=[],P=0;P<N;P++)I[P]=this.i(P)|O.i(P);return new c(I,this.h|O.h)},n.xor=function(O){for(var N=Math.max(this.g.length,O.g.length),I=[],P=0;P<N;P++)I[P]=this.i(P)^O.i(P);return new c(I,this.h^O.h)};function ee(O){for(var N=O.g.length+1,I=[],P=0;P<N;P++)I[P]=O.i(P)<<1|O.i(P-1)>>>31;return new c(I,O.h)}function ie(O,N){var I=N>>5;N%=32;for(var P=O.g.length-I,U=[],L=0;L<P;L++)U[L]=0<N?O.i(L+I)>>>N|O.i(L+I+1)<<32-N:O.i(L+I);return new c(U,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,t1=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Ca=c}).apply(typeof oE<"u"?oE:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n1,Xu,r1,Df,Kp,i1,a1,s1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,x){return d==Array.prototype||d==Object.prototype||(d[_]=x.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var _=0;_<d.length;++_){var x=d[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=t(this);function s(d,_){if(_)e:{var x=i;d=d.split(".");for(var C=0;C<d.length-1;C++){var q=d[C];if(!(q in x))break e;x=x[q]}d=d[d.length-1],C=x[d],_=_(C),_!=C&&_!=null&&e(x,d,{configurable:!0,writable:!0,value:_})}}function l(d,_){d instanceof String&&(d+="");var x=0,C=!1,q={next:function(){if(!C&&x<d.length){var J=x++;return{value:_(J,d[J]),done:!1}}return C=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}s("Array.prototype.values",function(d){return d||function(){return l(this,function(_,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function h(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function g(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function y(d,_,x){return d.call.apply(d.bind,arguments)}function E(d,_,x){if(!d)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,C),d.apply(_,q)}}return function(){return d.apply(_,arguments)}}function w(d,_,x){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:E,w.apply(null,arguments)}function T(d,_){var x=Array.prototype.slice.call(arguments,1);return function(){var C=x.slice();return C.push.apply(C,arguments),d.apply(this,C)}}function A(d,_){function x(){}x.prototype=_.prototype,d.aa=_.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(C,q,J){for(var me=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)me[qe-2]=arguments[qe];return _.prototype[q].apply(C,me)}}function k(d){const _=d.length;if(0<_){const x=Array(_);for(let C=0;C<_;C++)x[C]=d[C];return x}return[]}function D(d,_){for(let x=1;x<arguments.length;x++){const C=arguments[x];if(h(C)){const q=d.length||0,J=C.length||0;d.length=q+J;for(let me=0;me<J;me++)d[q+me]=C[me]}else d.push(C)}}class j{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function H(d){return/^[\s\xa0]*$/.test(d)}function $(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function Z(d){return Z[" "](d),d}Z[" "]=function(){};var ee=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ie(d,_,x){for(const C in d)_.call(x,d[C],C,d)}function O(d,_){for(const x in d)_.call(void 0,d[x],x,d)}function N(d){const _={};for(const x in d)_[x]=d[x];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,_){let x,C;for(let q=1;q<arguments.length;q++){C=arguments[q];for(x in C)d[x]=C[x];for(let J=0;J<I.length;J++)x=I[J],Object.prototype.hasOwnProperty.call(C,x)&&(d[x]=C[x])}}function U(d){var _=1;d=d.split(":");const x=[];for(;0<_&&d.length;)x.push(d.shift()),_--;return d.length&&x.push(d.join(":")),x}function L(d){f.setTimeout(()=>{throw d},0)}function M(){var d=ue;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Ee{constructor(){this.h=this.g=null}add(_,x){const C=De.get();C.set(_,x),this.h?this.h.next=C:this.g=C,this.h=C}}var De=new j(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let le,fe=!1,ue=new Ee,V=()=>{const d=f.Promise.resolve(void 0);le=()=>{d.then(W)}};var W=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(x){L(x)}var _=De;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}fe=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};f.addEventListener("test",x,_),f.removeEventListener("test",x,_)}catch{}return d}();function we(d,_){if(re.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,C=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(ee){e:{try{Z(_.nodeName);var q=!0;break e}catch{}q=!1}q||(_=null)}}else x=="mouseover"?_=d.fromElement:x=="mouseout"&&(_=d.toElement);this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:xe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&we.aa.h.call(this)}}A(we,re);var xe={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),ce=0;function Re(d,_,x,C,q){this.listener=d,this.proxy=null,this.src=_,this.type=x,this.capture=!!C,this.ha=q,this.key=++ce,this.da=this.fa=!1}function Pe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function pe(d){this.src=d,this.g={},this.h=0}pe.prototype.add=function(d,_,x,C,q){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var me=Ze(d,_,C,q);return-1<me?(_=d[me],x||(_.fa=!1)):(_=new Re(_,this.src,J,!!C,q),_.fa=x,d.push(_)),_};function be(d,_){var x=_.type;if(x in d.g){var C=d.g[x],q=Array.prototype.indexOf.call(C,_,void 0),J;(J=0<=q)&&Array.prototype.splice.call(C,q,1),J&&(Pe(_),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Ze(d,_,x,C){for(var q=0;q<d.length;++q){var J=d[q];if(!J.da&&J.listener==_&&J.capture==!!x&&J.ha==C)return q}return-1}var gt="closure_lm_"+(1e6*Math.random()|0),Dn={};function ti(d,_,x,C,q){if(Array.isArray(_)){for(var J=0;J<_.length;J++)ti(d,_[J],x,C,q);return null}return x=zc(x),d&&d[ge]?d.K(_,x,g(C)?!!C.capture:!1,q):Sn(d,_,x,!1,C,q)}function Sn(d,_,x,C,q,J){if(!_)throw Error("Invalid event type");var me=g(q)?!!q.capture:!!q,qe=ro(d);if(qe||(d[gt]=qe=new pe(d)),x=qe.add(_,x,C,me,J),x.proxy)return x;if(C=Ol(),x.proxy=C,C.src=d,C.listener=x,d.addEventListener)de||(q=me),q===void 0&&(q=!1),d.addEventListener(_.toString(),C,q);else if(d.attachEvent)d.attachEvent(Ya(_.toString()),C);else if(d.addListener&&d.removeListener)d.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ol(){function d(x){return _.call(d.src,d.listener,x)}const _=nm;return d}function Ml(d,_,x,C,q){if(Array.isArray(_))for(var J=0;J<_.length;J++)Ml(d,_[J],x,C,q);else C=g(C)?!!C.capture:!!C,x=zc(x),d&&d[ge]?(d=d.i,_=String(_).toString(),_ in d.g&&(J=d.g[_],x=Ze(J,x,C,q),-1<x&&(Pe(J[x]),Array.prototype.splice.call(J,x,1),J.length==0&&(delete d.g[_],d.h--)))):d&&(d=ro(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Ze(_,x,C,q)),(x=-1<d?_[d]:null)&&no(x))}function no(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ge])be(_.i,d);else{var x=d.type,C=d.proxy;_.removeEventListener?_.removeEventListener(x,C,d.capture):_.detachEvent?_.detachEvent(Ya(x),C):_.addListener&&_.removeListener&&_.removeListener(C),(x=ro(_))?(be(x,d),x.h==0&&(x.src=null,_[gt]=null)):Pe(d)}}}function Ya(d){return d in Dn?Dn[d]:Dn[d]="on"+d}function nm(d,_){if(d.da)d=!0;else{_=new we(_,this);var x=d.listener,C=d.ha||d.src;d.fa&&no(d),d=x.call(C,_)}return d}function ro(d){return d=d[gt],d instanceof pe?d:null}var Pl="__closure_events_fn_"+(1e9*Math.random()>>>0);function zc(d){return typeof d=="function"?d:(d[Pl]||(d[Pl]=function(_){return d.handleEvent(_)}),d[Pl])}function Tt(){he.call(this),this.i=new pe(this),this.M=this,this.F=null}A(Tt,he),Tt.prototype[ge]=!0,Tt.prototype.removeEventListener=function(d,_,x,C){Ml(this,d,_,x,C)};function nt(d,_){var x,C=d.F;if(C)for(x=[];C;C=C.F)x.push(C);if(d=d.M,C=_.type||_,typeof _=="string")_=new re(_,d);else if(_ instanceof re)_.target=_.target||d;else{var q=_;_=new re(C,d),P(_,q)}if(q=!0,x)for(var J=x.length-1;0<=J;J--){var me=_.g=x[J];q=On(me,C,!0,_)&&q}if(me=_.g=d,q=On(me,C,!0,_)&&q,q=On(me,C,!1,_)&&q,x)for(J=0;J<x.length;J++)me=_.g=x[J],q=On(me,C,!1,_)&&q}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var x=d.g[_],C=0;C<x.length;C++)Pe(x[C]);delete d.g[_],d.h--}}this.F=null},Tt.prototype.K=function(d,_,x,C){return this.i.add(String(d),_,!1,x,C)},Tt.prototype.L=function(d,_,x,C){return this.i.add(String(d),_,!0,x,C)};function On(d,_,x,C){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var q=!0,J=0;J<_.length;++J){var me=_[J];if(me&&!me.da&&me.capture==x){var qe=me.listener,Ut=me.ha||me.src;me.fa&&be(d.i,me),q=qe.call(Ut,C)!==!1&&q}}return q&&!C.defaultPrevented}function on(d,_,x){if(typeof d=="function")x&&(d=w(d,x));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(d,_||0)}function Bc(d){d.g=on(()=>{d.g=null,d.i&&(d.i=!1,Bc(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class rm extends he{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Bc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ka(d){he.call(this),this.h=d,this.g={}}A(Ka,he);var Qa=[];function Wa(d){ie(d.g,function(_,x){this.g.hasOwnProperty(x)&&no(_)},d),d.g={}}Ka.prototype.N=function(){Ka.aa.N.call(this),Wa(this)},Ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=f.JSON.stringify,io=f.JSON.parse,Xa=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function jl(){}jl.prototype.h=null;function Ll(d){return d.h||(d.h=d.i())}function Vl(){}var ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ri(){re.call(this,"d")}A(ri,re);function Ul(){re.call(this,"c")}A(Ul,re);var Tr={},Fl=null;function zi(){return Fl=Fl||new Tt}Tr.La="serverreachability";function ao(d){re.call(this,Tr.La,d)}A(ao,re);function Bi(d){const _=zi();nt(_,new ao(_))}Tr.STAT_EVENT="statevent";function Hc(d,_){re.call(this,Tr.STAT_EVENT,d),this.stat=_}A(Hc,re);function pt(d){const _=zi();nt(_,new Hc(_,d))}Tr.Ma="timingevent";function Vt(d,_){re.call(this,Tr.Ma,d),this.size=_}A(Vt,re);function kt(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},_)}function Gn(){this.g=!0}Gn.prototype.xa=function(){this.g=!1};function $l(d,_,x,C,q,J){d.info(function(){if(d.g)if(J)for(var me="",qe=J.split("&"),Ut=0;Ut<qe.length;Ut++){var Ge=qe[Ut].split("=");if(1<Ge.length){var Gt=Ge[0];Ge=Ge[1];var Ft=Gt.split("_");me=2<=Ft.length&&Ft[1]=="type"?me+(Gt+"="+Ge+"&"):me+(Gt+"=redacted&")}}else me=null;else me=J;return"XMLHTTP REQ ("+C+") [attempt "+q+"]: "+_+`
`+x+`
`+me})}function im(d,_,x,C,q,J,me){d.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+q+"]: "+_+`
`+x+`
`+J+" "+me})}function Hi(d,_,x,C){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Za(d,x)+(C?" "+C:"")})}function qc(d,_){d.info(function(){return"TIMEOUT: "+_})}Gn.prototype.info=function(){};function Za(d,_){if(!d.g)return _;if(!_)return null;try{var x=JSON.parse(_);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var C=x[d];if(!(2>C.length)){var q=C[1];if(Array.isArray(q)&&!(1>q.length)){var J=q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var me=1;me<q.length;me++)q[me]=""}}}}return ur(x)}catch{return _}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sr;function Ar(){}A(Ar,jl),Ar.prototype.g=function(){return new XMLHttpRequest},Ar.prototype.i=function(){return{}},Sr=new Ar;function pn(d,_,x,C){this.j=d,this.i=_,this.l=x,this.R=C||1,this.U=new Ka(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rt}function Rt(){this.i=null,this.g="",this.h=!1}var zl={},so={};function cr(d,_,x){d.L=1,d.v=rs(Mn(_)),d.m=x,d.P=!0,ai(d,null)}function ai(d,_){d.F=Date.now(),Ja(d),d.A=Mn(d.v);var x=d.A,C=d.R;Array.isArray(C)||(C=[String(C)]),Kl(x.i,"t",C),d.C=0,x=d.j.J,d.h=new Rt,d.g=od(d.j,x?_:null,!d.m),0<d.O&&(d.M=new rm(w(d.Y,d,d.g),d.O)),_=d.U,x=d.g,C=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(Qa[0]=q.toString()),q=Qa);for(var J=0;J<q.length;J++){var me=ti(x,q[J],C||_.handleEvent,!1,_.h||_);if(!me)break;_.g[me.key]=me}_=d.H?N(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Bi(),$l(d.i,d.u,d.A,d.l,d.R,d.m)}pn.prototype.ca=function(d){d=d.target;const _=this.M;_&&Wn(d)==3?_.j():this.Y(d)},pn.prototype.Y=function(d){try{if(d==this.g)e:{const Ft=Wn(this.g);var _=this.g.Ba();const hi=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||Jc(this.g)))){this.J||Ft!=4||_==7||(_==8||0>=hi?Bi(3):Bi(2)),Gi(this);var x=this.g.Z();this.X=x;t:if(Gc(this)){var C=Jc(this.g);d="";var q=C.length,J=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xt(this),Rr(this);var me="";break t}this.h.i=new f.TextDecoder}for(_=0;_<q;_++)this.h.h=!0,d+=this.h.i.decode(C[_],{stream:!(J&&_==q-1)});C.length=0,this.h.g+=d,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=x==200,im(this.i,this.u,this.A,this.l,this.R,Ft,x),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Ut=this.g;if((qe=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(qe)){var Ge=qe;break t}}Ge=null}if(x=Ge)Hi(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,es(this,x);else{this.o=!1,this.s=3,pt(12),Xt(this),Rr(this);break e}}if(this.P){x=!0;let Zt;for(;!this.J&&this.C<me.length;)if(Zt=Yc(this,me),Zt==so){Ft==4&&(this.s=4,pt(14),x=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==zl){this.s=4,pt(15),Hi(this.i,this.l,me,"[Invalid Chunk]"),x=!1;break}else Hi(this.i,this.l,Zt,null),es(this,Zt);if(Gc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||me.length!=0||this.h.h||(this.s=1,pt(16),x=!1),this.o=this.o&&x,!x)Hi(this.i,this.l,me,"[Invalid Chunked Response]"),Xt(this),Rr(this);else if(0<me.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),ds(Gt),Gt.M=!0,pt(11))}}else Hi(this.i,this.l,me,null),es(this,me);Ft==4&&Xt(this),this.o&&!this.J&&(Ft==4?id(this.j,this):(this.o=!1,Ja(this)))}else um(this.g),x==400&&0<me.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Xt(this),Rr(this)}}}catch{}finally{}};function Gc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Yc(d,_){var x=d.C,C=_.indexOf(`
`,x);return C==-1?so:(x=Number(_.substring(x,C)),isNaN(x)?zl:(C+=1,C+x>_.length?so:(_=_.slice(C,C+x),d.C=C+x,_)))}pn.prototype.cancel=function(){this.J=!0,Xt(this)};function Ja(d){d.S=Date.now()+d.I,Kc(d,d.I)}function Kc(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=kt(w(d.ba,d),_)}function Gi(d){d.B&&(f.clearTimeout(d.B),d.B=null)}pn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(qc(this.i,this.A),this.L!=2&&(Bi(),pt(17)),Xt(this),this.s=2,Rr(this)):Kc(this,this.S-d)};function Rr(d){d.j.G==0||d.J||id(d.j,d)}function Xt(d){Gi(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Wa(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function es(d,_){try{var x=d.j;if(x.G!=0&&(x.g==d||Bl(x.h,d))){if(!d.K&&Bl(x.h,d)&&x.G==3){try{var C=x.Da.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var q=C;if(q[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)_o(x),yo(x);else break e;Jl(x),pt(18)}}else x.za=q[1],0<x.za-x.T&&37500>q[2]&&x.F&&x.v==0&&!x.C&&(x.C=kt(w(x.Za,x),6e3));if(1>=lo(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else fi(x,11)}else if((d.K||x.g==d)&&_o(x),!H(_))for(q=x.Da.g.parse(_),_=0;_<q.length;_++){let Ge=q[_];if(x.T=Ge[0],Ge=Ge[1],x.G==2)if(Ge[0]=="c"){x.K=Ge[1],x.ia=Ge[2];const Gt=Ge[3];Gt!=null&&(x.la=Gt,x.j.info("VER="+x.la));const Ft=Ge[4];Ft!=null&&(x.Aa=Ft,x.j.info("SVER="+x.Aa));const hi=Ge[5];hi!=null&&typeof hi=="number"&&0<hi&&(C=1.5*hi,x.L=C,x.j.info("backChannelRequestTimeoutMs_="+C)),C=x;const Zt=d.g;if(Zt){const Mr=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var J=C.h;J.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(uo(J,J.h),J.h=null))}if(C.D){const tu=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;tu&&(C.ya=tu,st(C.I,C.D,tu))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),C=x;var me=d;if(C.qa=sd(C,C.J?C.ia:null,C.W),me.K){yn(C.h,me);var qe=me,Ut=C.L;Ut&&(qe.I=Ut),qe.B&&(Gi(qe),Ja(qe)),C.g=me}else nd(C);0<x.i.length&&vo(x)}else Ge[0]!="stop"&&Ge[0]!="close"||fi(x,7);else x.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?fi(x,7):Xl(x):Ge[0]!="noop"&&x.l&&x.l.ta(Ge),x.v=0)}}Bi(4)}catch{}}var Qc=class{constructor(d,_){this.g=d,this.map=_}};function si(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function lo(d){return d.h?1:d.g?d.g.size:0}function Bl(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function uo(d,_){d.g?d.g.add(_):d.h=_}function yn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}si.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Hl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const x of d.g.values())_=_.concat(x.D);return _}return k(d.i)}function am(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var _=[],x=d.length,C=0;C<x;C++)_.push(d[C]);return _}_=[],x=0;for(C in d)_[x++]=d[C];return _}function co(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var _=[];d=d.length;for(var x=0;x<d;x++)_.push(x);return _}_=[],x=0;for(const C in d)_[x++]=C;return _}}}function ql(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var x=co(d),C=am(d),q=C.length,J=0;J<q;J++)_.call(void 0,C[J],x&&x[J],d)}var ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sm(d,_){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var C=d[x].indexOf("="),q=null;if(0<=C){var J=d[x].substring(0,C);q=d[x].substring(C+1)}else J=d[x];_(J,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Dt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Dt){this.h=d.h,ns(this,d.j),this.o=d.o,this.g=d.g,Yi(this,d.s),this.l=d.l;var _=d.i,x=new li;x.i=_.i,_.g&&(x.g=new Map(_.g),x.h=_.h),oi(this,x),this.m=d.m}else d&&(_=String(d).match(ts))?(this.h=!1,ns(this,_[1]||"",!0),this.o=Yn(_[2]||""),this.g=Yn(_[3]||"",!0),Yi(this,_[4]),this.l=Yn(_[5]||"",!0),oi(this,_[6]||"",!0),this.m=Yn(_[7]||"")):(this.h=!1,this.i=new li(null,this.h))}Dt.prototype.toString=function(){var d=[],_=this.j;_&&d.push(is(_,Gl,!0),":");var x=this.g;return(x||_=="file")&&(d.push("//"),(_=this.o)&&d.push(is(_,Gl,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(is(x,x.charAt(0)=="/"?om:Yl,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",is(x,fo)),d.join("")};function Mn(d){return new Dt(d)}function ns(d,_,x){d.j=x?Yn(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Yi(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function oi(d,_,x){_ instanceof li?(d.i=_,Xc(d.i,d.h)):(x||(_=is(_,lm)),d.i=new li(_,d.h))}function st(d,_,x){d.i.set(_,x)}function rs(d){return st(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Yn(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function is(d,_,x){return typeof d=="string"?(d=encodeURI(d).replace(_,Wc),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Wc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Gl=/[#\/\?@]/g,Yl=/[#\?:]/g,om=/[#\?]/g,lm=/[#\?@]/g,fo=/#/g;function li(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Kn(d){d.g||(d.g=new Map,d.h=0,d.i&&sm(d.i,function(_,x){d.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}n=li.prototype,n.add=function(d,_){Kn(this),this.i=null,d=Cr(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(_),this.h+=1,this};function ui(d,_){Kn(d),_=Cr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function ci(d,_){return Kn(d),_=Cr(d,_),d.g.has(_)}n.forEach=function(d,_){Kn(this),this.g.forEach(function(x,C){x.forEach(function(q){d.call(_,q,C,this)},this)},this)},n.na=function(){Kn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),x=[];for(let C=0;C<_.length;C++){const q=d[C];for(let J=0;J<q.length;J++)x.push(_[C])}return x},n.V=function(d){Kn(this);let _=[];if(typeof d=="string")ci(this,d)&&(_=_.concat(this.g.get(Cr(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)_=_.concat(d[x])}return _},n.set=function(d,_){return Kn(this),this.i=null,d=Cr(this,d),ci(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Kl(d,_,x){ui(d,_),0<x.length&&(d.i=null,d.g.set(Cr(d,_),k(x)),d.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var x=0;x<_.length;x++){var C=_[x];const J=encodeURIComponent(String(C)),me=this.V(C);for(C=0;C<me.length;C++){var q=J;me[C]!==""&&(q+="="+encodeURIComponent(String(me[C]))),d.push(q)}}return this.i=d.join("&")};function Cr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Xc(d,_){_&&!d.j&&(Kn(d),d.i=null,d.g.forEach(function(x,C){var q=C.toLowerCase();C!=q&&(ui(this,C),Kl(this,q,x))},d)),d.j=_}function as(d,_){const x=new Gn;if(f.Image){const C=new Image;C.onload=T(Qn,x,"TestLoadImage: loaded",!0,_,C),C.onerror=T(Qn,x,"TestLoadImage: error",!1,_,C),C.onabort=T(Qn,x,"TestLoadImage: abort",!1,_,C),C.ontimeout=T(Qn,x,"TestLoadImage: timeout",!1,_,C),f.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=d}else _(!1)}function dr(d,_){const x=new Gn,C=new AbortController,q=setTimeout(()=>{C.abort(),Qn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:C.signal}).then(J=>{clearTimeout(q),J.ok?Qn(x,"TestPingServer: ok",!0,_):Qn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Qn(x,"TestPingServer: error",!1,_)})}function Qn(d,_,x,C,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),C(x)}catch{}}function ss(){this.g=new Xa}function Nr(d,_,x){const C=x||"";try{ql(d,function(q,J){let me=q;g(q)&&(me=ur(q)),_.push(C+J+"="+encodeURIComponent(me))})}catch(q){throw _.push(C+"type="+encodeURIComponent("_badmap")),q}}function Ki(d){this.l=d.Ub||null,this.j=d.eb||!1}A(Ki,jl),Ki.prototype.g=function(){return new di(this.l,this.j)},Ki.prototype.i=function(d){return function(){return d}}({});function di(d,_){Tt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(di,Tt),n=di.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,kr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,kr(this)),this.g&&(this.readyState=3,kr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ql(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ql(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Ir(this):kr(this),this.readyState==3&&Ql(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Ir(this))},n.Qa=function(d){this.g&&(this.response=d,Ir(this))},n.ga=function(){this.g&&Ir(this)};function Ir(d){d.readyState=4,d.l=null,d.j=null,d.v=null,kr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=_.next();return d.join(`\r
`)};function kr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Wl(d){let _="";return ie(d,function(x,C){_+=C,_+=":",_+=x,_+=`\r
`}),_}function qt(d,_,x){e:{for(C in x){var C=!1;break e}C=!0}C||(x=Wl(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):st(d,_,x))}function Je(d){Tt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Je,Tt);var ho=/^https?$/i,os=["POST","PUT"];n=Je.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,x,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sr.g(),this.v=this.o?Ll(this.o):Ll(Sr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(J){Zc(this,J);return}if(d=x||"",x=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var q in C)x.set(q,C[q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())x.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(x.keys()).find(J=>J.toLowerCase()=="content-type"),q=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(os,_,void 0))||C||q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,me]of x)this.g.setRequestHeader(J,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ls(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){Zc(this,J)}};function Zc(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,mo(d),Dr(d)}function mo(d){d.A||(d.A=!0,nt(d,"complete"),nt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,nt(this,"complete"),nt(this,"abort"),Dr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dr(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?go(this):this.bb())},n.bb=function(){go(this)};function go(d){if(d.h&&typeof c<"u"&&(!d.v[1]||Wn(d)!=4||d.Z()!=2)){if(d.u&&Wn(d)==4)on(d.Ea,0,d);else if(nt(d,"readystatechange"),Wn(d)==4){d.h=!1;try{const me=d.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var C;if(C=me===0){var q=String(d.D).match(ts)[1]||null;!q&&f.self&&f.self.location&&(q=f.self.location.protocol.slice(0,-1)),C=!ho.test(q?q.toLowerCase():"")}x=C}if(x)nt(d,"complete"),nt(d,"success");else{d.m=6;try{var J=2<Wn(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",mo(d)}}finally{Dr(d)}}}}function Dr(d,_){if(d.g){ls(d);const x=d.g,C=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||nt(d,"ready");try{x.onreadystatechange=C}catch{}}}function ls(d){d.I&&(f.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Wn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),io(_)}};function Jc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function um(d){const _={};d=(d.g&&2<=Wn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<d.length;C++){if(H(d[C]))continue;var x=U(d[C]);const q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const J=_[q]||[];_[q]=J,J.push(x)}O(_,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function us(d,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||_}function po(d){this.Aa=0,this.i=[],this.j=new Gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=us("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=us("baseRetryDelayMs",5e3,d),this.cb=us("retryDelaySeedMs",1e4,d),this.Wa=us("forwardChannelMaxRetries",2,d),this.wa=us("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new si(d&&d.concurrentRequestLimit),this.Da=new ss,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=po.prototype,n.la=8,n.G=1,n.connect=function(d,_,x,C){pt(0),this.W=d,this.H=_||{},x&&C!==void 0&&(this.H.OSID=x,this.H.OAID=C),this.F=this.X,this.I=sd(this,null,this.W),vo(this)};function Xl(d){if(ed(d),d.G==3){var _=d.U++,x=Mn(d.I);if(st(x,"SID",d.K),st(x,"RID",_),st(x,"TYPE","terminate"),cs(d,x),_=new pn(d,d.j,_),_.L=2,_.v=rs(Mn(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!x&&f.Image&&(new Image().src=_.v,x=!0),x||(_.g=od(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ja(_)}ad(d)}function yo(d){d.g&&(ds(d),d.g.cancel(),d.g=null)}function ed(d){yo(d),d.u&&(f.clearTimeout(d.u),d.u=null),_o(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function vo(d){if(!oo(d.h)&&!d.s){d.s=!0;var _=d.Ga;le||V(),fe||(le(),fe=!0),ue.add(_,d),d.B=0}}function cm(d,_){return lo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=kt(w(d.Ga,d,_),eu(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const q=new pn(this,this.j,d);let J=this.o;if(this.S&&(J?(J=N(J),P(J,this.S)):J=this.S),this.m!==null||this.O||(q.H=J,J=null),this.P)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var C=this.i[x];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,4096<_){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=td(this,q,_),x=Mn(this.I),st(x,"RID",d),st(x,"CVER",22),this.D&&st(x,"X-HTTP-Session-Id",this.D),cs(this,x),J&&(this.O?_="headers="+encodeURIComponent(String(Wl(J)))+"&"+_:this.m&&qt(x,this.m,J)),uo(this.h,q),this.Ua&&st(x,"TYPE","init"),this.P?(st(x,"$req",_),st(x,"SID","null"),q.T=!0,cr(q,x,null)):cr(q,x,_),this.G=2}}else this.G==3&&(d?Zl(this,d):this.i.length==0||oo(this.h)||Zl(this))};function Zl(d,_){var x;_?x=_.l:x=d.U++;const C=Mn(d.I);st(C,"SID",d.K),st(C,"RID",x),st(C,"AID",d.T),cs(d,C),d.m&&d.o&&qt(C,d.m,d.o),x=new pn(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),_&&(d.i=_.D.concat(d.i)),_=td(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),uo(d.h,x),cr(x,C,_)}function cs(d,_){d.H&&ie(d.H,function(x,C){st(_,C,x)}),d.l&&ql({},function(x,C){st(_,C,x)})}function td(d,_,x){x=Math.min(d.i.length,x);var C=d.l?w(d.l.Na,d.l,d):null;e:{var q=d.i;let J=-1;for(;;){const me=["count="+x];J==-1?0<x?(J=q[0].g,me.push("ofs="+J)):J=0:me.push("ofs="+J);let qe=!0;for(let Ut=0;Ut<x;Ut++){let Ge=q[Ut].g;const Gt=q[Ut].map;if(Ge-=J,0>Ge)J=Math.max(0,q[Ut].g-100),qe=!1;else try{Nr(Gt,me,"req"+Ge+"_")}catch{C&&C(Gt)}}if(qe){C=me.join("&");break e}}}return d=d.i.splice(0,x),_.D=d,C}function nd(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;le||V(),fe||(le(),fe=!0),ue.add(_,d),d.v=0}}function Jl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=kt(w(d.Fa,d),eu(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,rd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=kt(w(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),yo(this),rd(this))};function ds(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function rd(d){d.g=new pn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Mn(d.qa);st(_,"RID","rpc"),st(_,"SID",d.K),st(_,"AID",d.T),st(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&st(_,"TO",d.ja),st(_,"TYPE","xmlhttp"),cs(d,_),d.m&&d.o&&qt(_,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=rs(Mn(_)),x.m=null,x.P=!0,ai(x,d)}n.Za=function(){this.C!=null&&(this.C=null,yo(this),Jl(this),pt(19))};function _o(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function id(d,_){var x=null;if(d.g==_){_o(d),ds(d),d.g=null;var C=2}else if(Bl(d.h,_))x=_.D,yn(d.h,_),C=1;else return;if(d.G!=0){if(_.o)if(C==1){x=_.m?_.m.length:0,_=Date.now()-_.F;var q=d.B;C=zi(),nt(C,new Vt(C,x)),vo(d)}else nd(d);else if(q=_.s,q==3||q==0&&0<_.X||!(C==1&&cm(d,_)||C==2&&Jl(d)))switch(x&&0<x.length&&(_=d.h,_.i=_.i.concat(x)),q){case 1:fi(d,5);break;case 4:fi(d,10);break;case 3:fi(d,6);break;default:fi(d,2)}}}function eu(d,_){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*_}function fi(d,_){if(d.j.info("Error code "+_),_==2){var x=w(d.fb,d),C=d.Xa;const q=!C;C=new Dt(C||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ns(C,"https"),rs(C),q?as(C.toString(),x):dr(C.toString(),x)}else pt(2);d.G=0,d.l&&d.l.sa(_),ad(d),ed(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function ad(d){if(d.G=0,d.ka=[],d.l){const _=Hl(d.h);(_.length!=0||d.i.length!=0)&&(D(d.ka,_),D(d.ka,d.i),d.h.i.length=0,k(d.i),d.i.length=0),d.l.ra()}}function sd(d,_,x){var C=x instanceof Dt?Mn(x):new Dt(x);if(C.g!="")_&&(C.g=_+"."+C.g),Yi(C,C.s);else{var q=f.location;C=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;var J=new Dt(null);C&&ns(J,C),_&&(J.g=_),q&&Yi(J,q),x&&(J.l=x),C=J}return x=d.D,_=d.ya,x&&_&&st(C,x,_),st(C,"VER",d.la),cs(d,C),C}function od(d,_,x){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Je(new Ki({eb:x})):new Je(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ld(){}n=ld.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function bo(){}bo.prototype.g=function(d,_){return new vn(d,_)};function vn(d,_){Tt.call(this),this.g=new po(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!H(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!H(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Or(this)}A(vn,Tt),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Xl(this.g)},vn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=ur(d),d=x);_.i.push(new Qc(_.Ya++,d)),_.G==3&&vo(_)},vn.prototype.N=function(){this.g.l=null,delete this.j,Xl(this.g),delete this.g,vn.aa.N.call(this)};function ud(d){ri.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const x in _){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}A(ud,ri);function cd(){Ul.call(this),this.status=1}A(cd,Ul);function Or(d){this.g=d}A(Or,ld),Or.prototype.ua=function(){nt(this.g,"a")},Or.prototype.ta=function(d){nt(this.g,new ud(d))},Or.prototype.sa=function(d){nt(this.g,new cd)},Or.prototype.ra=function(){nt(this.g,"b")},bo.prototype.createWebChannel=bo.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,s1=function(){return new bo},a1=function(){return zi()},i1=Tr,Kp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,Df=qi,ii.COMPLETE="complete",r1=ii,Vl.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Xu=Vl,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,n1=Je}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});const lE="@firebase/firestore",uE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new Py("@firebase/firestore");function Jo(){return zs.logLevel}function ye(n,...e){if(zs.logLevel<=Be.DEBUG){const t=e.map(Yy);zs.debug(`Firestore (${Tl}): ${n}`,...t)}}function Li(n,...e){if(zs.logLevel<=Be.ERROR){const t=e.map(Yy);zs.error(`Firestore (${Tl}): ${n}`,...t)}}function dl(n,...e){if(zs.logLevel<=Be.WARN){const t=e.map(Yy);zs.warn(`Firestore (${Tl}): ${n}`,...t)}}function Yy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n="Unexpected state"){const e=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: `+n;throw Li(e),new Error(e)}function et(n,e){n||ke()}function Me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class BO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class HO{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0);let i=this.i;const s=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let l=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Di,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const h=l;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},f=h=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Di)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(et(typeof i.accessToken=="string"),new o1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new dn(e)}}class qO{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class GO{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new qO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YO{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,sr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){et(this.o===void 0);const i=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new cE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(et(typeof t.token=="string"),this.R=t.token,new cE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=KO(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function Ve(n,e){return n<e?-1:n>e?1:0}function Qp(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return Ve(i,s);{const l=l1(),c=QO(l.encode(dE(n,t)),l.encode(dE(e,t)));return c!==0?c:Ve(i,s)}}t+=i>65535?2:1}return Ve(n.length,e.length)}function dE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function QO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ve(n[t],e[t]);return Ve(n.length,e.length)}function fl(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=-62135596800,hE=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*hE);return new Bt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<fE)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-fE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Bt(0,0))}static max(){return new Oe(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="__name__";class Fr{constructor(e,t,i){t===void 0?t=0:t>e.length&&ke(),i===void 0?i=e.length-t:i>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=Fr.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Ve(e.length,t.length)}static compareSegments(e,t){const i=Fr.isNumericId(e),s=Fr.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Fr.extractNumericId(e).compare(Fr.extractNumericId(t)):Qp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ca.fromString(e.substring(4,e.length-2))}}class mt extends Fr{construct(e,t,i){return new mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new mt(t)}static emptyPath(){return new mt([])}}const WO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Fr{construct(e,t,i){return new an(e,t,i)}static isValidIdentifier(e){return WO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mE}static keyField(){return new an([mE])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else f==="`"?(c=!c,s++):f!=="."||c?(i+=f,s++):(l(),s++)}if(l(),c)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(mt.fromString(e))}static fromName(e){return new Se(mt.fromString(e).popFirst(5))}static empty(){return new Se(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function XO(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Oe.fromTimestamp(i===1e9?new Bt(t+1,0):new Bt(t,i));return new Ia(s,Se.empty(),e)}function ZO(n){return new Ia(n.readTime,n.key,hc)}class Ia{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ia(Oe.min(),Se.empty(),hc)}static max(){return new Ia(Oe.max(),Se.empty(),hc)}}function JO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==eM)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let s=0,l=0,c=!1;e.forEach(f=>{++s,f.next(()=>{++l,c&&l===s&&t()},h=>i(h))}),c=!0,l===s&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(s=>s?se.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,l)=>{i.push(t.call(this,s,l))}),this.waitFor(i)}static mapArray(e,t){return new se((i,s)=>{const l=e.length,c=new Array(l);let f=0;for(let h=0;h<l;h++){const g=h;t(e[g]).next(y=>{c[g]=y,++f,f===l&&i(c)},y=>s(y))}})}static doWhile(e,t){return new se((i,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):i()};l()})}}function nM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Al(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}xh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=-1;function Th(n){return n==null}function Qf(n){return n===0&&1/n==-1/0}function rM(n){return typeof n=="number"&&Number.isInteger(n)&&!Qf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="";function iM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=gE(e)),e=aM(n.get(t),e);return gE(e)}function aM(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case c1:t+="";break;default:t+=l}}return t}function gE(n){return n+c1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ha(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function d1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,t){this.comparator=e,this.root=t||rn.EMPTY}insert(e,t){return new xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pf(this.root,e,this.comparator,!1)}getReverseIterator(){return new pf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pf(this.root,e,this.comparator,!0)}}class pf{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??rn.RED,this.left=s??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new rn(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return rn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,i,s,l){return this}insert(e,t,i){return new rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yE(this.data.getIterator())}getIteratorFrom(e){return new yE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class yE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new zn([])}unionWith(e){let t=new Ht(an.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new f1("Invalid base64 string: "+l):l}}(e);return new sn(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const sM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(n){if(et(!!n),typeof n=="string"){let e=0;const t=sM.exec(n);if(et(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Da(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="server_timestamp",m1="__type__",g1="__previous_value__",p1="__local_write_time__";function Qy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[m1])===null||t===void 0?void 0:t.stringValue)===h1}function Sh(n){const e=n.mapValue.fields[g1];return Qy(e)?Sh(e):e}function mc(n){const e=ka(n.mapValue.fields[p1].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,t,i,s,l,c,f,h,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=g}}const Wf="(default)";class gc{constructor(e,t){this.projectId=e,this.database=t||Wf}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database===Wf}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="__type__",lM="__max__",yf={mapValue:{}},v1="__vector__",Xf="value";function Oa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qy(n)?4:cM(n)?9007199254740991:uM(n)?10:11:ke()}function Qr(n,e){if(n===e)return!0;const t=Oa(n);if(t!==Oa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mc(n).isEqual(mc(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=ka(s.timestampValue),f=ka(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return Da(s.bytesValue).isEqual(Da(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return It(s.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return It(s.integerValue)===It(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=It(s.doubleValue),f=It(l.doubleValue);return c===f?Qf(c)===Qf(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return fl(n.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},f=l.mapValue.fields||{};if(pE(c)!==pE(f))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(f[h]===void 0||!Qr(c[h],f[h])))return!1;return!0}(n,e);default:return ke()}}function pc(n,e){return(n.values||[]).find(t=>Qr(t,e))!==void 0}function hl(n,e){if(n===e)return 0;const t=Oa(n),i=Oa(e);if(t!==i)return Ve(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=It(l.integerValue||l.doubleValue),h=It(c.integerValue||c.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return vE(n.timestampValue,e.timestampValue);case 4:return vE(mc(n),mc(e));case 5:return Qp(n.stringValue,e.stringValue);case 6:return function(l,c){const f=Da(l),h=Da(c);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),h=c.split("/");for(let g=0;g<f.length&&g<h.length;g++){const y=Ve(f[g],h[g]);if(y!==0)return y}return Ve(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Ve(It(l.latitude),It(c.latitude));return f!==0?f:Ve(It(l.longitude),It(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return _E(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,h,g,y;const E=l.fields||{},w=c.fields||{},T=(f=E[Xf])===null||f===void 0?void 0:f.arrayValue,A=(h=w[Xf])===null||h===void 0?void 0:h.arrayValue,k=Ve(((g=T==null?void 0:T.values)===null||g===void 0?void 0:g.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return k!==0?k:_E(T,A)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===yf.mapValue&&c===yf.mapValue)return 0;if(l===yf.mapValue)return 1;if(c===yf.mapValue)return-1;const f=l.fields||{},h=Object.keys(f),g=c.fields||{},y=Object.keys(g);h.sort(),y.sort();for(let E=0;E<h.length&&E<y.length;++E){const w=Qp(h[E],y[E]);if(w!==0)return w;const T=hl(f[h[E]],g[y[E]]);if(T!==0)return T}return Ve(h.length,y.length)}(n.mapValue,e.mapValue);default:throw ke()}}function vE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=ka(n),i=ka(e),s=Ve(t.seconds,i.seconds);return s!==0?s:Ve(t.nanos,i.nanos)}function _E(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=hl(t[s],i[s]);if(l)return l}return Ve(t.length,i.length)}function ml(n){return Wp(n)}function Wp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ka(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Da(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=Wp(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${Wp(t.fields[c])}`;return s+"}"}(n.mapValue):ke()}function Of(n){switch(Oa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sh(n);return e?16+Of(e):16;case 5:return 2*n.stringValue.length;case 6:return Da(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,l)=>s+Of(l),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Ha(i.fields,(l,c)=>{s+=l.length+Of(c)}),s}(n.mapValue);default:throw ke()}}function bE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xp(n){return!!n&&"integerValue"in n}function Wy(n){return!!n&&"arrayValue"in n}function wE(n){return!!n&&"nullValue"in n}function EE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mf(n){return!!n&&"mapValue"in n}function uM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[y1])===null||t===void 0?void 0:t.stringValue)===v1}function ic(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ha(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ic(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ic(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Mf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(t)}setAll(e){let t=an.emptyPath(),i={},s=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,i,s),i={},s=[],t=f.popLast()}c?i[f.lastSegment()]=ic(c):s.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());Mf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Mf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Ha(t,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new In(ic(this.value))}}function _1(n){const e=[];return Ha(n.fields,(t,i)=>{const s=new an([t]);if(Mf(i)){const l=_1(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,i,s,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new fn(e,0,Oe.min(),Oe.min(),Oe.min(),In.empty(),0)}static newFoundDocument(e,t,i,s){return new fn(e,1,t,Oe.min(),i,s,0)}static newNoDocument(e,t){return new fn(e,2,t,Oe.min(),Oe.min(),In.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,Oe.min(),Oe.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,t){this.position=e,this.inclusive=t}}function xE(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=Se.comparator(Se.fromName(c.referenceValue),t.key):i=hl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function TE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t="asc"){this.field=e,this.dir=t}}function dM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{}class jt extends b1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new hM(e,t,i):t==="array-contains"?new pM(e,i):t==="in"?new yM(e,i):t==="not-in"?new vM(e,i):t==="array-contains-any"?new _M(e,i):new jt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new mM(e,i):new gM(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(hl(t,this.value)):t!==null&&Oa(this.value)===Oa(t)&&this.matchesComparison(hl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends b1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new br(e,t)}matches(e){return w1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function w1(n){return n.op==="and"}function E1(n){return fM(n)&&w1(n)}function fM(n){for(const e of n.filters)if(e instanceof br)return!1;return!0}function Zp(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+ml(n.value);if(E1(n))return n.filters.map(e=>Zp(e)).join(",");{const e=n.filters.map(t=>Zp(t)).join(",");return`${n.op}(${e})`}}function x1(n,e){return n instanceof jt?function(i,s){return s instanceof jt&&i.op===s.op&&i.field.isEqual(s.field)&&Qr(i.value,s.value)}(n,e):n instanceof br?function(i,s){return s instanceof br&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((l,c,f)=>l&&x1(c,s.filters[f]),!0):!1}(n,e):void ke()}function T1(n){return n instanceof jt?function(t){return`${t.field.canonicalString()} ${t.op} ${ml(t.value)}`}(n):n instanceof br?function(t){return t.op.toString()+" {"+t.getFilters().map(T1).join(" ,")+"}"}(n):"Filter"}class hM extends jt{constructor(e,t,i){super(e,t,i),this.key=Se.fromName(i.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class mM extends jt{constructor(e,t){super(e,"in",t),this.keys=S1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gM extends jt{constructor(e,t){super(e,"not-in",t),this.keys=S1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function S1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Se.fromName(i.referenceValue))}class pM extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wy(t)&&pc(t.arrayValue,this.value)}}class yM extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pc(this.value.arrayValue,t)}}class vM extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!pc(this.value.arrayValue,t)}}class _M extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>pc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,t=null,i=[],s=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=f,this.le=null}}function SE(n,e=null,t=[],i=[],s=null,l=null,c=null){return new bM(n,e,t,i,s,l,c)}function Xy(n){const e=Me(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Zp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Th(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ml(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ml(i)).join(",")),e.le=t}return e.le}function Zy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!x1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!TE(n.startAt,e.startAt)&&TE(n.endAt,e.endAt)}function Jp(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t=null,i=[],s=[],l=null,c="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function wM(n,e,t,i,s,l,c,f){return new kc(n,e,t,i,s,l,c,f)}function Ah(n){return new kc(n)}function AE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function A1(n){return n.collectionGroup!==null}function ac(n){const e=Me(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ht(an.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Jf(l,i))}),t.has(an.keyField().canonicalString())||e.he.push(new Jf(an.keyField(),i))}return e.he}function Hr(n){const e=Me(n);return e.Pe||(e.Pe=EM(e,ac(n))),e.Pe}function EM(n,e){if(n.limitType==="F")return SE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Jf(s.field,l)});const t=n.endAt?new Zf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Zf(n.startAt.position,n.startAt.inclusive):null;return SE(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ey(n,e){const t=n.filters.concat([e]);return new kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ty(n,e,t){return new kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rh(n,e){return Zy(Hr(n),Hr(e))&&n.limitType===e.limitType}function R1(n){return`${Xy(Hr(n))}|lt:${n.limitType}`}function el(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>T1(s)).join(", ")}]`),Th(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>ml(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>ml(s)).join(",")),`Target(${i})`}(Hr(n))}; limitType=${n.limitType})`}function Ch(n,e){return e.isFoundDocument()&&function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Se.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,s){for(const l of ac(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,f,h){const g=xE(c,f,h);return c.inclusive?g<=0:g<0}(i.startAt,ac(i),s)||i.endAt&&!function(c,f,h){const g=xE(c,f,h);return c.inclusive?g>=0:g>0}(i.endAt,ac(i),s))}(n,e)}function xM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function C1(n){return(e,t)=>{let i=!1;for(const s of ac(n)){const l=TM(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function TM(n,e,t){const i=n.field.isKeyField()?Se.comparator(e.key,t.key):function(l,c,f){const h=c.data.field(l),g=f.data.field(l);return h!==null&&g!==null?hl(h,g):ke()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(t,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return d1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=new xt(Se.comparator);function Vi(){return SM}const N1=new xt(Se.comparator);function Zu(...n){let e=N1;for(const t of n)e=e.insert(t.key,t);return e}function I1(n){let e=N1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ks(){return sc()}function k1(){return sc()}function sc(){return new Zs(n=>n.toString(),(n,e)=>n.isEqual(e))}const AM=new xt(Se.comparator),RM=new Ht(Se.comparator);function He(...n){let e=RM;for(const t of n)e=e.add(t);return e}const CM=new Ht(Ve);function NM(){return CM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function D1(n){return{integerValue:""+n}}function IM(n,e){return rM(e)?D1(e):Jy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this._=void 0}}function kM(n,e,t){return n instanceof yc?function(s,l){const c={fields:{[m1]:{stringValue:h1},[p1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Qy(l)&&(l=Sh(l)),l&&(c.fields[g1]=l),{mapValue:c}}(t,e):n instanceof vc?M1(n,e):n instanceof _c?P1(n,e):function(s,l){const c=O1(s,l),f=RE(c)+RE(s.Ie);return Xp(c)&&Xp(s.Ie)?D1(f):Jy(s.serializer,f)}(n,e)}function DM(n,e,t){return n instanceof vc?M1(n,e):n instanceof _c?P1(n,e):t}function O1(n,e){return n instanceof eh?function(i){return Xp(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class yc extends Nh{}class vc extends Nh{constructor(e){super(),this.elements=e}}function M1(n,e){const t=j1(e);for(const i of n.elements)t.some(s=>Qr(s,i))||t.push(i);return{arrayValue:{values:t}}}class _c extends Nh{constructor(e){super(),this.elements=e}}function P1(n,e){let t=j1(e);for(const i of n.elements)t=t.filter(s=>!Qr(s,i));return{arrayValue:{values:t}}}class eh extends Nh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function RE(n){return It(n.integerValue||n.doubleValue)}function j1(n){return Wy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,t){this.field=e,this.transform=t}}function MM(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof vc&&s instanceof vc||i instanceof _c&&s instanceof _c?fl(i.elements,s.elements,Qr):i instanceof eh&&s instanceof eh?Qr(i.Ie,s.Ie):i instanceof yc&&s instanceof yc}(n.transform,e.transform)}class PM{constructor(e,t){this.version=e,this.transformResults=t}}class yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ih{}function L1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new e0(n.key,yr.none()):new Dc(n.key,n.data,yr.none());{const t=n.data,i=In.empty();let s=new Ht(an.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new qa(n.key,i,new zn(s.toArray()),yr.none())}}function jM(n,e,t){n instanceof Dc?function(s,l,c){const f=s.value.clone(),h=NE(s.fieldTransforms,l,c.transformResults);f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof qa?function(s,l,c){if(!Pf(s.precondition,l))return void l.convertToUnknownDocument(c.version);const f=NE(s.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(V1(s)),h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function oc(n,e,t,i){return n instanceof Dc?function(l,c,f,h){if(!Pf(l.precondition,c))return f;const g=l.value.clone(),y=IE(l.fieldTransforms,h,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof qa?function(l,c,f,h){if(!Pf(l.precondition,c))return f;const g=IE(l.fieldTransforms,h,c),y=c.data;return y.setAll(V1(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(l,c,f){return Pf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function LM(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=O1(i.transform,s||null);l!=null&&(t===null&&(t=In.empty()),t.set(i.field,l))}return t||null}function CE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&fl(i,s,(l,c)=>MM(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Dc extends Ih{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qa extends Ih{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function V1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function NE(n,e,t){const i=new Map;et(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,f=e.data.field(l.field);i.set(l.field,DM(c,f,t[s]))}return i}function IE(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,kM(l,c,e))}return i}class e0 extends Ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VM extends Ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&jM(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=oc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=oc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=k1();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(s.key)?null:f;const h=L1(c,f);h!==null&&i.set(s.key,h),c.isValidDocument()||c.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),He())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,(t,i)=>CE(t,i))&&fl(this.baseMutations,e.baseMutations,(t,i)=>CE(t,i))}}class t0{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){et(e.mutations.length===i.length);let s=function(){return AM}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new t0(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ke;function zM(n){switch(n){case oe.OK:return ke();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return ke()}}function U1(n){if(n===void 0)return Li("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Pt.OK:return oe.OK;case Pt.CANCELLED:return oe.CANCELLED;case Pt.UNKNOWN:return oe.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return oe.INTERNAL;case Pt.UNAVAILABLE:return oe.UNAVAILABLE;case Pt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Pt.NOT_FOUND:return oe.NOT_FOUND;case Pt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Pt.ABORTED:return oe.ABORTED;case Pt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Pt.DATA_LOSS:return oe.DATA_LOSS;default:return ke()}}(Ke=Pt||(Pt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=new Ca([4294967295,4294967295],0);function kE(n){const e=l1().encode(n),t=new t1;return t.update(e),new Uint8Array(t.digest())}function DE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ca([t,i],0),new Ca([s,l],0)]}class n0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ju(`Invalid padding: ${t}`);if(i<0)throw new Ju(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ju(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ju(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ca.fromNumber(this.Ee)}Ae(e,t,i){let s=e.add(t.multiply(Ca.fromNumber(i)));return s.compare(BM)===1&&(s=new Ca([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=kE(e),[i,s]=DE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,s,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new n0(l,s,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.Ee===0)return;const t=kE(e),[i,s]=DE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,s,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new kh(Oe.min(),s,new xt(Ve),Vi(),He())}}class Oc{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Oc(i,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t,i,s){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=s}}class F1{constructor(e,t){this.targetId=e,this.ge=t}}class $1{constructor(e,t,i=sn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class OE{constructor(){this.pe=0,this.ye=ME(),this.we=sn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=He(),t=He(),i=He();return this.ye.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:ke()}}),new Oc(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=ME()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,et(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class HM{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Vi(),this.$e=vf(),this.Ue=vf(),this.Ke=new xt(Ve)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,i=e.ge.count,s=this.Xe(t);if(s){const l=s.target;if(Jp(l))if(i===0){const c=new Se(l.path);this.ze(t,c,fn.newNoDocument(c,Oe.min()))}else et(i===1);else{const c=this.et(t);if(c!==i){const f=this.tt(e),h=f?this.nt(f,e,c):1;if(h!==0){this.Ye(t);const g=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,f;try{c=Da(i).toUint8Array()}catch(h){if(h instanceof f1)return dl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new n0(c,s,l)}catch(h){return dl(h instanceof Ju?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Ee===0?null:f}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let s=0;return i.forEach(l=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,l,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const f=this.Xe(c);if(f){if(l.current&&Jp(f.target)){const h=new Se(f.target.path);this._t(h).has(c)||this.ut(c,h)||this.ze(c,h,fn.newNoDocument(h,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=He();this.Ue.forEach((l,c)=>{let f=!0;c.forEachWhile(h=>{const g=this.Xe(h);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const s=new kh(e,t,this.Ke,this.Qe,i);return this.Qe=Vi(),this.$e=vf(),this.Ue=vf(),this.Ke=new xt(Ve),s}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new OE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ht(Ve),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ht(Ve),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new OE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function vf(){return new xt(Se.comparator)}function ME(){return new xt(Se.comparator)}const qM={asc:"ASCENDING",desc:"DESCENDING"},GM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YM={and:"AND",or:"OR"};class KM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ny(n,e){return n.useProto3Json||Th(e)?e:{value:e}}function th(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function QM(n,e){return th(n,e.toTimestamp())}function qr(n){return et(!!n),Oe.fromTimestamp(function(t){const i=ka(t);return new Bt(i.seconds,i.nanos)}(n))}function r0(n,e){return ry(n,e).canonicalString()}function ry(n,e){const t=function(s){return new mt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function B1(n){const e=mt.fromString(n);return et(K1(e)),e}function iy(n,e){return r0(n.databaseId,e.path)}function pp(n,e){const t=B1(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(q1(t))}function H1(n,e){return r0(n.databaseId,e)}function WM(n){const e=B1(n);return e.length===4?mt.emptyPath():q1(e)}function ay(n){return new mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function q1(n){return et(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function PE(n,e,t){return{name:iy(n,e),fields:t.value.mapValue.fields}}function XM(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(g,y){return g.useProto3Json?(et(y===void 0||typeof y=="string"),sn.fromBase64String(y||"")):(et(y===void 0||y instanceof Buffer||y instanceof Uint8Array),sn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(g){const y=g.code===void 0?oe.UNKNOWN:U1(g.code);return new ve(y,g.message||"")}(c);t=new $1(i,s,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=pp(n,i.document.name),l=qr(i.document.updateTime),c=i.document.createTime?qr(i.document.createTime):Oe.min(),f=new In({mapValue:{fields:i.document.fields}}),h=fn.newFoundDocument(s,l,c,f),g=i.targetIds||[],y=i.removedTargetIds||[];t=new jf(g,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=pp(n,i.document),l=i.readTime?qr(i.readTime):Oe.min(),c=fn.newNoDocument(s,l),f=i.removedTargetIds||[];t=new jf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=pp(n,i.document),l=i.removedTargetIds||[];t=new jf([],l,s,null)}else{if(!("filter"in e))return ke();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new $M(s,l),f=i.targetId;t=new F1(f,c)}}return t}function ZM(n,e){let t;if(e instanceof Dc)t={update:PE(n,e.key,e.value)};else if(e instanceof e0)t={delete:iy(n,e.key)};else if(e instanceof qa)t={update:PE(n,e.key,e.data),updateMask:o4(e.fieldMask)};else{if(!(e instanceof VM))return ke();t={verify:iy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof yc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof vc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof _c)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof eh)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw ke()}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:QM(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ke()}(n,e.precondition)),t}function JM(n,e){return n&&n.length>0?(et(e!==void 0),n.map(t=>function(s,l){let c=s.updateTime?qr(s.updateTime):qr(l);return c.isEqual(Oe.min())&&(c=qr(l)),new PM(c,s.transformResults||[])}(t,e))):[]}function e4(n,e){return{documents:[H1(n,e.path)]}}function t4(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=H1(n,s);const l=function(g){if(g.length!==0)return Y1(br.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(y=>function(w){return{field:tl(w.field),direction:i4(w.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=ny(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:s}}function n4(n){let e=WM(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){et(i===1);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(E){const w=G1(E);return w instanceof br&&E1(w)?w.getFilters():[w]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(w=>function(A){return new Jf(nl(A.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(w))}(t.orderBy));let f=null;t.limit&&(f=function(E){let w;return w=typeof E=="object"?E.value:E,Th(w)?null:w}(t.limit));let h=null;t.startAt&&(h=function(E){const w=!!E.before,T=E.values||[];return new Zf(T,w)}(t.startAt));let g=null;return t.endAt&&(g=function(E){const w=!E.before,T=E.values||[];return new Zf(T,w)}(t.endAt)),wM(e,s,c,l,f,"F",h,g)}function r4(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function G1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=nl(t.unaryFilter.field);return jt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=nl(t.unaryFilter.field);return jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=nl(t.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=nl(t.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(n):n.fieldFilter!==void 0?function(t){return jt.create(nl(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return br.create(t.compositeFilter.filters.map(i=>G1(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ke()}}(t.compositeFilter.op))}(n):ke()}function i4(n){return qM[n]}function a4(n){return GM[n]}function s4(n){return YM[n]}function tl(n){return{fieldPath:n.canonicalString()}}function nl(n){return an.fromServerFormat(n.fieldPath)}function Y1(n){return n instanceof jt?function(t){if(t.op==="=="){if(EE(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NAN"}};if(wE(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(EE(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NOT_NAN"}};if(wE(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(t.field),op:a4(t.op),value:t.value}}}(n):n instanceof br?function(t){const i=t.getFilters().map(s=>Y1(s));return i.length===1?i[0]:{compositeFilter:{op:s4(t.op),filters:i}}}(n):ke()}function o4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function K1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,t,i,s,l=Oe.min(),c=Oe.min(),f=sn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.Tt=e}}function u4(n){const e=n4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ty(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.Tn=new d4}addToCollectionParentIndex(e,t){return this.Tn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Ia.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class d4{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Ht(mt.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Ht(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q1=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(Q1,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new gl(0)}static Kn(){return new gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="LruGarbageCollector",f4=1048576;function VE([n,e],[t,i]){const s=Ve(n,t);return s===0?Ve(e,i):s}class h4{constructor(e){this.Hn=e,this.buffer=new Ht(VE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();VE(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class m4{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ye(LE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Al(t)?ye(LE,"Ignoring IndexedDB error during garbage collection: ",t):await Sl(t)}await this.er(3e5)})}}class g4{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return se.resolve(xh.ae);const i=new h4(t);return this.tr.forEachTarget(e,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(jE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,s,l,c,f,h,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,c=Date.now(),this.nthSequenceNumber(e,s))).next(E=>(i=E,f=Date.now(),this.removeTargets(e,i,t))).next(E=>(l=E,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(g=Date.now(),Jo()<=Be.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(f-c)+`ms
	Removed ${l} targets in `+(h-f)+`ms
	Removed ${E} documents in `+(g-h)+`ms
Total Duration: ${g-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:E})))}}function p4(n,e){return new g4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.changes=new Zs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&oc(i.mutation,s,zn.empty(),Bt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,He()).next(()=>i))}getLocalViewOfDocuments(e,t,i=He()){const s=ks();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(l=>{let c=Zu();return l.forEach((f,h)=>{c=c.insert(f,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ks();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,He()))}populateOverlays(e,t,i){const s=[];return i.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,s){let l=Vi();const c=sc(),f=function(){return sc()}();return t.forEach((h,g)=>{const y=i.get(g.key);s.has(g.key)&&(y===void 0||y.mutation instanceof qa)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),oc(y.mutation,g,y.mutation.getFieldMask(),Bt.now())):c.set(g.key,zn.empty())}),this.recalculateAndSaveOverlays(e,l).next(h=>(h.forEach((g,y)=>c.set(g,y)),t.forEach((g,y)=>{var E;return f.set(g,new v4(y,(E=c.get(g))!==null&&E!==void 0?E:null))}),f))}recalculateAndSaveOverlays(e,t){const i=sc();let s=new xt((c,f)=>c-f),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(h=>{const g=t.get(h);if(g===null)return;let y=i.get(h)||zn.empty();y=f.applyToLocalView(g,y),i.set(h,y);const E=(s.get(f.batchId)||He()).add(h);s=s.insert(f.batchId,E)})}).next(()=>{const c=[],f=s.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),g=h.key,y=h.value,E=k1();y.forEach(w=>{if(!l.has(w)){const T=L1(t.get(w),i.get(w));T!==null&&E.set(w,T),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return se.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return Se.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):A1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):se.resolve(ks());let f=hc,h=l;return c.next(g=>se.forEach(g,(y,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next(w=>{h=h.insert(y,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,h,g,He())).next(y=>({batchId:f,changes:I1(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(i=>{let s=Zu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=Zu();return this.indexManager.getCollectionParents(e,l).next(f=>se.forEach(f,h=>{const g=function(E,w){return new kc(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,s).next(y=>{y.forEach((E,w)=>{c=c.insert(E,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s))).next(c=>{l.forEach((h,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,fn.newInvalidDocument(y)))});let f=Zu();return c.forEach((h,g)=>{const y=l.get(h);y!==void 0&&oc(y.mutation,g,zn.empty(),Bt.now()),Ch(t,g)&&(f=f.insert(h,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return se.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:qr(s.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:u4(s.bundledQuery),readTime:qr(s.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.overlays=new xt(Se.comparator),this.Rr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ks();return se.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,l)=>{this.Et(e,t,l)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const s=ks(),l=t.length+1,c=new Se(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const h=f.getNext().value,g=h.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&h.largestBatchId>i&&s.set(h.getKey(),h)}return se.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new xt((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let y=l.get(g.largestBatchId);y===null&&(y=ks(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const f=ks(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((g,y)=>f.set(g,y)),!(f.size()>=s)););return se.resolve(f)}Et(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new FM(t,i));let l=this.Rr.get(t);l===void 0&&(l=He(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.Vr=new Ht(Wt.mr),this.gr=new Ht(Wt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Wt(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Wt(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Se(new mt([])),i=new Wt(t,e),s=new Wt(t,e+1),l=[];return this.gr.forEachInRange([i,s],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Se(new mt([])),i=new Wt(t,e),s=new Wt(t,e+1);let l=He();return this.gr.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Wt(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Wt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Se.comparator(e.key,t.key)||Ve(e.Cr,t.Cr)}static pr(e,t){return Ve(e.Cr,t.Cr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ht(Wt.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new UM(l,t,i,s);this.mutationQueue.push(c);for(const f of s)this.Mr=this.Mr.add(new Wt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Nr(i),l=s<0?0:s;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Ky:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Wt(t,0),s=new Wt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,s],c=>{const f=this.Or(c.Cr);l.push(f)}),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ht(Ve);return t.forEach(s=>{const l=new Wt(s,0),c=new Wt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],f=>{i=i.add(f.Cr)})}),se.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;Se.isDocumentKey(l)||(l=l.child(""));const c=new Wt(new Se(l),0);let f=new Ht(Ve);return this.Mr.forEachWhile(h=>{const g=h.key.path;return!!i.isPrefixOf(g)&&(g.length===s&&(f=f.add(h.Cr)),!0)},c),se.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(i=>{const s=this.Or(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){et(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return se.forEach(t.mutations,s=>{const l=new Wt(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Wt(t,0),s=this.Mr.firstAfterOrEqual(i);return se.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.kr=e,this.docs=function(){return new xt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let i=Vi();return t.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():fn.newInvalidDocument(s))}),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=Vi();const c=t.path,f=new Se(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:g,value:{document:y}}=h.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||JO(ZO(y),i)<=0||(s.has(y.key)||Ch(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,i,s){ke()}qr(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new S4(this)}getSize(e){return se.resolve(this.size)}}class S4 extends y4{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.persistence=e,this.Qr=new Zs(t=>Xy(t),Zy),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new i0,this.targetCount=0,this.Kr=gl.Un()}forEachTarget(e,t){return this.Qr.forEach((i,s)=>t(s)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),se.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new gl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.zn(t),se.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),se.waitFor(l).next(()=>s)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new xh(0),this.zr=!1,this.zr=!0,this.jr=new E4,this.referenceDelegate=e(this),this.Hr=new A4(this),this.indexManager=new c4,this.remoteDocumentCache=function(s){return new T4(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new l4(t),this.Yr=new b4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new w4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new x4(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const s=new R4(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(l=>this.referenceDelegate.Xr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}ei(e,t){return se.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class R4 extends tM{constructor(e){super(),this.currentSequenceNumber=e}}class a0{constructor(e){this.persistence=e,this.ti=new i0,this.ni=null}static ri(e){return new a0(e)}get ii(){if(this.ni)return this.ni;throw ke()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),se.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,i=>{const s=Se.fromPath(i);return this.si(e,s).next(l=>{l||t.removeEntry(s,Oe.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return se.or([()=>se.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class nh{constructor(e,t){this.persistence=e,this.oi=new Zs(i=>iM(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=p4(this,t)}static ri(e,t){return new nh(e,t)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return se.forEach(this.oi,(i,s)=>this.ar(e,i,s).next(l=>l?se.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.qr(e,c=>this.ar(e,c,t).next(f=>{f||(i++,l.removeEntry(c,Oe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Of(e.data.value)),t}ar(e,t,i){return se.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return se.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=s}static Yi(e,t){let i=He(),s=He();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new s0(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return sI()?8:nM(gn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new C4;return this._s(e,t,c).next(f=>{if(l.result=f,this.Xi)return this.us(e,t,c,f.size)})}).next(()=>l.result)}us(e,t,i,s){return i.documentReadCount<this.es?(Jo()<=Be.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",el(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(Jo()<=Be.DEBUG&&ye("QueryEngine","Query:",el(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(Jo()<=Be.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",el(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(t))):se.resolve())}rs(e,t){if(AE(t))return se.resolve(null);let i=Hr(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=ty(t,null,"F"),i=Hr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=He(...l);return this.ns.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(h=>{const g=this.cs(t,f);return this.ls(t,g,c,h.readTime)?this.rs(e,ty(t,null,"F")):this.hs(e,g,t,h)}))})))}ss(e,t,i,s){return AE(t)||s.isEqual(Oe.min())?se.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,s)?se.resolve(null):(Jo()<=Be.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),el(t)),this.hs(e,c,t,XO(s,hc)).next(f=>f))})}cs(e,t){let i=new Ht(C1(e));return t.forEach((s,l)=>{Ch(e,l)&&(i=i.add(l))}),i}ls(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}_s(e,t,i){return Jo()<=Be.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",el(t)),this.ns.getDocumentsMatchingQuery(e,t,Ia.min(),i)}hs(e,t,i,s){return this.ns.getDocumentsMatchingQuery(e,i,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="LocalStore",I4=3e8;class k4{constructor(e,t,i,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new xt(Ve),this.Is=new Zs(l=>Xy(l),Zy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function D4(n,e,t,i){return new k4(n,e,t,i)}async function X1(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let h=He();for(const g of s){c.push(g.batchId);for(const y of g.mutations)h=h.add(y.key)}for(const g of l){f.push(g.batchId);for(const y of g.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(i,h).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:f}))})})}function O4(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,h,g,y){const E=g.batch,w=E.keys();let T=se.resolve();return w.forEach(A=>{T=T.next(()=>y.getEntry(h,A)).next(k=>{const D=g.docVersions.get(A);et(D!==null),k.version.compareTo(D)<0&&(E.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),y.addEntry(k)))})}),T.next(()=>f.mutationQueue.removeMutationBatch(h,E))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let h=He();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(h=h.add(f.batch.mutations[g].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function Z1(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function M4(n,e){const t=Me(n),i=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const f=[];e.targetChanges.forEach((y,E)=>{const w=s.get(E);if(!w)return;f.push(t.Hr.removeMatchingKeys(l,y.removedDocuments,E).next(()=>t.Hr.addMatchingKeys(l,y.addedDocuments,E)));let T=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?T=T.withResumeToken(sn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,i)),s=s.insert(E,T),function(k,D,j){return k.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=I4?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(w,T,y)&&f.push(t.Hr.updateTargetData(l,T))});let h=Vi(),g=He();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(P4(l,c,e.documentUpdates).next(y=>{h=y.Vs,g=y.fs})),!i.isEqual(Oe.min())){const y=t.Hr.getLastRemoteSnapshotVersion(l).next(E=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(y)}return se.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,h,g)).next(()=>h)}).then(l=>(t.Ts=s,l))}function P4(n,e,t){let i=He(),s=He();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Vi();return t.forEach((f,h)=>{const g=l.get(f);h.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(f)),h.isNoDocument()&&h.version.isEqual(Oe.min())?(e.removeEntry(f,h.readTime),c=c.insert(f,h)):!g.isValidDocument()||h.version.compareTo(g.version)>0||h.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(h),c=c.insert(f,h)):ye(o0,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",h.version)}),{Vs:c,fs:s}})}function j4(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Ky),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function L4(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Hr.getTargetData(i,e).next(l=>l?(s=l,se.resolve(s)):t.Hr.allocateTargetId(i).next(c=>(s=new xa(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function sy(n,e,t){const i=Me(n),s=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!Al(c))throw c;ye(o0,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(s.target)}function UE(n,e,t){const i=Me(n);let s=Oe.min(),l=He();return i.persistence.runTransaction("Execute query","readwrite",c=>function(h,g,y){const E=Me(h),w=E.Is.get(y);return w!==void 0?se.resolve(E.Ts.get(w)):E.Hr.getTargetData(g,y)}(i,c,Hr(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,f.targetId).next(h=>{l=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?s:Oe.min(),t?l:He())).next(f=>(V4(i,xM(e),f),{documents:f,gs:l})))}function V4(n,e,t){let i=n.Es.get(e)||Oe.min();t.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class FE{constructor(){this.activeTargetIds=NM()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U4{constructor(){this.ho=new FE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new FE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="ConnectivityMonitor";class zE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ye($E,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ye($E,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f=null;function oy(){return _f===null?_f=function(){return 268435456+Math.round(2147483648*Math.random())}():_f++,"0x"+_f.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="RestConnection",$4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===Wf?`project_id=${i}`:`project_id=${i}&database_id=${s}`}So(e,t,i,s,l){const c=oy(),f=this.bo(e,t.toUriEncodedString());ye(yp,`Sending RPC '${e}' ${c}:`,f,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,l),this.vo(e,f,h,i).then(g=>(ye(yp,`Received RPC '${e}' ${c}: `,g),g),g=>{throw dl(yp,`RPC '${e}' ${c} failed with error: `,g,"url: ",f,"request:",i),g})}Co(e,t,i,s,l,c){return this.So(e,t,i,s,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}bo(e,t){const i=$4[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class H4 extends z4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,s){const l=oy();return new Promise((c,f)=>{const h=new n1;h.setWithCredentials(!0),h.listenOnce(r1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Df.NO_ERROR:const y=h.getResponseJson();ye(cn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Df.TIMEOUT:ye(cn,`RPC '${e}' ${l} timed out`),f(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Df.HTTP_ERROR:const E=h.getStatus();if(ye(cn,`RPC '${e}' ${l} failed with status:`,E,"response text:",h.getResponseText()),E>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const A=function(D){const j=D.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(j)>=0?j:oe.UNKNOWN}(T.status);f(new ve(A,T.message))}else f(new ve(oe.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{ye(cn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(s);ye(cn,`RPC '${e}' ${l} sending request:`,s),h.send(t,"POST",g,i,15)})}Wo(e,t,i){const s=oy(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=s1(),f=a1(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(h.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const y=l.join("");ye(cn,`Creating RPC '${e}' stream ${s}: ${y}`,h);const E=c.createWebChannel(y,h);let w=!1,T=!1;const A=new B4({Fo:D=>{T?ye(cn,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(w||(ye(cn,`Opening RPC '${e}' stream ${s} transport.`),E.open(),w=!0),ye(cn,`RPC '${e}' stream ${s} sending:`,D),E.send(D))},Mo:()=>E.close()}),k=(D,j,H)=>{D.listen(j,$=>{try{H($)}catch(Z){setTimeout(()=>{throw Z},0)}})};return k(E,Xu.EventType.OPEN,()=>{T||(ye(cn,`RPC '${e}' stream ${s} transport opened.`),A.Qo())}),k(E,Xu.EventType.CLOSE,()=>{T||(T=!0,ye(cn,`RPC '${e}' stream ${s} transport closed`),A.Uo())}),k(E,Xu.EventType.ERROR,D=>{T||(T=!0,dl(cn,`RPC '${e}' stream ${s} transport errored:`,D),A.Uo(new ve(oe.UNAVAILABLE,"The operation could not be completed")))}),k(E,Xu.EventType.MESSAGE,D=>{var j;if(!T){const H=D.data[0];et(!!H);const $=H,Z=($==null?void 0:$.error)||((j=$[0])===null||j===void 0?void 0:j.error);if(Z){ye(cn,`RPC '${e}' stream ${s} received error:`,Z);const ee=Z.status;let ie=function(I){const P=Pt[I];if(P!==void 0)return U1(P)}(ee),O=Z.message;ie===void 0&&(ie=oe.INTERNAL,O="Unknown error status: "+ee+" with message "+Z.message),T=!0,A.Uo(new ve(ie,O)),E.close()}else ye(cn,`RPC '${e}' stream ${s} received:`,H),A.Ko(H)}}),k(f,i1.STAT_EVENT,D=>{D.stat===Kp.PROXY?ye(cn,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===Kp.NOPROXY&&ye(cn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function vp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(n){return new KM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,t,i=1e3,s=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=s,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-i);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="PersistentStream";class eS{constructor(e,t,i,s,l,c,f,h){this.Ti=e,this.n_=i,this.r_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new J1(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Li(t.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===t&&this.V_(i,s)},i=>{e(()=>{const s=new ve(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ye(BE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ye(BE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q4 extends eS{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=XM(this.serializer,e),i=function(l){if(!("targetChange"in l))return Oe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?qr(c.readTime):Oe.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=ay(this.serializer),t.addTarget=function(l,c){let f;const h=c.target;if(f=Jp(h)?{documents:e4(l,h)}:{query:t4(l,h).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=z1(l,c.resumeToken);const g=ny(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(Oe.min())>0){f.readTime=th(l,c.snapshotVersion.toTimestamp());const g=ny(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const i=r4(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=ay(this.serializer),t.removeTarget=e,this.I_(t)}}class G4 extends eS{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=JM(e.writeResults,e.commitTime),i=qr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=ay(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>ZM(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{}class K4 extends Y4{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,ry(t,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(oe.UNKNOWN,l.toString())})}Co(e,t,i,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(e,ry(t,i),s,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(oe.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Q4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Li(t),this.N_=!1):ye("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class W4{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Js(this)&&(ye(Bs,"Restarting streams for network reachability change."),await async function(h){const g=Me(h);g.W_.add(4),await Mc(g),g.j_.set("Unknown"),g.W_.delete(4),await Oh(g)}(this))})}),this.j_=new Q4(i,s)}}async function Oh(n){if(Js(n))for(const e of n.G_)await e(!0)}async function Mc(n){for(const e of n.G_)await e(!1)}function tS(n,e){const t=Me(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),d0(t)?c0(t):Rl(t).c_()&&u0(t,e))}function l0(n,e){const t=Me(n),i=Rl(t);t.K_.delete(e),i.c_()&&nS(t,e),t.K_.size===0&&(i.c_()?i.P_():Js(t)&&t.j_.set("Unknown"))}function u0(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rl(n).y_(e)}function nS(n,e){n.H_.Ne(e),Rl(n).w_(e)}function c0(n){n.H_=new HM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Rl(n).start(),n.j_.B_()}function d0(n){return Js(n)&&!Rl(n).u_()&&n.K_.size>0}function Js(n){return Me(n).W_.size===0}function rS(n){n.H_=void 0}async function X4(n){n.j_.set("Online")}async function Z4(n){n.K_.forEach((e,t)=>{u0(n,e)})}async function J4(n,e){rS(n),d0(n)?(n.j_.q_(e),c0(n)):n.j_.set("Unknown")}async function e5(n,e,t){if(n.j_.set("Online"),e instanceof $1&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const f of l.targetIds)s.K_.has(f)&&(await s.remoteSyncer.rejectListen(f,c),s.K_.delete(f),s.H_.removeTarget(f))}(n,e)}catch(i){ye(Bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await rh(n,i)}else if(e instanceof jf?n.H_.We(e):e instanceof F1?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Oe.min()))try{const i=await Z1(n.localStore);t.compareTo(i)>=0&&await function(l,c){const f=l.H_.ot(c);return f.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const y=l.K_.get(g);y&&l.K_.set(g,y.withResumeToken(h.resumeToken,c))}}),f.targetMismatches.forEach((h,g)=>{const y=l.K_.get(h);if(!y)return;l.K_.set(h,y.withResumeToken(sn.EMPTY_BYTE_STRING,y.snapshotVersion)),nS(l,h);const E=new xa(y.target,h,g,y.sequenceNumber);u0(l,E)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){ye(Bs,"Failed to raise snapshot:",i),await rh(n,i)}}async function rh(n,e,t){if(!Al(e))throw e;n.W_.add(1),await Mc(n),n.j_.set("Offline"),t||(t=()=>Z1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Bs,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Oh(n)})}function iS(n,e){return e().catch(t=>rh(n,t,e))}async function Mh(n){const e=Me(n),t=Ma(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:Ky;for(;t5(e);)try{const s=await j4(e.localStore,i);if(s===null){e.U_.length===0&&t.P_();break}i=s.batchId,n5(e,s)}catch(s){await rh(e,s)}aS(e)&&sS(e)}function t5(n){return Js(n)&&n.U_.length<10}function n5(n,e){n.U_.push(e);const t=Ma(n);t.c_()&&t.S_&&t.b_(e.mutations)}function aS(n){return Js(n)&&!Ma(n).u_()&&n.U_.length>0}function sS(n){Ma(n).start()}async function r5(n){Ma(n).C_()}async function i5(n){const e=Ma(n);for(const t of n.U_)e.b_(t.mutations)}async function a5(n,e,t){const i=n.U_.shift(),s=t0.from(i,e,t);await iS(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Mh(n)}async function s5(n,e){e&&Ma(n).S_&&await async function(i,s){if(function(c){return zM(c)&&c!==oe.ABORTED}(s.code)){const l=i.U_.shift();Ma(i).h_(),await iS(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Mh(i)}}(n,e),aS(n)&&sS(n)}async function HE(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),ye(Bs,"RemoteStore received new credentials");const i=Js(t);t.W_.add(3),await Mc(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Oh(t)}async function o5(n,e){const t=Me(n);e?(t.W_.delete(2),await Oh(t)):e||(t.W_.add(2),await Mc(t),t.j_.set("Unknown"))}function Rl(n){return n.J_||(n.J_=function(t,i,s){const l=Me(t);return l.M_(),new q4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{xo:X4.bind(null,n),No:Z4.bind(null,n),Lo:J4.bind(null,n),p_:e5.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),d0(n)?c0(n):n.j_.set("Unknown")):(await n.J_.stop(),rS(n))})),n.J_}function Ma(n){return n.Y_||(n.Y_=function(t,i,s){const l=Me(t);return l.M_(),new G4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:r5.bind(null,n),Lo:s5.bind(null,n),D_:i5.bind(null,n),v_:a5.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Mh(n)):(await n.Y_.stop(),n.U_.length>0&&(ye(Bs,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,f=new f0(e,t,c,s,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h0(n,e){if(Li("AsyncQueue",`${e}: ${n}`),Al(n))return new ve(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Se.comparator(t.key,i.key):(t,i)=>Se.comparator(t.key,i.key),this.keyedMap=Zu(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ol;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.Z_=new xt(Se.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ke():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class pl{constructor(e,t,i,s,l,c,f,h,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new pl(e,t,ol.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class u5{constructor(){this.queries=GE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const s=Me(t),l=s.queries;s.queries=GE(),l.forEach((c,f)=>{for(const h of f.ta)h.onError(i)})})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function GE(){return new Zs(n=>R1(n),Rh)}async function m0(n,e){const t=Me(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.na()&&e.ra()&&(i=2):(l=new l5,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(s,!0);break;case 1:l.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const f=h0(c,`Initialization of query '${el(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&p0(t)}async function g0(n,e){const t=Me(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?s=e.ra()?0:1:!l.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function c5(n,e){const t=Me(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const f of c.ta)f.oa(s)&&(i=!0);c.ea=s}}i&&p0(t)}function d5(n,e,t){const i=Me(n),s=i.queries.get(e);if(s)for(const l of s.ta)l.onError(t);i.queries.delete(e)}function p0(n){n.ia.forEach(e=>{e.next()})}var ly,YE;(YE=ly||(ly={}))._a="default",YE.Cache="cache";class y0{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new pl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ly.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.key=e}}class lS{constructor(e){this.key=e}}class f5{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=He(),this.mutatedKeys=He(),this.ya=C1(e),this.wa=new ol(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new qE,s=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,f=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,E)=>{const w=s.get(y),T=Ch(this.query,E)?E:null,A=!!w&&this.mutatedKeys.has(w.key),k=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let D=!1;w&&T?w.data.isEqual(T.data)?A!==k&&(i.track({type:3,doc:T}),D=!0):this.va(w,T)||(i.track({type:2,doc:T}),D=!0,(h&&this.ya(T,h)>0||g&&this.ya(T,g)<0)&&(f=!0)):!w&&T?(i.track({type:0,doc:T}),D=!0):w&&!T&&(i.track({type:1,doc:w}),D=!0,(h||g)&&(f=!0)),D&&(T?(c=c.add(T),l=k?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{wa:c,Da:i,ls:f,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((y,E)=>function(T,A){const k=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return k(T)-k(A)}(y.type,E.type)||this.ya(y.doc,E.doc)),this.Ca(i),s=s!=null&&s;const f=t&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,g=h!==this.ga;return this.ga=h,c.length!==0||g?{snapshot:new pl(this.query,e.wa,l,c,e.mutatedKeys,h===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new qE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=He(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new lS(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new oS(i))}),t}Oa(e){this.fa=e.gs,this.pa=He();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return pl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const v0="SyncEngine";class h5{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class m5{constructor(e){this.key=e,this.Ba=!1}}class g5{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Zs(f=>R1(f),Rh),this.qa=new Map,this.Qa=new Set,this.$a=new xt(Se.comparator),this.Ua=new Map,this.Ka=new i0,this.Wa={},this.Ga=new Map,this.za=gl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function p5(n,e,t=!0){const i=mS(n);let s;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Na()):s=await uS(i,e,t,!0),s}async function y5(n,e){const t=mS(n);await uS(t,e,!0,!1)}async function uS(n,e,t,i){const s=await L4(n.localStore,Hr(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await v5(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&tS(n.remoteStore,s),f}async function v5(n,e,t,i,s){n.Ha=(E,w,T)=>async function(k,D,j,H){let $=D.view.ba(j);$.ls&&($=await UE(k.localStore,D.query,!1).then(({documents:O})=>D.view.ba(O,$)));const Z=H&&H.targetChanges.get(D.targetId),ee=H&&H.targetMismatches.get(D.targetId)!=null,ie=D.view.applyChanges($,k.isPrimaryClient,Z,ee);return QE(k,D.targetId,ie.Ma),ie.snapshot}(n,E,w,T);const l=await UE(n.localStore,e,!0),c=new f5(e,l.gs),f=c.ba(l.documents),h=Oc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),g=c.applyChanges(f,n.isPrimaryClient,h);QE(n,t,g.Ma);const y=new h5(e,t,c);return n.ka.set(e,y),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),g.snapshot}async function _5(n,e,t){const i=Me(n),s=i.ka.get(e),l=i.qa.get(s.targetId);if(l.length>1)return i.qa.set(s.targetId,l.filter(c=>!Rh(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await sy(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&l0(i.remoteStore,s.targetId),uy(i,s.targetId)}).catch(Sl)):(uy(i,s.targetId),await sy(i.localStore,s.targetId,!0))}async function b5(n,e){const t=Me(n),i=t.ka.get(e),s=t.qa.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),l0(t.remoteStore,i.targetId))}async function w5(n,e,t){const i=C5(n);try{const s=await function(c,f){const h=Me(c),g=Bt.now(),y=f.reduce((T,A)=>T.add(A.key),He());let E,w;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let A=Vi(),k=He();return h.ds.getEntries(T,y).next(D=>{A=D,A.forEach((j,H)=>{H.isValidDocument()||(k=k.add(j))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,A)).next(D=>{E=D;const j=[];for(const H of f){const $=LM(H,E.get(H.key).overlayedDocument);$!=null&&j.push(new qa(H.key,$,_1($.value.mapValue),yr.exists(!0)))}return h.mutationQueue.addMutationBatch(T,g,j,f)}).next(D=>{w=D;const j=D.applyToLocalDocumentSet(E,k);return h.documentOverlayCache.saveOverlays(T,D.batchId,j)})}).then(()=>({batchId:w.batchId,changes:I1(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,f,h){let g=c.Wa[c.currentUser.toKey()];g||(g=new xt(Ve)),g=g.insert(f,h),c.Wa[c.currentUser.toKey()]=g}(i,s.batchId,t),await Pc(i,s.changes),await Mh(i.remoteStore)}catch(s){const l=h0(s,"Failed to persist write");t.reject(l)}}async function cS(n,e){const t=Me(n);try{const i=await M4(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t.Ua.get(l);c&&(et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Ba=!0:s.modifiedDocuments.size>0?et(c.Ba):s.removedDocuments.size>0&&(et(c.Ba),c.Ba=!1))}),await Pc(t,i,e)}catch(i){await Sl(i)}}function KE(n,e,t){const i=Me(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.ka.forEach((l,c)=>{const f=c.view.sa(e);f.snapshot&&s.push(f.snapshot)}),function(c,f){const h=Me(c);h.onlineState=f;let g=!1;h.queries.forEach((y,E)=>{for(const w of E.ta)w.sa(f)&&(g=!0)}),g&&p0(h)}(i.eventManager,e),s.length&&i.La.p_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function E5(n,e,t){const i=Me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Ua.get(e),l=s&&s.key;if(l){let c=new xt(Se.comparator);c=c.insert(l,fn.newNoDocument(l,Oe.min()));const f=He().add(l),h=new kh(Oe.min(),new Map,new xt(Ve),c,f);await cS(i,h),i.$a=i.$a.remove(l),i.Ua.delete(e),_0(i)}else await sy(i.localStore,e,!1).then(()=>uy(i,e,t)).catch(Sl)}async function x5(n,e){const t=Me(n),i=e.batch.batchId;try{const s=await O4(t.localStore,e);fS(t,i,null),dS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Pc(t,s)}catch(s){await Sl(s)}}async function T5(n,e,t){const i=Me(n);try{const s=await function(c,f){const h=Me(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return h.mutationQueue.lookupMutationBatch(g,f).next(E=>(et(E!==null),y=E.keys(),h.mutationQueue.removeMutationBatch(g,E))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,y,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>h.localDocuments.getDocuments(g,y))})}(i.localStore,e);fS(i,e,t),dS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Pc(i,s)}catch(s){await Sl(s)}}function dS(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function fS(n,e,t){const i=Me(n);let s=i.Wa[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.Wa[i.currentUser.toKey()]=s}}function uy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(i=>{n.Ka.containsKey(i)||hS(n,i)})}function hS(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(l0(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),_0(n))}function QE(n,e,t){for(const i of t)i instanceof oS?(n.Ka.addReference(i.key,e),S5(n,i)):i instanceof lS?(ye(v0,"Document no longer in limbo: "+i.key),n.Ka.removeReference(i.key,e),n.Ka.containsKey(i.key)||hS(n,i.key)):ke()}function S5(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(ye(v0,"New document in limbo: "+t),n.Qa.add(i),_0(n))}function _0(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Se(mt.fromString(e)),i=n.za.next();n.Ua.set(i,new m5(t)),n.$a=n.$a.insert(t,i),tS(n.remoteStore,new xa(Hr(Ah(t.path)),i,"TargetPurposeLimboResolution",xh.ae))}}async function Pc(n,e,t){const i=Me(n),s=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((f,h)=>{c.push(i.Ha(h,e,t).then(g=>{var y;if((g||t)&&i.isPrimaryClient){const E=g?!g.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(h.targetId,E?"current":"not-current")}if(g){s.push(g);const E=s0.Yi(h.targetId,g);l.push(E)}}))}),await Promise.all(c),i.La.p_(s),await async function(h,g){const y=Me(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>se.forEach(g,w=>se.forEach(w.Hi,T=>y.persistence.referenceDelegate.addReference(E,w.targetId,T)).next(()=>se.forEach(w.Ji,T=>y.persistence.referenceDelegate.removeReference(E,w.targetId,T)))))}catch(E){if(!Al(E))throw E;ye(o0,"Failed to update sequence numbers: "+E)}for(const E of g){const w=E.targetId;if(!E.fromCache){const T=y.Ts.get(w),A=T.snapshotVersion,k=T.withLastLimboFreeSnapshotVersion(A);y.Ts=y.Ts.insert(w,k)}}}(i.localStore,l))}async function A5(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){ye(v0,"User change. New user:",e.toKey());const i=await X1(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(f=>{f.forEach(h=>{h.reject(new ve(oe.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pc(t,i.Rs)}}function R5(n,e){const t=Me(n),i=t.Ua.get(e);if(i&&i.Ba)return He().add(i.key);{let s=He();const l=t.qa.get(e);if(!l)return s;for(const c of l){const f=t.ka.get(c);s=s.unionWith(f.view.Sa)}return s}}function mS(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E5.bind(null,e),e.La.p_=c5.bind(null,e.eventManager),e.La.Ja=d5.bind(null,e.eventManager),e}function C5(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T5.bind(null,e),e}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return D4(this.persistence,new N4,e.initialUser,this.serializer)}Xa(e){return new W1(a0.ri,this.serializer)}Za(e){return new U4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class N5 extends ih{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){et(this.persistence.referenceDelegate instanceof nh);const i=this.persistence.referenceDelegate.garbageCollector;return new m4(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new W1(i=>nh.ri(i,t),this.serializer)}}class cy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>KE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=A5.bind(null,this.syncEngine),await o5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new u5}()}createDatastore(e){const t=Dh(e.databaseInfo.databaseId),i=function(l){return new H4(l)}(e.databaseInfo);return function(l,c,f,h){return new K4(l,c,f,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,l,c,f){return new W4(i,s,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>KE(this.syncEngine,t,0),function(){return zE.D()?new zE:new F4}())}createSyncEngine(e,t){return function(s,l,c,f,h,g,y){const E=new g5(s,l,c,f,h,g);return y&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=Me(s);ye(Bs,"RemoteStore shutting down."),l.W_.add(5),await Mc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}cy.provider={build:()=>new cy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="FirestoreClient";class I5{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=dn.UNAUTHENTICATED,this.clientId=u1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ye(Pa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ye(Pa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=h0(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function _p(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Pa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await X1(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function WE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await k5(n);ye(Pa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>HE(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>HE(e.remoteStore,s)),n._onlineComponents=e}async function k5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Pa,"Using user provided OfflineComponentProvider");try{await _p(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;dl("Error using user provided cache. Falling back to memory cache: "+t),await _p(n,new ih)}}else ye(Pa,"Using default OfflineComponentProvider"),await _p(n,new N5(void 0));return n._offlineComponents}async function gS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Pa,"Using user provided OnlineComponentProvider"),await WE(n,n._uninitializedComponentsProvider._online)):(ye(Pa,"Using default OnlineComponentProvider"),await WE(n,new cy))),n._onlineComponents}function D5(n){return gS(n).then(e=>e.syncEngine)}async function ah(n){const e=await gS(n),t=e.eventManager;return t.onListen=p5.bind(null,e.syncEngine),t.onUnlisten=_5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=y5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=b5.bind(null,e.syncEngine),t}function O5(n,e,t={}){const i=new Di;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,h,g){const y=new b0({next:w=>{y.su(),c.enqueueAndForget(()=>g0(l,E));const T=w.docs.has(f);!T&&w.fromCache?g.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&h&&h.source==="server"?g.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new y0(Ah(f.path),y,{includeMetadataChanges:!0,Ta:!0});return m0(l,E)}(await ah(n),n.asyncQueue,e,t,i)),i.promise}function M5(n,e,t={}){const i=new Di;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,h,g){const y=new b0({next:w=>{y.su(),c.enqueueAndForget(()=>g0(l,E)),w.fromCache&&h.source==="server"?g.reject(new ve(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new y0(f,y,{includeMetadataChanges:!0,Ta:!0});return m0(l,E)}(await ah(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n,e,t){if(!t)throw new ve(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function P5(n,e,t,i){if(e===!0&&i===!0)throw new ve(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ZE(n){if(!Se.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JE(n){if(Se.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ph(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke()}function or(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ph(n);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="firestore.googleapis.com",ex=!0;class tx{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vS,this.ssl=ex}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ex;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f4)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pS((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new zO;switch(i.type){case"firstParty":return new GO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=XE.get(t);i&&(ye("ComponentProvider","Removing Datastore"),XE.delete(t),i.terminate())}(this),Promise.resolve()}}function j5(n,e,t,i={}){var s;const l=(n=or(n,jh))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;l.host!==vS&&l.host!==f&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:f,ssl:!1,emulatorOptions:i});if(!Vs(h,c)&&(n._setSettings(h),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=dn.MOCK_USER;else{g=JN(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new dn(E)}n._authCredentials=new BO(new o1(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class En{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class Na extends eo{constructor(e,t,i){super(e,t,Ah(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new Se(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function lr(n,e,...t){if(n=Lt(n),yS("collection","path",e),n instanceof jh){const i=mt.fromString(e,...t);return JE(i),new Na(n,null,i)}{if(!(n instanceof En||n instanceof Na))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(e,...t));return JE(i),new Na(n.firestore,null,i)}}function Bn(n,e,...t){if(n=Lt(n),arguments.length===1&&(e=u1.newId()),yS("doc","path",e),n instanceof jh){const i=mt.fromString(e,...t);return ZE(i),new En(n,null,new Se(i))}{if(!(n instanceof En||n instanceof Na))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(e,...t));return ZE(i),new En(n.firestore,n instanceof Na?n.converter:null,new Se(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="AsyncQueue";class rx{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new J1(this,"async_queue_retry"),this.Su=()=>{const i=vp();i&&ye(nx,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=vp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=vp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Di;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Al(e))throw e;ye(nx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const s=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(i);throw Li("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=f0.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(s),s}Du(){this.gu&&ke()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function ix(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const l of i)if(l in s&&typeof s[l]=="function")return!0;return!1}(n,["next","error","complete"])}class ja extends jh{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new rx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rx(e),this._firestoreClient=void 0,await e}}}function L5(n,e){const t=typeof n=="object"?n:yT(),i=typeof n=="string"?n:Wf,s=Ly(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=XN("firestore");l&&j5(s,...l)}return s}function Lh(n){if(n._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||V5(n),n._firestoreClient}function V5(n){var e,t,i;const s=n._freezeSettings(),l=function(f,h,g,y){return new oM(f,h,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,pS(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new I5(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(sn.fromBase64String(e))}catch(t){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yl(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=/^__.*__$/;class F5{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new qa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dc(e,this.data,t,this.fieldTransforms)}}class _S{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new qa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class x0{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new x0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.$u(e),s}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return sh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(bS(this.Lu)&&U5.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class $5{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Dh(e)}ju(e,t,i,s=!1){return new x0({Lu:e,methodName:t,zu:i,path:an.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T0(n){const e=n._freezeSettings(),t=Dh(n._databaseId);return new $5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function z5(n,e,t,i,s,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,s);A0("Data must be an object, but it was:",c,i);const f=wS(i,c);let h,g;if(l.merge)h=new zn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const E of l.mergeFields){const w=dy(e,E,t);if(!c.contains(w))throw new ve(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);xS(y,w)||y.push(w)}h=new zn(y),g=c.fieldTransforms.filter(E=>h.covers(E.field))}else h=null,g=c.fieldTransforms;return new F5(new In(f),h,g)}class Fh extends Uh{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fh}}class S0 extends Uh{_toFieldTransform(e){return new OM(e.path,new yc)}isEqual(e){return e instanceof S0}}function B5(n,e,t,i){const s=n.ju(1,e,t);A0("Data must be an object, but it was:",s,i);const l=[],c=In.empty();Ha(i,(h,g)=>{const y=R0(e,h,t);g=Lt(g);const E=s.Uu(y);if(g instanceof Fh)l.push(y);else{const w=jc(g,E);w!=null&&(l.push(y),c.set(y,w))}});const f=new zn(l);return new _S(c,f,s.fieldTransforms)}function H5(n,e,t,i,s,l){const c=n.ju(1,e,t),f=[dy(e,i,t)],h=[s];if(l.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(dy(e,l[w])),h.push(l[w+1]);const g=[],y=In.empty();for(let w=f.length-1;w>=0;--w)if(!xS(g,f[w])){const T=f[w];let A=h[w];A=Lt(A);const k=c.Uu(T);if(A instanceof Fh)g.push(T);else{const D=jc(A,k);D!=null&&(g.push(T),y.set(T,D))}}const E=new zn(g);return new _S(y,E,c.fieldTransforms)}function q5(n,e,t,i=!1){return jc(t,n.ju(i?4:3,e))}function jc(n,e){if(ES(n=Lt(n)))return A0("Unsupported field value:",e,n),wS(n,e);if(n instanceof Uh)return function(i,s){if(!bS(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,s){const l=[];let c=0;for(const f of i){let h=jc(f,s.Ku(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,s){if((i=Lt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return IM(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Bt.fromDate(i);return{timestampValue:th(s.serializer,l)}}if(i instanceof Bt){const l=new Bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:th(s.serializer,l)}}if(i instanceof w0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof yl)return{bytesValue:z1(s.serializer,i._byteString)};if(i instanceof En){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:r0(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof E0)return function(c,f){return{mapValue:{fields:{[y1]:{stringValue:v1},[Xf]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw f.Wu("VectorValues must only contain numeric values.");return Jy(f.serializer,g)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${Ph(i)}`)}(n,e)}function wS(n,e){const t={};return d1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(n,(i,s)=>{const l=jc(s,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function ES(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Bt||n instanceof w0||n instanceof yl||n instanceof En||n instanceof Uh||n instanceof E0)}function A0(n,e,t){if(!ES(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=Ph(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function dy(n,e,t){if((e=Lt(e))instanceof Vh)return e._internalPath;if(typeof e=="string")return R0(n,e);throw sh("Field path arguments must be of type string or ",n,!1,void 0,t)}const G5=new RegExp("[~\\*/\\[\\]]");function R0(n,e,t){if(e.search(G5)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vh(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sh(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${i}`),c&&(h+=` in document ${s}`),h+=")"),new ve(oe.INVALID_ARGUMENT,f+n+h)}function xS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(C0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Y5 extends TS{data(){return super.data()}}function C0(n,e){return typeof e=="string"?R0(n,e):e instanceof Vh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class N0{}class K5 extends N0{}function Gr(n,e,...t){let i=[];e instanceof N0&&i.push(e),i=i.concat(t),function(l){const c=l.filter(h=>h instanceof I0).length,f=l.filter(h=>h instanceof $h).length;if(c>1||c>0&&f>0)throw new ve(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class $h extends K5{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new $h(e,t,i)}_apply(e){const t=this._parse(e);return AS(e._query,t),new eo(e.firestore,e.converter,ey(e._query,t))}_parse(e){const t=T0(e.firestore);return function(l,c,f,h,g,y,E){let w;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){sx(E,y);const A=[];for(const k of E)A.push(ax(h,l,k));w={arrayValue:{values:A}}}else w=ax(h,l,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||sx(E,y),w=q5(f,c,E,y==="in"||y==="not-in");return jt.create(g,y,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Yr(n,e,t){const i=e,s=C0("where",n);return $h._create(s,i,t)}class I0 extends N0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new I0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:br.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,l){let c=s;const f=l.getFlattenedFilters();for(const h of f)AS(c,h),c=ey(c,h)}(e._query,t),new eo(e.firestore,e.converter,ey(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ax(n,e,t){if(typeof(t=Lt(t))=="string"){if(t==="")throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A1(e)&&t.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(mt.fromString(t));if(!Se.isDocumentKey(i))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return bE(n,new Se(i))}if(t instanceof En)return bE(n,t._key);throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ph(t)}.`)}function sx(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AS(n,e){const t=function(s,l){for(const c of s)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Q5{convertValue(e,t="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ha(e,(s,l)=>{i[s]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,s;const l=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Xf].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>It(c.doubleValue));return new E0(l)}convertGeoPoint(e){return new w0(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Sh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const t=ka(e);return new Bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=mt.fromString(e);et(K1(i));const s=new gc(i.get(1),i.get(3)),l=new Se(i.popFirst(5));return s.isEqual(t)||Li(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RS extends TS{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(C0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Lf extends RS{data(e={}){return super.data(e)}}class CS{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ec(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Lf(this._firestore,this._userDataWriter,i.key,i,new ec(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>{const h=new Lf(s._firestore,s._userDataWriter,f.doc.key,f.doc,new ec(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const h=new Lf(s._firestore,s._userDataWriter,f.doc.key,f.doc,new ec(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,y=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:X5(f.type),doc:h,oldIndex:g,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function X5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n){n=or(n,En);const e=or(n.firestore,ja);return O5(Lh(e),n._key).then(t=>IS(e,n,t))}class D0 extends Q5{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}function Ms(n){n=or(n,eo);const e=or(n.firestore,ja),t=Lh(e),i=new D0(e);return SS(n._query),M5(t,n._query).then(s=>new CS(e,i,n,s))}function Hs(n,e,t,...i){n=or(n,En);const s=or(n.firestore,ja),l=T0(s);let c;return c=typeof(e=Lt(e))=="string"||e instanceof Vh?H5(l,"updateDoc",n._key,e,t,i):B5(l,"updateDoc",n._key,e),P0(s,[c.toMutation(n._key,yr.exists(!0))])}function NS(n){return P0(or(n.firestore,ja),[new e0(n._key,yr.none())])}function O0(n,e){const t=or(n.firestore,ja),i=Bn(n),s=W5(n.converter,e);return P0(t,[z5(T0(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,yr.exists(!1))]).then(()=>i)}function M0(n,...e){var t,i,s;n=Lt(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||ix(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(ix(e[c])){const E=e[c];e[c]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[c+1]=(i=E.error)===null||i===void 0?void 0:i.bind(E),e[c+2]=(s=E.complete)===null||s===void 0?void 0:s.bind(E)}let h,g,y;if(n instanceof En)g=or(n.firestore,ja),y=Ah(n._key.path),h={next:E=>{e[c]&&e[c](IS(g,n,E))},error:e[c+1],complete:e[c+2]};else{const E=or(n,eo);g=or(E.firestore,ja),y=E._query;const w=new D0(g);h={next:T=>{e[c]&&e[c](new CS(g,w,E,T))},error:e[c+1],complete:e[c+2]},SS(n._query)}return function(w,T,A,k){const D=new b0(k),j=new y0(T,D,A);return w.asyncQueue.enqueueAndForget(async()=>m0(await ah(w),j)),()=>{D.su(),w.asyncQueue.enqueueAndForget(async()=>g0(await ah(w),j))}}(Lh(g),y,f,h)}function P0(n,e){return function(i,s){const l=new Di;return i.asyncQueue.enqueueAndForget(async()=>w5(await D5(i),s,l)),l.promise}(Lh(n),e)}function IS(n,e,t){const i=t.docs.get(e._key),s=new D0(n);return new RS(n,s,e._key,i,new ec(t.hasPendingWrites,t.fromCache),e.converter)}function qs(){return new S0("serverTimestamp")}(function(e,t=!0){(function(s){Tl=s})(El),ul(new Us("firestore",(i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new ja(new HO(i.getProvider("auth-internal")),new YO(c,i.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(g.options.projectId,y)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Ra(lE,uE,e),Ra(lE,uE,"esm2017")})();const Z5={apiKey:"AIzaSyCijusB_M0ldmfT5hiZKbtog5YVKdNdvKQ",authDomain:"calendar-share-71ebe.firebaseapp.com",projectId:"calendar-share-71ebe",storageBucket:"calendar-share-71ebe.firebasestorage.app",messagingSenderId:"142536026603",appId:"1:142536026603:web:6ef7c8b45158505ac911ae",measurementId:"G-G78L00HBZ1"},kS=pT(Z5),tc=VO(kS),_t=L5(kS),DS=async(n,e,t,i=!1,s="",l="")=>{try{return(await O0(lr(_t,"calendars"),{name:e,color:t,ownerId:n,ownerEmail:s,ownerName:l||(s?s.split("@")[0]:""),isDefault:i,members:[n],sharedEmails:[],createdAt:qs(),updatedAt:qs()})).id}catch(c){throw console.error("Error creating calendar:",c),c}},J5=async(n,e,t="")=>{const i=`${e}'s Calendar`;return DS(n,i,"#6366f1",!0,t,e)},zh=async n=>{try{const e=Gr(lr(_t,"calendars"),Yr("members","array-contains",n));return(await Ms(e)).docs.map(i=>{var s,l;return{id:i.id,...i.data(),createdAt:((s=i.data().createdAt)==null?void 0:s.toDate())||new Date,updatedAt:((l=i.data().updatedAt)==null?void 0:l.toDate())||new Date}})}catch(e){throw console.error("Error getting user calendars:",e),e}},eP=async(n,e)=>{try{await Hs(Bn(_t,"calendars",n),{...e,updatedAt:qs()})}catch(t){throw console.error("Error updating calendar:",t),t}},tP=async n=>{try{await NS(Bn(_t,"calendars",n))}catch(e){throw console.error("Error deleting calendar:",e),e}},OS=async(n,e,t={})=>{try{const i=await k0(Bn(_t,"calendars",n));if(!i.exists())throw new Error("Calendar not found");const s=i.data(),c={sharedEmails:[...s.sharedEmails||[],e],updatedAt:qs()};t.ownerEmail&&(c.ownerEmail=t.ownerEmail),t.ownerName&&(c.ownerName=t.ownerName),await Hs(Bn(_t,"calendars",n),c);const f=[...s.members||[]];f.includes(e)||(f.push(e),await Hs(Bn(_t,"calendars",n),{members:f,updatedAt:qs()}))}catch(i){throw console.error("Error sharing calendar:",i),i}},MS=async(n,e)=>{try{const t=await k0(Bn(_t,"calendars",n));if(!t.exists())throw new Error("Calendar not found");const i=t.data(),s=i.sharedEmails.filter(c=>c!==e),l=i.members.filter(c=>c!==e);await Hs(Bn(_t,"calendars",n),{sharedEmails:s,members:l,updatedAt:qs()})}catch(t){throw console.error("Error removing user from calendar:",t),t}},PS=b.createContext();function xn(){return b.useContext(PS)}function nP({children:n}){const[e,t]=b.useState(null),[i,s]=b.useState(!0);function l(g,y,E){return wD(tc,g,y).then(w=>HT(w.user,{displayName:E}).then(()=>J5(w.user.uid,E||g,g)))}function c(g,y){return ED(tc,g,y)}function f(){return RD(tc)}b.useEffect(()=>AD(tc,y=>{t(y),s(!1)}),[]);const h={currentUser:e,signup:l,login:c,logout:f,loading:i};return v.jsx(PS.Provider,{value:h,children:n})}const jS=b.createContext();function rP(){return b.useContext(jS)}function iP({children:n}){const[e,t]=b.useState(()=>{if(typeof window<"u"){const l=localStorage.getItem("theme");return l||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});b.useEffect(()=>{const l=window.document.documentElement;e==="dark"?l.classList.add("dark"):l.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const s={theme:e,toggleTheme:()=>{t(l=>l==="light"?"dark":"light")},isDark:e==="dark"};return v.jsx(jS.Provider,{value:s,children:n})}const LS=b.createContext();function j0(){return b.useContext(LS)}function aP({children:n}){const[e,t]=b.useState([]),[i,s]=b.useState(!0),{currentUser:l}=xn();b.useEffect(()=>{(async()=>{if(!l){t([]),s(!1);return}try{const h=lr(_t,"calendars"),g=Gr(h,Yr("sharedEmails","array-contains",l.email)),E=(await Ms(g)).docs.map(w=>{var T,A;return{id:w.id,...w.data(),createdAt:((T=w.data().createdAt)==null?void 0:T.toDate())||new Date,updatedAt:((A=w.data().updatedAt)==null?void 0:A.toDate())||new Date}});t(E),s(!1)}catch(h){console.error("Error fetching shared calendars:",h),s(!1)}})()},[l]);const c={sharedCalendars:e,loading:i,refreshSharedCalendars:async()=>{s(!0);try{const f=lr(_t,"calendars"),h=Gr(f,Yr("sharedEmails","array-contains",l.email)),y=(await Ms(h)).docs.map(E=>{var w,T;return{id:E.id,...E.data(),createdAt:((w=E.data().createdAt)==null?void 0:w.toDate())||new Date,updatedAt:((T=E.data().updatedAt)==null?void 0:T.toDate())||new Date}});t(y)}catch(f){console.error("Error refreshing shared calendars:",f)}finally{s(!1)}}};return v.jsx(LS.Provider,{value:c,children:n})}function sP(){const[n,e]=b.useState(""),[t,i]=b.useState(""),[s,l]=b.useState(!1),{login:c}=xn(),f=$a(),h=async g=>{g.preventDefault();try{l(!0),await c(n,t),Fe.success("Logged in successfully"),f("/")}catch(y){console.error("Login error:",y),Fe.error("Failed to log in. Please check your credentials.")}finally{l(!1)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-md w-full space-y-8",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-center text-3xl font-extrabold text-orange-700",children:"Calendar-Share"}),v.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})]}),v.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[v.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),v.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:g=>e(g.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),v.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:g=>i(g.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Password"})]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),v.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),v.jsx("div",{className:"text-sm",children:v.jsx("a",{href:"#",className:"font-medium text-orange-600 hover:text-orange-500",children:"Forgot your password?"})})]}),v.jsx("div",{children:v.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign in"})}),v.jsx("div",{className:"text-sm text-center",children:v.jsxs("p",{children:["Don't have an account?"," ",v.jsx(Ls,{to:"/register",className:"font-medium text-orange-600 hover:text-orange-500",children:"Sign up"})]})})]})]})})}function oP(){const[n,e]=b.useState(""),[t,i]=b.useState(""),[s,l]=b.useState(""),[c,f]=b.useState(""),[h,g]=b.useState(!1),{signup:y}=xn(),E=$a(),w=async T=>{if(T.preventDefault(),s!==c)return Fe.error("Passwords do not match");try{g(!0),await y(t,s,n),Fe.success("Account created successfully"),E("/")}catch(A){console.error("Registration error:",A),Fe.error("Failed to create an account")}finally{g(!1)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-md w-full space-y-8",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-center text-3xl font-extrabold text-orange-700",children:"CalendarShare"}),v.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})]}),v.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[v.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),v.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:n,onChange:T=>e(T.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Full Name"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),v.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:T=>i(T.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),v.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:s,onChange:T=>l(T.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Password"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),v.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,value:c,onChange:T=>f(T.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password"})]})]}),v.jsx("div",{children:v.jsx("button",{type:"submit",disabled:h,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Creating account...":"Sign up"})}),v.jsx("div",{className:"text-sm text-center",children:v.jsxs("p",{children:["Already have an account?"," ",v.jsx(Ls,{to:"/login",className:"font-medium text-orange-600 hover:text-orange-500",children:"Sign in"})]})})]})]})})}const VS=6048e5,lP=864e5,L0=6e4,US=36e5,ox=Symbol.for("constructDateFrom");function qn(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&ox in n?n[ox](e):n instanceof Date?new n.constructor(e):new Date(e)}function tt(n,e){return qn(e||n,n)}function Bh(n,e,t){const i=tt(n,t==null?void 0:t.in);return isNaN(e)?qn(n,NaN):(e&&i.setDate(i.getDate()+e),i)}function FS(n,e,t){const i=tt(n,t==null?void 0:t.in);if(isNaN(e))return qn(n,NaN);if(!e)return i;const s=i.getDate(),l=qn(n,i.getTime());l.setMonth(i.getMonth()+e+1,0);const c=l.getDate();return s>=c?l:(i.setFullYear(l.getFullYear(),l.getMonth(),s),i)}let uP={};function Lc(){return uP}function La(n,e){var f,h,g,y;const t=Lc(),i=(e==null?void 0:e.weekStartsOn)??((h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??t.weekStartsOn??((y=(g=t.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,s=tt(n,e==null?void 0:e.in),l=s.getDay(),c=(l<i?7:0)+l-i;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function oh(n,e){return La(n,{...e,weekStartsOn:1})}function $S(n,e){const t=tt(n,e==null?void 0:e.in),i=t.getFullYear(),s=qn(t,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const l=oh(s),c=qn(t,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const f=oh(c);return t.getTime()>=l.getTime()?i+1:t.getTime()>=f.getTime()?i:i-1}function lx(n){const e=tt(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Hh(n,...e){const t=qn.bind(null,e.find(i=>typeof i=="object"));return e.map(t)}function lh(n,e){const t=tt(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function cP(n,e,t){const[i,s]=Hh(t==null?void 0:t.in,n,e),l=lh(i),c=lh(s),f=+l-lx(l),h=+c-lx(c);return Math.round((f-h)/lP)}function dP(n,e){const t=$S(n,e),i=qn(n,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),oh(i)}function fP(n,e,t){const i=tt(n,t==null?void 0:t.in);return i.setTime(i.getTime()+e*L0),i}function zS(n,e,t){return Bh(n,e*7,t)}function Et(n,e,t){const[i,s]=Hh(t==null?void 0:t.in,n,e);return+lh(i)==+lh(s)}function hP(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function mP(n){return!(!hP(n)&&typeof n!="number"||isNaN(+tt(n)))}function gP(n,e){const t=tt(n,e==null?void 0:e.in),i=t.getMonth();return t.setFullYear(t.getFullYear(),i+1,0),t.setHours(23,59,59,999),t}function pP(n,e){const[t,i]=Hh(n,e.start,e.end);return{start:t,end:i}}function ux(n,e){const{start:t,end:i}=pP(e==null?void 0:e.in,n);let s=+t>+i;const l=s?+t:+i,c=s?i:t;c.setHours(0,0,0,0);let f=1;const h=[];for(;+c<=l;)h.push(qn(t,c)),c.setDate(c.getDate()+f),c.setHours(0,0,0,0);return s?h.reverse():h}function yP(n,e){const t=tt(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function vP(n,e){const t=tt(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function cx(n,e){var f,h;const t=Lc(),i=t.weekStartsOn??((h=(f=t.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,s=tt(n,e==null?void 0:e.in),l=s.getDay(),c=(l<i?-7:0)+6-(l-i);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}const _P={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bP=(n,e,t)=>{let i;const s=_P[n];return typeof s=="string"?i=s:e===1?i=s.one:i=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function bp(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const wP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},EP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TP={date:bp({formats:wP,defaultWidth:"full"}),time:bp({formats:EP,defaultWidth:"full"}),dateTime:bp({formats:xP,defaultWidth:"full"})},SP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},AP=(n,e,t,i)=>SP[n];function qu(n){return(e,t)=>{const i=t!=null&&t.context?String(t.context):"standalone";let s;if(i==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,f=t!=null&&t.width?String(t.width):c;s=n.formattingValues[f]||n.formattingValues[c]}else{const c=n.defaultWidth,f=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[f]||n.values[c]}const l=n.argumentCallback?n.argumentCallback(e):e;return s[l]}}const RP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},CP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},NP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},IP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},OP=(n,e)=>{const t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},MP={ordinalNumber:OP,era:qu({values:RP,defaultWidth:"wide"}),quarter:qu({values:CP,defaultWidth:"wide",argumentCallback:n=>n-1}),month:qu({values:NP,defaultWidth:"wide"}),day:qu({values:IP,defaultWidth:"wide"}),dayPeriod:qu({values:kP,defaultWidth:"wide",formattingValues:DP,defaultFormattingWidth:"wide"})};function Gu(n){return(e,t={})=>{const i=t.width,s=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],l=e.match(s);if(!l)return null;const c=l[0],f=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],h=Array.isArray(f)?jP(f,E=>E.test(c)):PP(f,E=>E.test(c));let g;g=n.valueCallback?n.valueCallback(h):h,g=t.valueCallback?t.valueCallback(g):g;const y=e.slice(c.length);return{value:g,rest:y}}}function PP(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function jP(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function LP(n){return(e,t={})=>{const i=e.match(n.matchPattern);if(!i)return null;const s=i[0],l=e.match(n.parsePattern);if(!l)return null;let c=n.valueCallback?n.valueCallback(l[0]):l[0];c=t.valueCallback?t.valueCallback(c):c;const f=e.slice(s.length);return{value:c,rest:f}}}const VP=/^(\d+)(th|st|nd|rd)?/i,UP=/\d+/i,FP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$P={any:[/^b/i,/^(a|c)/i]},zP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},BP={any:[/1/i,/2/i,/3/i,/4/i]},HP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},GP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},YP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},WP={ordinalNumber:LP({matchPattern:VP,parsePattern:UP,valueCallback:n=>parseInt(n,10)}),era:Gu({matchPatterns:FP,defaultMatchWidth:"wide",parsePatterns:$P,defaultParseWidth:"any"}),quarter:Gu({matchPatterns:zP,defaultMatchWidth:"wide",parsePatterns:BP,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Gu({matchPatterns:HP,defaultMatchWidth:"wide",parsePatterns:qP,defaultParseWidth:"any"}),day:Gu({matchPatterns:GP,defaultMatchWidth:"wide",parsePatterns:YP,defaultParseWidth:"any"}),dayPeriod:Gu({matchPatterns:KP,defaultMatchWidth:"any",parsePatterns:QP,defaultParseWidth:"any"})},XP={code:"en-US",formatDistance:bP,formatLong:TP,formatRelative:AP,localize:MP,match:WP,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ZP(n,e){const t=tt(n,e==null?void 0:e.in);return cP(t,vP(t))+1}function JP(n,e){const t=tt(n,e==null?void 0:e.in),i=+oh(t)-+dP(t);return Math.round(i/VS)+1}function BS(n,e){var y,E,w,T;const t=tt(n,e==null?void 0:e.in),i=t.getFullYear(),s=Lc(),l=(e==null?void 0:e.firstWeekContainsDate)??((E=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??s.firstWeekContainsDate??((T=(w=s.locale)==null?void 0:w.options)==null?void 0:T.firstWeekContainsDate)??1,c=qn((e==null?void 0:e.in)||n,0);c.setFullYear(i+1,0,l),c.setHours(0,0,0,0);const f=La(c,e),h=qn((e==null?void 0:e.in)||n,0);h.setFullYear(i,0,l),h.setHours(0,0,0,0);const g=La(h,e);return+t>=+f?i+1:+t>=+g?i:i-1}function e3(n,e){var f,h,g,y;const t=Lc(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??t.firstWeekContainsDate??((y=(g=t.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,s=BS(n,e),l=qn((e==null?void 0:e.in)||n,0);return l.setFullYear(s,0,i),l.setHours(0,0,0,0),La(l,e)}function t3(n,e){const t=tt(n,e==null?void 0:e.in),i=+La(t,e)-+e3(t,e);return Math.round(i/VS)+1}function at(n,e){const t=n<0?"-":"",i=Math.abs(n).toString().padStart(e,"0");return t+i}const ya={y(n,e){const t=n.getFullYear(),i=t>0?t:1-t;return at(e==="yy"?i%100:i,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):at(t+1,2)},d(n,e){return at(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return at(n.getHours()%12||12,e.length)},H(n,e){return at(n.getHours(),e.length)},m(n,e){return at(n.getMinutes(),e.length)},s(n,e){return at(n.getSeconds(),e.length)},S(n,e){const t=e.length,i=n.getMilliseconds(),s=Math.trunc(i*Math.pow(10,t-3));return at(s,e.length)}},Qo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dx={G:function(n,e,t){const i=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const i=n.getFullYear(),s=i>0?i:1-i;return t.ordinalNumber(s,{unit:"year"})}return ya.y(n,e)},Y:function(n,e,t,i){const s=BS(n,i),l=s>0?s:1-s;if(e==="YY"){const c=l%100;return at(c,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):at(l,e.length)},R:function(n,e){const t=$S(n);return at(t,e.length)},u:function(n,e){const t=n.getFullYear();return at(t,e.length)},Q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return at(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return at(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,t){const i=n.getMonth();switch(e){case"M":case"MM":return ya.M(n,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,t){const i=n.getMonth();switch(e){case"L":return String(i+1);case"LL":return at(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,t,i){const s=t3(n,i);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):at(s,e.length)},I:function(n,e,t){const i=JP(n);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):at(i,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):ya.d(n,e)},D:function(n,e,t){const i=ZP(n);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):at(i,e.length)},E:function(n,e,t){const i=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,t,i){const s=n.getDay(),l=(s-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return at(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,i){const s=n.getDay(),l=(s-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return at(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const i=n.getDay(),s=i===0?7:i;switch(e){case"i":return String(s);case"ii":return at(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const i=n.getHours();let s;switch(i===12?s=Qo.noon:i===0?s=Qo.midnight:s=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const i=n.getHours();let s;switch(i>=17?s=Qo.evening:i>=12?s=Qo.afternoon:i>=4?s=Qo.morning:s=Qo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let i=n.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return ya.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):ya.H(n,e)},K:function(n,e,t){const i=n.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):at(i,e.length)},k:function(n,e,t){let i=n.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):at(i,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):ya.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):ya.s(n,e)},S:function(n,e){return ya.S(n,e)},X:function(n,e,t){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return hx(i);case"XXXX":case"XX":return Cs(i);case"XXXXX":case"XXX":default:return Cs(i,":")}},x:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"x":return hx(i);case"xxxx":case"xx":return Cs(i);case"xxxxx":case"xxx":default:return Cs(i,":")}},O:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fx(i,":");case"OOOO":default:return"GMT"+Cs(i,":")}},z:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fx(i,":");case"zzzz":default:return"GMT"+Cs(i,":")}},t:function(n,e,t){const i=Math.trunc(+n/1e3);return at(i,e.length)},T:function(n,e,t){return at(+n,e.length)}};function fx(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),s=Math.trunc(i/60),l=i%60;return l===0?t+String(s):t+String(s)+e+at(l,2)}function hx(n,e){return n%60===0?(n>0?"-":"+")+at(Math.abs(n)/60,2):Cs(n,e)}function Cs(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),s=at(Math.trunc(i/60),2),l=at(i%60,2);return t+s+e+l}const mx=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},HS=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},n3=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],i=t[1],s=t[2];if(!s)return mx(n,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",mx(i,e)).replace("{{time}}",HS(s,e))},r3={p:HS,P:n3},i3=/^D+$/,a3=/^Y+$/,s3=["D","DD","YY","YYYY"];function o3(n){return i3.test(n)}function l3(n){return a3.test(n)}function u3(n,e,t){const i=c3(n,e,t);if(console.warn(i),s3.includes(n))throw new RangeError(i)}function c3(n,e,t){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const d3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,f3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,h3=/^'([^]*?)'?$/,m3=/''/g,g3=/[a-zA-Z]/;function vt(n,e,t){var y,E,w,T;const i=Lc(),s=i.locale??XP,l=i.firstWeekContainsDate??((E=(y=i.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,c=i.weekStartsOn??((T=(w=i.locale)==null?void 0:w.options)==null?void 0:T.weekStartsOn)??0,f=tt(n,t==null?void 0:t.in);if(!mP(f))throw new RangeError("Invalid time value");let h=e.match(f3).map(A=>{const k=A[0];if(k==="p"||k==="P"){const D=r3[k];return D(A,s.formatLong)}return A}).join("").match(d3).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const k=A[0];if(k==="'")return{isToken:!1,value:p3(A)};if(dx[k])return{isToken:!0,value:A};if(k.match(g3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:A}});s.localize.preprocessor&&(h=s.localize.preprocessor(f,h));const g={firstWeekContainsDate:l,weekStartsOn:c,locale:s};return h.map(A=>{if(!A.isToken)return A.value;const k=A.value;(l3(k)||o3(k))&&u3(k,e,String(n));const D=dx[k[0]];return D(f,k,s.localize,g)}).join("")}function p3(n){const e=n.match(h3);return e?e[1].replace(m3,"'"):n}function Wo(n,e){return tt(n,e==null?void 0:e.in).getHours()}function Xo(n,e){return tt(n,e==null?void 0:e.in).getMinutes()}function gx(n,e){return+tt(n)>+tt(e)}function bf(n,e){return+tt(n)<+tt(e)}function y3(n,e,t){const[i,s]=Hh(t==null?void 0:t.in,n,e);return i.getFullYear()===s.getFullYear()&&i.getMonth()===s.getMonth()}function v3(n,e,t){const i=+tt(n,t==null?void 0:t.in),[s,l]=[+tt(e.start,t==null?void 0:t.in),+tt(e.end,t==null?void 0:t.in)].sort((c,f)=>c-f);return i>=s&&i<=l}function _3(n,e,t){return Bh(n,-1,t)}function wp(n,e){const t=()=>qn(e==null?void 0:e.in,NaN),s=x3(n);let l;if(s.date){const g=T3(s.date,2);l=S3(g.restDateString,g.year)}if(!l||isNaN(+l))return t();const c=+l;let f=0,h;if(s.time&&(f=A3(s.time),isNaN(f)))return t();if(s.timezone){if(h=R3(s.timezone),isNaN(h))return t()}else{const g=new Date(c+f),y=tt(0,e==null?void 0:e.in);return y.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),y.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),y}return tt(c+f+h,e==null?void 0:e.in)}const wf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},b3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,w3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,E3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function x3(n){const e={},t=n.split(wf.dateTimeDelimiter);let i;if(t.length>2)return e;if(/:/.test(t[0])?i=t[0]:(e.date=t[0],i=t[1],wf.timeZoneDelimiter.test(e.date)&&(e.date=n.split(wf.timeZoneDelimiter)[0],i=n.substr(e.date.length,n.length))),i){const s=wf.timezone.exec(i);s?(e.time=i.replace(s[1],""),e.timezone=s[1]):e.time=i}return e}function T3(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=n.match(t);if(!i)return{year:NaN,restDateString:""};const s=i[1]?parseInt(i[1]):null,l=i[2]?parseInt(i[2]):null;return{year:l===null?s:l*100,restDateString:n.slice((i[1]||i[2]).length)}}function S3(n,e){if(e===null)return new Date(NaN);const t=n.match(b3);if(!t)return new Date(NaN);const i=!!t[4],s=Yu(t[1]),l=Yu(t[2])-1,c=Yu(t[3]),f=Yu(t[4]),h=Yu(t[5])-1;if(i)return D3(e,f,h)?C3(e,f,h):new Date(NaN);{const g=new Date(0);return!I3(e,l,c)||!k3(e,s)?new Date(NaN):(g.setUTCFullYear(e,l,Math.max(s,c)),g)}}function Yu(n){return n?parseInt(n):1}function A3(n){const e=n.match(w3);if(!e)return NaN;const t=Ep(e[1]),i=Ep(e[2]),s=Ep(e[3]);return O3(t,i,s)?t*US+i*L0+s*1e3:NaN}function Ep(n){return n&&parseFloat(n.replace(",","."))||0}function R3(n){if(n==="Z")return 0;const e=n.match(E3);if(!e)return 0;const t=e[1]==="+"?-1:1,i=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return M3(i,s)?t*(i*US+s*L0):NaN}function C3(n,e,t){const i=new Date(0);i.setUTCFullYear(n,0,4);const s=i.getUTCDay()||7,l=(e-1)*7+t+1-s;return i.setUTCDate(i.getUTCDate()+l),i}const N3=[31,null,31,30,31,30,31,31,30,31,30,31];function qS(n){return n%400===0||n%4===0&&n%100!==0}function I3(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(N3[e]||(qS(n)?29:28))}function k3(n,e){return e>=1&&e<=(qS(n)?366:365)}function D3(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function O3(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function M3(n,e){return e>=0&&e<=59}function px(n,e,t){const i=tt(n,t==null?void 0:t.in);return i.setHours(e),i}function yx(n,e,t){const i=tt(n,t==null?void 0:t.in);return i.setMinutes(e),i}function P3(n,e,t){return FS(n,-1,t)}function j3(n,e,t){return zS(n,-1,t)}const GS=typeof document<"u"?dt.useLayoutEffect:()=>{};function L3(n){const e=b.useRef(null);return GS(()=>{e.current=n},[n]),b.useCallback((...t)=>{const i=e.current;return i==null?void 0:i(...t)},[])}const Ga=n=>{var e;return(e=n==null?void 0:n.ownerDocument)!==null&&e!==void 0?e:document},Ds=n=>n&&"window"in n&&n.window===n?n:Ga(n).defaultView||window;function V3(n){return n!==null&&typeof n=="object"&&"nodeType"in n&&typeof n.nodeType=="number"}function U3(n){return V3(n)&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in n}let F3=!1;function V0(){return F3}function YS(n,e){if(!V0())return e&&n?n.contains(e):!1;if(!n||!e)return!1;let t=e;for(;t!==null;){if(t===n)return!0;t.tagName==="SLOT"&&t.assignedSlot?t=t.assignedSlot.parentNode:U3(t)?t=t.host:t=t.parentNode}return!1}const fy=(n=document)=>{var e;if(!V0())return n.activeElement;let t=n.activeElement;for(;t&&"shadowRoot"in t&&(!((e=t.shadowRoot)===null||e===void 0)&&e.activeElement);)t=t.shadowRoot.activeElement;return t};function KS(n){return V0()&&n.target.shadowRoot&&n.composedPath?n.composedPath()[0]:n.target}function $3(n){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(t=>n.test(t.brand)))||n.test(window.navigator.userAgent)}function z3(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function QS(n){let e=null;return()=>(e==null&&(e=n()),e)}const B3=QS(function(){return z3(/^Mac/i)}),H3=QS(function(){return $3(/Android/i)});function WS(){let n=b.useRef(new Map),e=b.useCallback((s,l,c,f)=>{let h=f!=null&&f.once?(...g)=>{n.current.delete(c),c(...g)}:c;n.current.set(c,{type:l,eventTarget:s,fn:h,options:f}),s.addEventListener(l,h,f)},[]),t=b.useCallback((s,l,c,f)=>{var h;let g=((h=n.current.get(c))===null||h===void 0?void 0:h.fn)||c;s.removeEventListener(l,g,f),n.current.delete(c)},[]),i=b.useCallback(()=>{n.current.forEach((s,l)=>{t(s.eventTarget,s.type,l,s.options)})},[t]);return b.useEffect(()=>i,[i]),{addGlobalListener:e,removeGlobalListener:t,removeAllGlobalListeners:i}}function q3(n){return n.mozInputSource===0&&n.isTrusted?!0:H3()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}class XS{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function ZS(n){let e=b.useRef({isFocused:!1,observer:null});GS(()=>{const i=e.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let t=L3(i=>{n==null||n(i)});return b.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){e.current.isFocused=!0;let s=i.target,l=c=>{e.current.isFocused=!1,s.disabled&&t(new XS("blur",c)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};s.addEventListener("focusout",l,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&s.disabled){var c;(c=e.current.observer)===null||c===void 0||c.disconnect();let f=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:f})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:f}))}}),e.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let G3=!1,Vc=null,hy=new Set,lc=new Map,Gs=!1,my=!1;const Y3={Tab:!0,Escape:!0};function U0(n,e){for(let t of hy)t(n,e)}function K3(n){return!(n.metaKey||!B3()&&n.altKey||n.ctrlKey||n.key==="Control"||n.key==="Shift"||n.key==="Meta")}function uh(n){Gs=!0,K3(n)&&(Vc="keyboard",U0("keyboard",n))}function ar(n){Vc="pointer",(n.type==="mousedown"||n.type==="pointerdown")&&(Gs=!0,U0("pointer",n))}function JS(n){q3(n)&&(Gs=!0,Vc="virtual")}function eA(n){n.target===window||n.target===document||G3||!n.isTrusted||(!Gs&&!my&&(Vc="virtual",U0("virtual",n)),Gs=!1,my=!1)}function tA(){Gs=!1,my=!0}function gy(n){if(typeof window>"u"||lc.get(Ds(n)))return;const e=Ds(n),t=Ga(n);let i=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Gs=!0,i.apply(this,arguments)},t.addEventListener("keydown",uh,!0),t.addEventListener("keyup",uh,!0),t.addEventListener("click",JS,!0),e.addEventListener("focus",eA,!0),e.addEventListener("blur",tA,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",ar,!0),t.addEventListener("pointermove",ar,!0),t.addEventListener("pointerup",ar,!0)):(t.addEventListener("mousedown",ar,!0),t.addEventListener("mousemove",ar,!0),t.addEventListener("mouseup",ar,!0)),e.addEventListener("beforeunload",()=>{nA(n)},{once:!0}),lc.set(e,{focus:i})}const nA=(n,e)=>{const t=Ds(n),i=Ga(n);e&&i.removeEventListener("DOMContentLoaded",e),lc.has(t)&&(t.HTMLElement.prototype.focus=lc.get(t).focus,i.removeEventListener("keydown",uh,!0),i.removeEventListener("keyup",uh,!0),i.removeEventListener("click",JS,!0),t.removeEventListener("focus",eA,!0),t.removeEventListener("blur",tA,!1),typeof PointerEvent<"u"?(i.removeEventListener("pointerdown",ar,!0),i.removeEventListener("pointermove",ar,!0),i.removeEventListener("pointerup",ar,!0)):(i.removeEventListener("mousedown",ar,!0),i.removeEventListener("mousemove",ar,!0),i.removeEventListener("mouseup",ar,!0)),lc.delete(t))};function Q3(n){const e=Ga(n);let t;return e.readyState!=="loading"?gy(n):(t=()=>{gy(n)},e.addEventListener("DOMContentLoaded",t)),()=>nA(n,t)}typeof document<"u"&&Q3();function rA(){return Vc!=="pointer"}const W3=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function X3(n,e,t){let i=Ga(t==null?void 0:t.target);const s=typeof window<"u"?Ds(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?Ds(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?Ds(t==null?void 0:t.target).HTMLElement:HTMLElement,f=typeof window<"u"?Ds(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return n=n||i.activeElement instanceof s&&!W3.has(i.activeElement.type)||i.activeElement instanceof l||i.activeElement instanceof c&&i.activeElement.isContentEditable,!(n&&e==="keyboard"&&t instanceof f&&!Y3[t.key])}function Z3(n,e,t){gy(),b.useEffect(()=>{let i=(s,l)=>{X3(!!(t!=null&&t.isTextInput),s,l)&&n(rA())};return hy.add(i),()=>{hy.delete(i)}},e)}function J3(n){let{isDisabled:e,onFocus:t,onBlur:i,onFocusChange:s}=n;const l=b.useCallback(h=>{if(h.target===h.currentTarget)return i&&i(h),s&&s(!1),!0},[i,s]),c=ZS(l),f=b.useCallback(h=>{const g=Ga(h.target),y=g?fy(g):fy();h.target===h.currentTarget&&y===KS(h.nativeEvent)&&(t&&t(h),s&&s(!0),c(h))},[s,t,c]);return{focusProps:{onFocus:!e&&(t||s||i)?f:void 0,onBlur:!e&&(i||s)?l:void 0}}}function ej(n){let{isDisabled:e,onBlurWithin:t,onFocusWithin:i,onFocusWithinChange:s}=n,l=b.useRef({isFocusWithin:!1}),{addGlobalListener:c,removeAllGlobalListeners:f}=WS(),h=b.useCallback(E=>{E.currentTarget.contains(E.target)&&l.current.isFocusWithin&&!E.currentTarget.contains(E.relatedTarget)&&(l.current.isFocusWithin=!1,f(),t&&t(E),s&&s(!1))},[t,s,l,f]),g=ZS(h),y=b.useCallback(E=>{if(!E.currentTarget.contains(E.target))return;const w=Ga(E.target),T=fy(w);if(!l.current.isFocusWithin&&T===KS(E.nativeEvent)){i&&i(E),s&&s(!0),l.current.isFocusWithin=!0,g(E);let A=E.currentTarget;c(w,"focus",k=>{if(l.current.isFocusWithin&&!YS(A,k.target)){let D=new XS("blur",new w.defaultView.FocusEvent("blur",{relatedTarget:k.target}));D.target=A,D.currentTarget=A,h(D)}},{capture:!0})}},[i,s,g,c,h]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:y,onBlur:h}}}let ch=!1,xp=0;function py(){ch=!0,setTimeout(()=>{ch=!1},50)}function vx(n){n.pointerType==="touch"&&py()}function tj(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",vx):document.addEventListener("touchend",py),xp++,()=>{xp--,!(xp>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",vx):document.removeEventListener("touchend",py))}}function nj(n){let{onHoverStart:e,onHoverChange:t,onHoverEnd:i,isDisabled:s}=n,[l,c]=b.useState(!1),f=b.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;b.useEffect(tj,[]);let{addGlobalListener:h,removeAllGlobalListeners:g}=WS(),{hoverProps:y,triggerHoverEnd:E}=b.useMemo(()=>{let w=(k,D)=>{if(f.pointerType=D,s||D==="touch"||f.isHovered||!k.currentTarget.contains(k.target))return;f.isHovered=!0;let j=k.currentTarget;f.target=j,h(Ga(k.target),"pointerover",H=>{f.isHovered&&f.target&&!YS(f.target,H.target)&&T(H,H.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:j,pointerType:D}),t&&t(!0),c(!0)},T=(k,D)=>{let j=f.target;f.pointerType="",f.target=null,!(D==="touch"||!f.isHovered||!j)&&(f.isHovered=!1,g(),i&&i({type:"hoverend",target:j,pointerType:D}),t&&t(!1),c(!1))},A={};return typeof PointerEvent<"u"?(A.onPointerEnter=k=>{ch&&k.pointerType==="mouse"||w(k,k.pointerType)},A.onPointerLeave=k=>{!s&&k.currentTarget.contains(k.target)&&T(k,k.pointerType)}):(A.onTouchStart=()=>{f.ignoreEmulatedMouseEvents=!0},A.onMouseEnter=k=>{!f.ignoreEmulatedMouseEvents&&!ch&&w(k,"mouse"),f.ignoreEmulatedMouseEvents=!1},A.onMouseLeave=k=>{!s&&k.currentTarget.contains(k.target)&&T(k,"mouse")}),{hoverProps:A,triggerHoverEnd:T}},[e,t,i,s,f,h,g]);return b.useEffect(()=>{s&&E({currentTarget:f.target},f.pointerType)},[s]),{hoverProps:y,isHovered:l}}function rj(n={}){let{autoFocus:e=!1,isTextInput:t,within:i}=n,s=b.useRef({isFocused:!1,isFocusVisible:e||rA()}),[l,c]=b.useState(!1),[f,h]=b.useState(()=>s.current.isFocused&&s.current.isFocusVisible),g=b.useCallback(()=>h(s.current.isFocused&&s.current.isFocusVisible),[]),y=b.useCallback(T=>{s.current.isFocused=T,c(T),g()},[g]);Z3(T=>{s.current.isFocusVisible=T,g()},[],{isTextInput:t});let{focusProps:E}=J3({isDisabled:i,onFocusChange:y}),{focusWithinProps:w}=ej({isDisabled:!i,onFocusWithinChange:y});return{isFocused:l,isFocusVisible:f,focusProps:i?w:E}}var ij=Object.defineProperty,aj=(n,e,t)=>e in n?ij(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Tp=(n,e,t)=>(aj(n,typeof e!="symbol"?e+"":e,t),t);let sj=class{constructor(){Tp(this,"current",this.detect()),Tp(this,"handoffState","pending"),Tp(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ps=new sj;function Cl(n){var e,t;return Ps.isServer?null:n?"ownerDocument"in n?n.ownerDocument:"current"in n?(t=(e=n.current)==null?void 0:e.ownerDocument)!=null?t:document:null:document}function iA(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function Jr(){let n=[],e={addEventListener(t,i,s,l){return t.addEventListener(i,s,l),e.add(()=>t.removeEventListener(i,s,l))},requestAnimationFrame(...t){let i=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let i=setTimeout(...t);return e.add(()=>clearTimeout(i))},microTask(...t){let i={current:!0};return iA(()=>{i.current&&t[0]()}),e.add(()=>{i.current=!1})},style(t,i,s){let l=t.style.getPropertyValue(i);return Object.assign(t.style,{[i]:s}),this.add(()=>{Object.assign(t.style,{[i]:l})})},group(t){let i=Jr();return t(i),this.add(()=>i.dispose())},add(t){return n.includes(t)||n.push(t),()=>{let i=n.indexOf(t);if(i>=0)for(let s of n.splice(i,1))s()}},dispose(){for(let t of n.splice(0))t()}};return e}function Uc(){let[n]=b.useState(Jr);return b.useEffect(()=>()=>n.dispose(),[n]),n}let ht=(n,e)=>{Ps.isServer?b.useEffect(n,e):b.useLayoutEffect(n,e)};function Nl(n){let e=b.useRef(n);return ht(()=>{e.current=n},[n]),e}let We=function(n){let e=Nl(n);return dt.useCallback((...t)=>e.current(...t),[e])};function oj(n){let e=n.width/2,t=n.height/2;return{top:n.clientY-t,right:n.clientX+e,bottom:n.clientY+t,left:n.clientX-e}}function lj(n,e){return!(!n||!e||n.right<e.left||n.left>e.right||n.bottom<e.top||n.top>e.bottom)}function uj({disabled:n=!1}={}){let e=b.useRef(null),[t,i]=b.useState(!1),s=Uc(),l=We(()=>{e.current=null,i(!1),s.dispose()}),c=We(f=>{if(s.dispose(),e.current===null){e.current=f.currentTarget,i(!0);{let h=Cl(f.currentTarget);s.addEventListener(h,"pointerup",l,!1),s.addEventListener(h,"pointermove",g=>{if(e.current){let y=oj(g);i(lj(y,e.current.getBoundingClientRect()))}},!1),s.addEventListener(h,"pointercancel",l,!1)}}});return{pressed:t,pressProps:n?{}:{onPointerDown:c,onPointerUp:l,onClick:l}}}let cj=b.createContext(void 0);function aA(){return b.useContext(cj)}function yy(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function to(n,e,...t){if(n in e){let s=e[n];return typeof s=="function"?s(...t):s}let i=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,to),i}var dh=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(dh||{}),Ta=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(Ta||{});function kn(){let n=fj();return b.useCallback(e=>dj({mergeRefs:n,...e}),[n])}function dj({ourProps:n,theirProps:e,slot:t,defaultTag:i,features:s,visible:l=!0,name:c,mergeRefs:f}){f=f??hj;let h=sA(e,n);if(l)return Ef(h,t,i,c,f);let g=s??0;if(g&2){let{static:y=!1,...E}=h;if(y)return Ef(E,t,i,c,f)}if(g&1){let{unmount:y=!0,...E}=h;return to(y?0:1,{0(){return null},1(){return Ef({...E,hidden:!0,style:{display:"none"}},t,i,c,f)}})}return Ef(h,t,i,c,f)}function Ef(n,e={},t,i,s){let{as:l=t,children:c,refName:f="ref",...h}=Sp(n,["unmount","static"]),g=n.ref!==void 0?{[f]:n.ref}:{},y=typeof c=="function"?c(e):c;"className"in h&&h.className&&typeof h.className=="function"&&(h.className=h.className(e)),h["aria-labelledby"]&&h["aria-labelledby"]===h.id&&(h["aria-labelledby"]=void 0);let E={};if(e){let w=!1,T=[];for(let[A,k]of Object.entries(e))typeof k=="boolean"&&(w=!0),k===!0&&T.push(A.replace(/([A-Z])/g,D=>`-${D.toLowerCase()}`));if(w){E["data-headlessui-state"]=T.join(" ");for(let A of T)E[`data-${A}`]=""}}if(l===b.Fragment&&(Object.keys(Ns(h)).length>0||Object.keys(Ns(E)).length>0))if(!b.isValidElement(y)||Array.isArray(y)&&y.length>1){if(Object.keys(Ns(h)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ns(h)).concat(Object.keys(Ns(E))).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`))}else{let w=y.props,T=w==null?void 0:w.className,A=typeof T=="function"?(...j)=>yy(T(...j),h.className):yy(T,h.className),k=A?{className:A}:{},D=sA(y.props,Ns(Sp(h,["ref"])));for(let j in E)j in D&&delete E[j];return b.cloneElement(y,Object.assign({},D,E,g,{ref:s(mj(y),g.ref)},k))}return b.createElement(l,Object.assign({},Sp(h,["ref"]),l!==b.Fragment&&g,l!==b.Fragment&&E),y)}function fj(){let n=b.useRef([]),e=b.useCallback(t=>{for(let i of n.current)i!=null&&(typeof i=="function"?i(t):i.current=t)},[]);return(...t)=>{if(!t.every(i=>i==null))return n.current=t,e}}function hj(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function sA(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let s in i)s.startsWith("on")&&typeof i[s]=="function"?(t[s]!=null||(t[s]=[]),t[s].push(i[s])):e[s]=i[s];if(e.disabled||e["aria-disabled"])for(let i in t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(t[i]=[s=>{var l;return(l=s==null?void 0:s.preventDefault)==null?void 0:l.call(s)}]);for(let i in t)Object.assign(e,{[i](s,...l){let c=t[i];for(let f of c){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;f(s,...l)}}});return e}function oA(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let s in i)s.startsWith("on")&&typeof i[s]=="function"?(t[s]!=null||(t[s]=[]),t[s].push(i[s])):e[s]=i[s];for(let i in t)Object.assign(e,{[i](...s){let l=t[i];for(let c of l)c==null||c(...s)}});return e}function Tn(n){var e;return Object.assign(b.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function Ns(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function Sp(n,e=[]){let t=Object.assign({},n);for(let i of e)i in t&&delete t[i];return t}function mj(n){return dt.version.split(".")[0]>="19"?n.props.ref:n.ref}let gj=b.createContext(void 0);function pj(){return b.useContext(gj)}function yj(n){let e=n.parentElement,t=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(t=e),e=e.parentElement;let i=(e==null?void 0:e.getAttribute("disabled"))==="";return i&&vj(t)?!1:i}function vj(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let lA=Symbol();function _j(n,e=!0){return Object.assign(n,{[lA]:e})}function xr(...n){let e=b.useRef(n);b.useEffect(()=>{e.current=n},[n]);let t=We(i=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(i):s.current=i)});return n.every(i=>i==null||(i==null?void 0:i[lA]))?void 0:t}let F0=b.createContext(null);F0.displayName="DescriptionContext";function uA(){let n=b.useContext(F0);if(n===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,uA),e}return n}function bj(){let[n,e]=b.useState([]);return[n.length>0?n.join(" "):void 0,b.useMemo(()=>function(t){let i=We(l=>(e(c=>[...c,l]),()=>e(c=>{let f=c.slice(),h=f.indexOf(l);return h!==-1&&f.splice(h,1),f}))),s=b.useMemo(()=>({register:i,slot:t.slot,name:t.name,props:t.props,value:t.value}),[i,t.slot,t.name,t.props,t.value]);return dt.createElement(F0.Provider,{value:s},t.children)},[e])]}let wj="p";function Ej(n,e){let t=b.useId(),i=aA(),{id:s=`headlessui-description-${t}`,...l}=n,c=uA(),f=xr(e);ht(()=>c.register(s),[s,c.register]);let h=i||!1,g=b.useMemo(()=>({...c.slot,disabled:h}),[c.slot,h]),y={ref:f,...c.props,id:s};return kn()({ourProps:y,theirProps:l,slot:g,defaultTag:wj,name:c.name||"Description"})}let xj=Tn(Ej);Object.assign(xj,{});var nn=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(nn||{});let qh=b.createContext(null);qh.displayName="LabelContext";function $0(){let n=b.useContext(qh);if(n===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,$0),e}return n}function Tj(n){var e,t,i;let s=(t=(e=b.useContext(qh))==null?void 0:e.value)!=null?t:void 0;return((i=void 0)!=null?i:0)>0?[s,...n].filter(Boolean).join(" "):s}function cA({inherit:n=!1}={}){let e=Tj(),[t,i]=b.useState([]),s=n?[e,...t].filter(Boolean):t;return[s.length>0?s.join(" "):void 0,b.useMemo(()=>function(l){let c=We(h=>(i(g=>[...g,h]),()=>i(g=>{let y=g.slice(),E=y.indexOf(h);return E!==-1&&y.splice(E,1),y}))),f=b.useMemo(()=>({register:c,slot:l.slot,name:l.name,props:l.props,value:l.value}),[c,l.slot,l.name,l.props,l.value]);return dt.createElement(qh.Provider,{value:f},l.children)},[i])]}let Sj="label";function Aj(n,e){var t;let i=b.useId(),s=$0(),l=pj(),c=aA(),{id:f=`headlessui-label-${i}`,htmlFor:h=l??((t=s.props)==null?void 0:t.htmlFor),passive:g=!1,...y}=n,E=xr(e);ht(()=>s.register(f),[f,s.register]);let w=We(D=>{let j=D.currentTarget;if(j instanceof HTMLLabelElement&&D.preventDefault(),s.props&&"onClick"in s.props&&typeof s.props.onClick=="function"&&s.props.onClick(D),j instanceof HTMLLabelElement){let H=document.getElementById(j.htmlFor);if(H){let $=H.getAttribute("disabled");if($==="true"||$==="")return;let Z=H.getAttribute("aria-disabled");if(Z==="true"||Z==="")return;(H instanceof HTMLInputElement&&(H.type==="radio"||H.type==="checkbox")||H.role==="radio"||H.role==="checkbox"||H.role==="switch")&&H.click(),H.focus({preventScroll:!0})}}}),T=c||!1,A=b.useMemo(()=>({...s.slot,disabled:T}),[s.slot,T]),k={ref:E,...s.props,id:f,htmlFor:h,onClick:w};return g&&("onClick"in k&&(delete k.htmlFor,delete k.onClick),"onClick"in y&&delete y.onClick),kn()({ourProps:k,theirProps:y,slot:A,defaultTag:h?Sj:"div",name:s.name||"Label"})}let Rj=Tn(Aj);Object.assign(Rj,{});function Cj(n){if(n===null)return{width:0,height:0};let{width:e,height:t}=n.getBoundingClientRect();return{width:e,height:t}}function Nj(n,e=!1){let[t,i]=b.useReducer(()=>({}),{}),s=b.useMemo(()=>Cj(n),[n,t]);return ht(()=>{if(!n)return;let l=new ResizeObserver(i);return l.observe(n),()=>{l.disconnect()}},[n]),e?{width:`${s.width}px`,height:`${s.height}px`}:s}let Ij=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return t===void 0&&(t=this.factory(e),this.set(e,t)),t}};function dA(n,e){let t=n(),i=new Set;return{getSnapshot(){return t},subscribe(s){return i.add(s),()=>i.delete(s)},dispatch(s,...l){let c=e[s].call(t,...l);c&&(t=c,i.forEach(f=>f()))}}}function fA(n){return b.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getSnapshot)}let kj=new Ij(()=>dA(()=>[],{ADD(n){return this.includes(n)?this:[...this,n]},REMOVE(n){let e=this.indexOf(n);if(e===-1)return this;let t=this.slice();return t.splice(e,1),t}}));function z0(n,e){let t=kj.get(e),i=b.useId(),s=fA(t);if(ht(()=>{if(n)return t.dispatch("ADD",i),()=>t.dispatch("REMOVE",i)},[t,n]),!n)return!1;let l=s.indexOf(i),c=s.length;return l===-1&&(l=c,c+=1),l===c-1}let vy=new Map,uc=new Map;function _x(n){var e;let t=(e=uc.get(n))!=null?e:0;return uc.set(n,t+1),t!==0?()=>bx(n):(vy.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0,()=>bx(n))}function bx(n){var e;let t=(e=uc.get(n))!=null?e:1;if(t===1?uc.delete(n):uc.set(n,t-1),t!==1)return;let i=vy.get(n);i&&(i["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",i["aria-hidden"]),n.inert=i.inert,vy.delete(n))}function Dj(n,{allowed:e,disallowed:t}={}){let i=z0(n,"inert-others");ht(()=>{var s,l;if(!i)return;let c=Jr();for(let h of(s=t==null?void 0:t())!=null?s:[])h&&c.add(_x(h));let f=(l=e==null?void 0:e())!=null?l:[];for(let h of f){if(!h)continue;let g=Cl(h);if(!g)continue;let y=h.parentElement;for(;y&&y!==g.body;){for(let E of y.children)f.some(w=>E.contains(w))||c.add(_x(E));y=y.parentElement}}return c.dispose},[i,e,t])}function Oj(n,e,t){let i=Nl(s=>{let l=s.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&t()});b.useEffect(()=>{if(!n)return;let s=e===null?null:e instanceof HTMLElement?e:e.current;if(!s)return;let l=Jr();if(typeof ResizeObserver<"u"){let c=new ResizeObserver(()=>i.current(s));c.observe(s),l.add(()=>c.disconnect())}if(typeof IntersectionObserver<"u"){let c=new IntersectionObserver(()=>i.current(s));c.observe(s),l.add(()=>c.disconnect())}return()=>l.dispose()},[e,i,n])}let _y=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(","),Mj=["[data-autofocus]"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var by=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n[n.AutoFocus=64]="AutoFocus",n))(by||{}),Pj=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))(Pj||{}),jj=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(jj||{});function hA(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(_y)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function Lj(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(Mj)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var B0=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(B0||{});function H0(n,e=0){var t;return n===((t=Cl(n))==null?void 0:t.body)?!1:to(e,{0(){return n.matches(_y)},1(){let i=n;for(;i!==null;){if(i.matches(_y))return!0;i=i.parentElement}return!1}})}function mA(n){let e=Cl(n);Jr().nextFrame(()=>{e&&!H0(e.activeElement,0)&&Uj(n)})}var Vj=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(Vj||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Uj(n){n==null||n.focus({preventScroll:!0})}let Fj=["textarea","input"].join(",");function $j(n){var e,t;return(t=(e=n==null?void 0:n.matches)==null?void 0:e.call(n,Fj))!=null?t:!1}function gA(n,e=t=>t){return n.slice().sort((t,i)=>{let s=e(t),l=e(i);if(s===null||l===null)return 0;let c=s.compareDocumentPosition(l);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function zj(n,e){return Bj(hA(),e,{relativeTo:n})}function Bj(n,e,{sorted:t=!0,relativeTo:i=null,skipElements:s=[]}={}){let l=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,c=Array.isArray(n)?t?gA(n):n:e&64?Lj(n):hA(n);s.length>0&&c.length>1&&(c=c.filter(T=>!s.some(A=>A!=null&&"current"in A?(A==null?void 0:A.current)===T:A===T))),i=i??l.activeElement;let f=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(i))-1;if(e&4)return Math.max(0,c.indexOf(i))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),g=e&32?{preventScroll:!0}:{},y=0,E=c.length,w;do{if(y>=E||y+E<=0)return 0;let T=h+y;if(e&16)T=(T+E)%E;else{if(T<0)return 3;if(T>=E)return 1}w=c[T],w==null||w.focus(g),y+=f}while(w!==l.activeElement);return e&6&&$j(w)&&w.select(),2}function pA(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Hj(){return/Android/gi.test(window.navigator.userAgent)}function qj(){return pA()||Hj()}function Ku(n,e,t,i){let s=Nl(t);b.useEffect(()=>{if(!n)return;function l(c){s.current(c)}return document.addEventListener(e,l,i),()=>document.removeEventListener(e,l,i)},[n,e,i])}function Gj(n,e,t,i){let s=Nl(t);b.useEffect(()=>{if(!n)return;function l(c){s.current(c)}return window.addEventListener(e,l,i),()=>window.removeEventListener(e,l,i)},[n,e,i])}const wx=30;function Yj(n,e,t){let i=z0(n,"outside-click"),s=Nl(t),l=b.useCallback(function(h,g){if(h.defaultPrevented)return;let y=g(h);if(y===null||!y.getRootNode().contains(y)||!y.isConnected)return;let E=function w(T){return typeof T=="function"?w(T()):Array.isArray(T)||T instanceof Set?T:[T]}(e);for(let w of E)if(w!==null&&(w.contains(y)||h.composed&&h.composedPath().includes(w)))return;return!H0(y,B0.Loose)&&y.tabIndex!==-1&&h.preventDefault(),s.current(h,y)},[s,e]),c=b.useRef(null);Ku(i,"pointerdown",h=>{var g,y;c.current=((y=(g=h.composedPath)==null?void 0:g.call(h))==null?void 0:y[0])||h.target},!0),Ku(i,"mousedown",h=>{var g,y;c.current=((y=(g=h.composedPath)==null?void 0:g.call(h))==null?void 0:y[0])||h.target},!0),Ku(i,"click",h=>{qj()||c.current&&(l(h,()=>c.current),c.current=null)},!0);let f=b.useRef({x:0,y:0});Ku(i,"touchstart",h=>{f.current.x=h.touches[0].clientX,f.current.y=h.touches[0].clientY},!0),Ku(i,"touchend",h=>{let g={x:h.changedTouches[0].clientX,y:h.changedTouches[0].clientY};if(!(Math.abs(g.x-f.current.x)>=wx||Math.abs(g.y-f.current.y)>=wx))return l(h,()=>h.target instanceof HTMLElement?h.target:null)},!0),Gj(i,"blur",h=>l(h,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function wy(...n){return b.useMemo(()=>Cl(...n),[...n])}function Kj(n,e){return b.useMemo(()=>{var t;if(n.type)return n.type;let i=(t=n.as)!=null?t:"button";if(typeof i=="string"&&i.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[n.type,n.as,e])}function Qj(){let n;return{before({doc:e}){var t;let i=e.documentElement,s=(t=e.defaultView)!=null?t:window;n=Math.max(0,s.innerWidth-i.clientWidth)},after({doc:e,d:t}){let i=e.documentElement,s=Math.max(0,i.clientWidth-i.offsetWidth),l=Math.max(0,n-s);t.style(i,"paddingRight",`${l}px`)}}}function Wj(){return pA()?{before({doc:n,d:e,meta:t}){function i(s){return t.containers.flatMap(l=>l()).some(l=>l.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(n.documentElement).scrollBehavior!=="auto"){let f=Jr();f.style(n.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>f.dispose()))}let l=(s=window.scrollY)!=null?s:window.pageYOffset,c=null;e.addEventListener(n,"click",f=>{if(f.target instanceof HTMLElement)try{let h=f.target.closest("a");if(!h)return;let{hash:g}=new URL(h.href),y=n.querySelector(g);y&&!i(y)&&(c=y)}catch{}},!0),e.addEventListener(n,"touchstart",f=>{if(f.target instanceof HTMLElement)if(i(f.target)){let h=f.target;for(;h.parentElement&&i(h.parentElement);)h=h.parentElement;e.style(h,"overscrollBehavior","contain")}else e.style(f.target,"touchAction","none")}),e.addEventListener(n,"touchmove",f=>{if(f.target instanceof HTMLElement){if(f.target.tagName==="INPUT")return;if(i(f.target)){let h=f.target;for(;h.parentElement&&h.dataset.headlessuiPortal!==""&&!(h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth);)h=h.parentElement;h.dataset.headlessuiPortal===""&&f.preventDefault()}else f.preventDefault()}},{passive:!1}),e.add(()=>{var f;let h=(f=window.scrollY)!=null?f:window.pageYOffset;l!==h&&window.scrollTo(0,l),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})})}}:{}}function Xj(){return{before({doc:n,d:e}){e.style(n.documentElement,"overflow","hidden")}}}function Zj(n){let e={};for(let t of n)Object.assign(e,t(e));return e}let Os=dA(()=>new Map,{PUSH(n,e){var t;let i=(t=this.get(n))!=null?t:{doc:n,count:0,d:Jr(),meta:new Set};return i.count++,i.meta.add(e),this.set(n,i),this},POP(n,e){let t=this.get(n);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:n,d:e,meta:t}){let i={doc:n,d:e,meta:Zj(t)},s=[Wj(),Qj(),Xj()];s.forEach(({before:l})=>l==null?void 0:l(i)),s.forEach(({after:l})=>l==null?void 0:l(i))},SCROLL_ALLOW({d:n}){n.dispose()},TEARDOWN({doc:n}){this.delete(n)}});Os.subscribe(()=>{let n=Os.getSnapshot(),e=new Map;for(let[t]of n)e.set(t,t.documentElement.style.overflow);for(let t of n.values()){let i=e.get(t.doc)==="hidden",s=t.count!==0;(s&&!i||!s&&i)&&Os.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&Os.dispatch("TEARDOWN",t)}});function Jj(n,e,t=()=>({containers:[]})){let i=fA(Os),s=e?i.get(e):void 0,l=s?s.count>0:!1;return ht(()=>{if(!(!e||!n))return Os.dispatch("PUSH",e,t),()=>Os.dispatch("POP",e,t)},[n,e]),l}function e6(n,e,t=()=>[document.body]){let i=z0(n,"scroll-lock");Jj(i,e,s=>{var l;return{containers:[...(l=s.containers)!=null?l:[],t]}})}function Ex(n){return[n.screenX,n.screenY]}function t6(){let n=b.useRef([-1,-1]);return{wasMoved(e){let t=Ex(e);return n.current[0]===t[0]&&n.current[1]===t[1]?!1:(n.current=t,!0)},update(e){n.current=Ex(e)}}}function n6(n=0){let[e,t]=b.useState(n),i=b.useCallback(h=>t(h),[e]),s=b.useCallback(h=>t(g=>g|h),[e]),l=b.useCallback(h=>(e&h)===h,[e]),c=b.useCallback(h=>t(g=>g&~h),[t]),f=b.useCallback(h=>t(g=>g^h),[t]);return{flags:e,setFlag:i,addFlag:s,hasFlag:l,removeFlag:c,toggleFlag:f}}var r6={},xx,Tx;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((xx=process==null?void 0:r6)==null?void 0:xx.NODE_ENV)==="test"&&typeof((Tx=Element==null?void 0:Element.prototype)==null?void 0:Tx.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var i6=(n=>(n[n.None=0]="None",n[n.Closed=1]="Closed",n[n.Enter=2]="Enter",n[n.Leave=4]="Leave",n))(i6||{});function yA(n){let e={};for(let t in n)n[t]===!0&&(e[`data-${t}`]="");return e}function vA(n,e,t,i){let[s,l]=b.useState(t),{hasFlag:c,addFlag:f,removeFlag:h}=n6(n&&s?3:0),g=b.useRef(!1),y=b.useRef(!1),E=Uc();return ht(()=>{var w;if(n){if(t&&l(!0),!e){t&&f(3);return}return(w=i==null?void 0:i.start)==null||w.call(i,t),a6(e,{inFlight:g,prepare(){y.current?y.current=!1:y.current=g.current,g.current=!0,!y.current&&(t?(f(3),h(4)):(f(4),h(2)))},run(){y.current?t?(h(3),f(4)):(h(4),f(3)):t?h(1):f(1)},done(){var T;y.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(g.current=!1,h(7),t||l(!1),(T=i==null?void 0:i.end)==null||T.call(i,t))}})}},[n,t,e,E]),n?[s,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function a6(n,{prepare:e,run:t,done:i,inFlight:s}){let l=Jr();return o6(n,{prepare:e,inFlight:s}),l.nextFrame(()=>{t(),l.requestAnimationFrame(()=>{l.add(s6(n,i))})}),l.dispose}function s6(n,e){var t,i;let s=Jr();if(!n)return s.dispose;let l=!1;s.add(()=>{l=!0});let c=(i=(t=n.getAnimations)==null?void 0:t.call(n).filter(f=>f instanceof CSSTransition))!=null?i:[];return c.length===0?(e(),s.dispose):(Promise.allSettled(c.map(f=>f.finished)).then(()=>{l||e()}),s.dispose)}function o6(n,{inFlight:e,prepare:t}){if(e!=null&&e.current){t();return}let i=n.style.transition;n.style.transition="none",t(),n.offsetHeight,n.style.transition=i}function l6(n,{container:e,accept:t,walk:i}){let s=b.useRef(t),l=b.useRef(i);b.useEffect(()=>{s.current=t,l.current=i},[t,i]),ht(()=>{if(!e||!n)return;let c=Cl(e);if(!c)return;let f=s.current,h=l.current,g=Object.assign(E=>f(E),{acceptNode:f}),y=c.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,g,!1);for(;y.nextNode();)h(y.currentNode)},[e,n,s,l])}function Gh(){return typeof window<"u"}function Il(n){return _A(n)?(n.nodeName||"").toLowerCase():"#document"}function Hn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ei(n){var e;return(e=(_A(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function _A(n){return Gh()?n instanceof Node||n instanceof Hn(n).Node:!1}function wn(n){return Gh()?n instanceof Element||n instanceof Hn(n).Element:!1}function Wr(n){return Gh()?n instanceof HTMLElement||n instanceof Hn(n).HTMLElement:!1}function Sx(n){return!Gh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Hn(n).ShadowRoot}function Fc(n){const{overflow:e,overflowX:t,overflowY:i,display:s}=wr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(s)}function u6(n){return["table","td","th"].includes(Il(n))}function Yh(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function q0(n){const e=G0(),t=wn(n)?wr(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function c6(n){let e=Va(n);for(;Wr(e)&&!vl(e);){if(q0(e))return e;if(Yh(e))return null;e=Va(e)}return null}function G0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vl(n){return["html","body","#document"].includes(Il(n))}function wr(n){return Hn(n).getComputedStyle(n)}function Kh(n){return wn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Va(n){if(Il(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Sx(n)&&n.host||ei(n);return Sx(e)?e.host:e}function bA(n){const e=Va(n);return vl(e)?n.ownerDocument?n.ownerDocument.body:n.body:Wr(e)&&Fc(e)?e:bA(e)}function bc(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=bA(n),l=s===((i=n.ownerDocument)==null?void 0:i.body),c=Hn(s);if(l){const f=Ey(c);return e.concat(c,c.visualViewport||[],Fc(s)?s:[],f&&t?bc(f):[])}return e.concat(s,bc(s,[],t))}function Ey(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function d6(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:i}=e;return t+"/"+i}).join(" "):navigator.userAgent}const Ys=Math.min,hn=Math.max,wc=Math.round,xf=Math.floor,Kr=n=>({x:n,y:n}),f6={left:"right",right:"left",bottom:"top",top:"bottom"},h6={start:"end",end:"start"};function Ax(n,e,t){return hn(n,Ys(e,t))}function kl(n,e){return typeof n=="function"?n(e):n}function Ua(n){return n.split("-")[0]}function $c(n){return n.split("-")[1]}function wA(n){return n==="x"?"y":"x"}function EA(n){return n==="y"?"height":"width"}function Ks(n){return["top","bottom"].includes(Ua(n))?"y":"x"}function xA(n){return wA(Ks(n))}function m6(n,e,t){t===void 0&&(t=!1);const i=$c(n),s=xA(n),l=EA(s);let c=s==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=fh(c)),[c,fh(c)]}function g6(n){const e=fh(n);return[xy(n),e,xy(e)]}function xy(n){return n.replace(/start|end/g,e=>h6[e])}function p6(n,e,t){const i=["left","right"],s=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:i:e?i:s;case"left":case"right":return e?l:c;default:return[]}}function y6(n,e,t,i){const s=$c(n);let l=p6(Ua(n),t==="start",i);return s&&(l=l.map(c=>c+"-"+s),e&&(l=l.concat(l.map(xy)))),l}function fh(n){return n.replace(/left|right|bottom|top/g,e=>f6[e])}function v6(n){return{top:0,right:0,bottom:0,left:0,...n}}function _6(n){return typeof n!="number"?v6(n):{top:n,right:n,bottom:n,left:n}}function hh(n){const{x:e,y:t,width:i,height:s}=n;return{width:i,height:s,top:t,left:e,right:e+i,bottom:t+s,x:e,y:t}}function Rx(n,e,t){let{reference:i,floating:s}=n;const l=Ks(e),c=xA(e),f=EA(c),h=Ua(e),g=l==="y",y=i.x+i.width/2-s.width/2,E=i.y+i.height/2-s.height/2,w=i[f]/2-s[f]/2;let T;switch(h){case"top":T={x:y,y:i.y-s.height};break;case"bottom":T={x:y,y:i.y+i.height};break;case"right":T={x:i.x+i.width,y:E};break;case"left":T={x:i.x-s.width,y:E};break;default:T={x:i.x,y:i.y}}switch($c(e)){case"start":T[c]-=w*(t&&g?-1:1);break;case"end":T[c]+=w*(t&&g?-1:1);break}return T}const b6=async(n,e,t)=>{const{placement:i="bottom",strategy:s="absolute",middleware:l=[],platform:c}=t,f=l.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let g=await c.getElementRects({reference:n,floating:e,strategy:s}),{x:y,y:E}=Rx(g,i,h),w=i,T={},A=0;for(let k=0;k<f.length;k++){const{name:D,fn:j}=f[k],{x:H,y:$,data:Z,reset:ee}=await j({x:y,y:E,initialPlacement:i,placement:w,strategy:s,middlewareData:T,rects:g,platform:c,elements:{reference:n,floating:e}});y=H??y,E=$??E,T={...T,[D]:{...T[D],...Z}},ee&&A<=50&&(A++,typeof ee=="object"&&(ee.placement&&(w=ee.placement),ee.rects&&(g=ee.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:s}):ee.rects),{x:y,y:E}=Rx(g,w,h)),k=-1)}return{x:y,y:E,placement:w,strategy:s,middlewareData:T}};async function Qh(n,e){var t;e===void 0&&(e={});const{x:i,y:s,platform:l,rects:c,elements:f,strategy:h}=n,{boundary:g="clippingAncestors",rootBoundary:y="viewport",elementContext:E="floating",altBoundary:w=!1,padding:T=0}=kl(e,n),A=_6(T),D=f[w?E==="floating"?"reference":"floating":E],j=hh(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(D)))==null||t?D:D.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:g,rootBoundary:y,strategy:h})),H=E==="floating"?{x:i,y:s,width:c.floating.width,height:c.floating.height}:c.reference,$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),Z=await(l.isElement==null?void 0:l.isElement($))?await(l.getScale==null?void 0:l.getScale($))||{x:1,y:1}:{x:1,y:1},ee=hh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:H,offsetParent:$,strategy:h}):H);return{top:(j.top-ee.top+A.top)/Z.y,bottom:(ee.bottom-j.bottom+A.bottom)/Z.y,left:(j.left-ee.left+A.left)/Z.x,right:(ee.right-j.right+A.right)/Z.x}}const w6=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:s,middlewareData:l,rects:c,initialPlacement:f,platform:h,elements:g}=e,{mainAxis:y=!0,crossAxis:E=!0,fallbackPlacements:w,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:k=!0,...D}=kl(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const j=Ua(s),H=Ks(f),$=Ua(f)===f,Z=await(h.isRTL==null?void 0:h.isRTL(g.floating)),ee=w||($||!k?[fh(f)]:g6(f)),ie=A!=="none";!w&&ie&&ee.push(...y6(f,k,A,Z));const O=[f,...ee],N=await Qh(e,D),I=[];let P=((i=l.flip)==null?void 0:i.overflows)||[];if(y&&I.push(N[j]),E){const Ee=m6(s,c,Z);I.push(N[Ee[0]],N[Ee[1]])}if(P=[...P,{placement:s,overflows:I}],!I.every(Ee=>Ee<=0)){var U,L;const Ee=(((U=l.flip)==null?void 0:U.index)||0)+1,De=O[Ee];if(De)return{data:{index:Ee,overflows:P},reset:{placement:De}};let K=(L=P.filter(le=>le.overflows[0]<=0).sort((le,fe)=>le.overflows[1]-fe.overflows[1])[0])==null?void 0:L.placement;if(!K)switch(T){case"bestFit":{var M;const le=(M=P.filter(fe=>{if(ie){const ue=Ks(fe.placement);return ue===H||ue==="y"}return!0}).map(fe=>[fe.placement,fe.overflows.filter(ue=>ue>0).reduce((ue,V)=>ue+V,0)]).sort((fe,ue)=>fe[1]-ue[1])[0])==null?void 0:M[0];le&&(K=le);break}case"initialPlacement":K=f;break}if(s!==K)return{reset:{placement:K}}}return{}}}};async function E6(n,e){const{placement:t,platform:i,elements:s}=n,l=await(i.isRTL==null?void 0:i.isRTL(s.floating)),c=Ua(t),f=$c(t),h=Ks(t)==="y",g=["left","top"].includes(c)?-1:1,y=l&&h?-1:1,E=kl(e,n);let{mainAxis:w,crossAxis:T,alignmentAxis:A}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return f&&typeof A=="number"&&(T=f==="end"?A*-1:A),h?{x:T*y,y:w*g}:{x:w*g,y:T*y}}const x6=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:s,y:l,placement:c,middlewareData:f}=e,h=await E6(e,n);return c===((t=f.offset)==null?void 0:t.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:s+h.x,y:l+h.y,data:{...h,placement:c}}}}},T6=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:s}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:D=>{let{x:j,y:H}=D;return{x:j,y:H}}},...h}=kl(n,e),g={x:t,y:i},y=await Qh(e,h),E=Ks(Ua(s)),w=wA(E);let T=g[w],A=g[E];if(l){const D=w==="y"?"top":"left",j=w==="y"?"bottom":"right",H=T+y[D],$=T-y[j];T=Ax(H,T,$)}if(c){const D=E==="y"?"top":"left",j=E==="y"?"bottom":"right",H=A+y[D],$=A-y[j];A=Ax(H,A,$)}const k=f.fn({...e,[w]:T,[E]:A});return{...k,data:{x:k.x-t,y:k.y-i,enabled:{[w]:l,[E]:c}}}}}},S6=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:s,rects:l,platform:c,elements:f}=e,{apply:h=()=>{},...g}=kl(n,e),y=await Qh(e,g),E=Ua(s),w=$c(s),T=Ks(s)==="y",{width:A,height:k}=l.floating;let D,j;E==="top"||E==="bottom"?(D=E,j=w===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(j=E,D=w==="end"?"top":"bottom");const H=k-y.top-y.bottom,$=A-y.left-y.right,Z=Ys(k-y[D],H),ee=Ys(A-y[j],$),ie=!e.middlewareData.shift;let O=Z,N=ee;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(N=$),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(O=H),ie&&!w){const P=hn(y.left,0),U=hn(y.right,0),L=hn(y.top,0),M=hn(y.bottom,0);T?N=A-2*(P!==0||U!==0?P+U:hn(y.left,y.right)):O=k-2*(L!==0||M!==0?L+M:hn(y.top,y.bottom))}await h({...e,availableWidth:N,availableHeight:O});const I=await c.getDimensions(f.floating);return A!==I.width||k!==I.height?{reset:{rects:!0}}:{}}}};function TA(n){const e=wr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=Wr(n),l=s?n.offsetWidth:t,c=s?n.offsetHeight:i,f=wc(t)!==l||wc(i)!==c;return f&&(t=l,i=c),{width:t,height:i,$:f}}function Y0(n){return wn(n)?n:n.contextElement}function ll(n){const e=Y0(n);if(!Wr(e))return Kr(1);const t=e.getBoundingClientRect(),{width:i,height:s,$:l}=TA(e);let c=(l?wc(t.width):t.width)/i,f=(l?wc(t.height):t.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const A6=Kr(0);function SA(n){const e=Hn(n);return!G0()||!e.visualViewport?A6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function R6(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Hn(n)?!1:e}function Qs(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),l=Y0(n);let c=Kr(1);e&&(i?wn(i)&&(c=ll(i)):c=ll(n));const f=R6(l,t,i)?SA(l):Kr(0);let h=(s.left+f.x)/c.x,g=(s.top+f.y)/c.y,y=s.width/c.x,E=s.height/c.y;if(l){const w=Hn(l),T=i&&wn(i)?Hn(i):i;let A=w,k=Ey(A);for(;k&&i&&T!==A;){const D=ll(k),j=k.getBoundingClientRect(),H=wr(k),$=j.left+(k.clientLeft+parseFloat(H.paddingLeft))*D.x,Z=j.top+(k.clientTop+parseFloat(H.paddingTop))*D.y;h*=D.x,g*=D.y,y*=D.x,E*=D.y,h+=$,g+=Z,A=Hn(k),k=Ey(A)}}return hh({width:y,height:E,x:h,y:g})}function K0(n,e){const t=Kh(n).scrollLeft;return e?e.left+t:Qs(ei(n)).left+t}function AA(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=i.left+e.scrollLeft-(t?0:K0(n,i)),l=i.top+e.scrollTop;return{x:s,y:l}}function C6(n){let{elements:e,rect:t,offsetParent:i,strategy:s}=n;const l=s==="fixed",c=ei(i),f=e?Yh(e.floating):!1;if(i===c||f&&l)return t;let h={scrollLeft:0,scrollTop:0},g=Kr(1);const y=Kr(0),E=Wr(i);if((E||!E&&!l)&&((Il(i)!=="body"||Fc(c))&&(h=Kh(i)),Wr(i))){const T=Qs(i);g=ll(i),y.x=T.x+i.clientLeft,y.y=T.y+i.clientTop}const w=c&&!E&&!l?AA(c,h,!0):Kr(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-h.scrollLeft*g.x+y.x+w.x,y:t.y*g.y-h.scrollTop*g.y+y.y+w.y}}function N6(n){return Array.from(n.getClientRects())}function I6(n){const e=ei(n),t=Kh(n),i=n.ownerDocument.body,s=hn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=hn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+K0(n);const f=-t.scrollTop;return wr(i).direction==="rtl"&&(c+=hn(e.clientWidth,i.clientWidth)-s),{width:s,height:l,x:c,y:f}}function k6(n,e){const t=Hn(n),i=ei(n),s=t.visualViewport;let l=i.clientWidth,c=i.clientHeight,f=0,h=0;if(s){l=s.width,c=s.height;const g=G0();(!g||g&&e==="fixed")&&(f=s.offsetLeft,h=s.offsetTop)}return{width:l,height:c,x:f,y:h}}function D6(n,e){const t=Qs(n,!0,e==="fixed"),i=t.top+n.clientTop,s=t.left+n.clientLeft,l=Wr(n)?ll(n):Kr(1),c=n.clientWidth*l.x,f=n.clientHeight*l.y,h=s*l.x,g=i*l.y;return{width:c,height:f,x:h,y:g}}function Cx(n,e,t){let i;if(e==="viewport")i=k6(n,t);else if(e==="document")i=I6(ei(n));else if(wn(e))i=D6(e,t);else{const s=SA(n);i={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return hh(i)}function RA(n,e){const t=Va(n);return t===e||!wn(t)||vl(t)?!1:wr(t).position==="fixed"||RA(t,e)}function O6(n,e){const t=e.get(n);if(t)return t;let i=bc(n,[],!1).filter(f=>wn(f)&&Il(f)!=="body"),s=null;const l=wr(n).position==="fixed";let c=l?Va(n):n;for(;wn(c)&&!vl(c);){const f=wr(c),h=q0(c);!h&&f.position==="fixed"&&(s=null),(l?!h&&!s:!h&&f.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Fc(c)&&!h&&RA(n,c))?i=i.filter(y=>y!==c):s=f,c=Va(c)}return e.set(n,i),i}function M6(n){let{element:e,boundary:t,rootBoundary:i,strategy:s}=n;const c=[...t==="clippingAncestors"?Yh(e)?[]:O6(e,this._c):[].concat(t),i],f=c[0],h=c.reduce((g,y)=>{const E=Cx(e,y,s);return g.top=hn(E.top,g.top),g.right=Ys(E.right,g.right),g.bottom=Ys(E.bottom,g.bottom),g.left=hn(E.left,g.left),g},Cx(e,f,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function P6(n){const{width:e,height:t}=TA(n);return{width:e,height:t}}function j6(n,e,t){const i=Wr(e),s=ei(e),l=t==="fixed",c=Qs(n,!0,l,e);let f={scrollLeft:0,scrollTop:0};const h=Kr(0);if(i||!i&&!l)if((Il(e)!=="body"||Fc(s))&&(f=Kh(e)),i){const w=Qs(e,!0,l,e);h.x=w.x+e.clientLeft,h.y=w.y+e.clientTop}else s&&(h.x=K0(s));const g=s&&!i&&!l?AA(s,f):Kr(0),y=c.left+f.scrollLeft-h.x-g.x,E=c.top+f.scrollTop-h.y-g.y;return{x:y,y:E,width:c.width,height:c.height}}function Ap(n){return wr(n).position==="static"}function Nx(n,e){if(!Wr(n)||wr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ei(n)===t&&(t=t.ownerDocument.body),t}function CA(n,e){const t=Hn(n);if(Yh(n))return t;if(!Wr(n)){let s=Va(n);for(;s&&!vl(s);){if(wn(s)&&!Ap(s))return s;s=Va(s)}return t}let i=Nx(n,e);for(;i&&u6(i)&&Ap(i);)i=Nx(i,e);return i&&vl(i)&&Ap(i)&&!q0(i)?t:i||c6(n)||t}const L6=async function(n){const e=this.getOffsetParent||CA,t=this.getDimensions,i=await t(n.floating);return{reference:j6(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function V6(n){return wr(n).direction==="rtl"}const U6={convertOffsetParentRelativeRectToViewportRelativeRect:C6,getDocumentElement:ei,getClippingRect:M6,getOffsetParent:CA,getElementRects:L6,getClientRects:N6,getDimensions:P6,getScale:ll,isElement:wn,isRTL:V6};function NA(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function F6(n,e){let t=null,i;const s=ei(n);function l(){var f;clearTimeout(i),(f=t)==null||f.disconnect(),t=null}function c(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),l();const g=n.getBoundingClientRect(),{left:y,top:E,width:w,height:T}=g;if(f||e(),!w||!T)return;const A=xf(E),k=xf(s.clientWidth-(y+w)),D=xf(s.clientHeight-(E+T)),j=xf(y),$={rootMargin:-A+"px "+-k+"px "+-D+"px "+-j+"px",threshold:hn(0,Ys(1,h))||1};let Z=!0;function ee(ie){const O=ie[0].intersectionRatio;if(O!==h){if(!Z)return c();O?c(!1,O):i=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!NA(g,n.getBoundingClientRect())&&c(),Z=!1}try{t=new IntersectionObserver(ee,{...$,root:s.ownerDocument})}catch{t=new IntersectionObserver(ee,$)}t.observe(n)}return c(!0),l}function $6(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,g=Y0(n),y=s||l?[...g?bc(g):[],...bc(e)]:[];y.forEach(j=>{s&&j.addEventListener("scroll",t,{passive:!0}),l&&j.addEventListener("resize",t)});const E=g&&f?F6(g,t):null;let w=-1,T=null;c&&(T=new ResizeObserver(j=>{let[H]=j;H&&H.target===g&&T&&(T.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var $;($=T)==null||$.observe(e)})),t()}),g&&!h&&T.observe(g),T.observe(e));let A,k=h?Qs(n):null;h&&D();function D(){const j=Qs(n);k&&!NA(k,j)&&t(),k=j,A=requestAnimationFrame(D)}return t(),()=>{var j;y.forEach(H=>{s&&H.removeEventListener("scroll",t),l&&H.removeEventListener("resize",t)}),E==null||E(),(j=T)==null||j.disconnect(),T=null,h&&cancelAnimationFrame(A)}}const Rp=Qh,z6=x6,B6=T6,H6=w6,q6=S6,G6=(n,e,t)=>{const i=new Map,s={platform:U6,...t},l={...s.platform,_c:i};return b6(n,e,{...s,platform:l})};var Vf=typeof document<"u"?b.useLayoutEffect:b.useEffect;function mh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!mh(n[i],e[i]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,s[i]))return!1;for(i=t;i--!==0;){const l=s[i];if(!(l==="_owner"&&n.$$typeof)&&!mh(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function IA(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Ix(n,e){const t=IA(n);return Math.round(e*t)/t}function Cp(n){const e=b.useRef(n);return Vf(()=>{e.current=n}),e}function Y6(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:s,elements:{reference:l,floating:c}={},transform:f=!0,whileElementsMounted:h,open:g}=n,[y,E]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,T]=b.useState(i);mh(w,i)||T(i);const[A,k]=b.useState(null),[D,j]=b.useState(null),H=b.useCallback(fe=>{fe!==ie.current&&(ie.current=fe,k(fe))},[]),$=b.useCallback(fe=>{fe!==O.current&&(O.current=fe,j(fe))},[]),Z=l||A,ee=c||D,ie=b.useRef(null),O=b.useRef(null),N=b.useRef(y),I=h!=null,P=Cp(h),U=Cp(s),L=Cp(g),M=b.useCallback(()=>{if(!ie.current||!O.current)return;const fe={placement:e,strategy:t,middleware:w};U.current&&(fe.platform=U.current),G6(ie.current,O.current,fe).then(ue=>{const V={...ue,isPositioned:L.current!==!1};Ee.current&&!mh(N.current,V)&&(N.current=V,$r.flushSync(()=>{E(V)}))})},[w,e,t,U,L]);Vf(()=>{g===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,E(fe=>({...fe,isPositioned:!1})))},[g]);const Ee=b.useRef(!1);Vf(()=>(Ee.current=!0,()=>{Ee.current=!1}),[]),Vf(()=>{if(Z&&(ie.current=Z),ee&&(O.current=ee),Z&&ee){if(P.current)return P.current(Z,ee,M);M()}},[Z,ee,M,P,I]);const De=b.useMemo(()=>({reference:ie,floating:O,setReference:H,setFloating:$}),[H,$]),K=b.useMemo(()=>({reference:Z,floating:ee}),[Z,ee]),le=b.useMemo(()=>{const fe={position:t,left:0,top:0};if(!K.floating)return fe;const ue=Ix(K.floating,y.x),V=Ix(K.floating,y.y);return f?{...fe,transform:"translate("+ue+"px, "+V+"px)",...IA(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ue,top:V}},[t,f,K.floating,y.x,y.y]);return b.useMemo(()=>({...y,update:M,refs:De,elements:K,floatingStyles:le}),[y,M,De,K,le])}const kA=(n,e)=>({...z6(n),options:[n,e]}),K6=(n,e)=>({...B6(n),options:[n,e]}),Q6=(n,e)=>({...H6(n),options:[n,e]}),W6=(n,e)=>({...q6(n),options:[n,e]}),DA={...Mp},X6=DA.useInsertionEffect,Z6=X6||(n=>n());function OA(n){const e=b.useRef(()=>{});return Z6(()=>{e.current=n}),b.useCallback(function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return e.current==null?void 0:e.current(...i)},[])}var Ty=typeof document<"u"?b.useLayoutEffect:b.useEffect;let kx=!1,J6=0;const Dx=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+J6++;function eL(){const[n,e]=b.useState(()=>kx?Dx():void 0);return Ty(()=>{n==null&&e(Dx())},[]),b.useEffect(()=>{kx=!0},[]),n}const tL=DA.useId,nL=tL||eL;function rL(){const n=new Map;return{emit(e,t){var i;(i=n.get(e))==null||i.forEach(s=>s(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var i;n.set(e,((i=n.get(e))==null?void 0:i.filter(s=>s!==t))||[])}}}const iL=b.createContext(null),aL=b.createContext(null),sL=()=>{var n;return((n=b.useContext(iL))==null?void 0:n.id)||null},oL=()=>b.useContext(aL),lL="data-floating-ui-focusable";function uL(n){const{open:e=!1,onOpenChange:t,elements:i}=n,s=nL(),l=b.useRef({}),[c]=b.useState(()=>rL()),f=sL()!=null,[h,g]=b.useState(i.reference),y=OA((T,A,k)=>{l.current.openEvent=T?A:void 0,c.emit("openchange",{open:T,event:A,reason:k,nested:f}),t==null||t(T,A,k)}),E=b.useMemo(()=>({setPositionReference:g}),[]),w=b.useMemo(()=>({reference:h||i.reference||null,floating:i.floating||null,domReference:i.reference}),[h,i.reference,i.floating]);return b.useMemo(()=>({dataRef:l,open:e,onOpenChange:y,elements:w,events:c,floatingId:s,refs:E}),[e,y,w,c,s,E])}function cL(n){n===void 0&&(n={});const{nodeId:e}=n,t=uL({...n,elements:{reference:null,floating:null,...n.elements}}),i=n.rootContext||t,s=i.elements,[l,c]=b.useState(null),[f,h]=b.useState(null),y=(s==null?void 0:s.domReference)||l,E=b.useRef(null),w=oL();Ty(()=>{y&&(E.current=y)},[y]);const T=Y6({...n,elements:{...s,...f&&{reference:f}}}),A=b.useCallback($=>{const Z=wn($)?{getBoundingClientRect:()=>$.getBoundingClientRect(),contextElement:$}:$;h(Z),T.refs.setReference(Z)},[T.refs]),k=b.useCallback($=>{(wn($)||$===null)&&(E.current=$,c($)),(wn(T.refs.reference.current)||T.refs.reference.current===null||$!==null&&!wn($))&&T.refs.setReference($)},[T.refs]),D=b.useMemo(()=>({...T.refs,setReference:k,setPositionReference:A,domReference:E}),[T.refs,k,A]),j=b.useMemo(()=>({...T.elements,domReference:y}),[T.elements,y]),H=b.useMemo(()=>({...T,...i,refs:D,elements:j,nodeId:e}),[T,D,j,e,i]);return Ty(()=>{i.dataRef.current.floatingContext=H;const $=w==null?void 0:w.nodesRef.current.find(Z=>Z.id===e);$&&($.context=H)}),b.useMemo(()=>({...T,context:H,refs:D,elements:j}),[T,D,j,H])}const Ox="active",Mx="selected";function Np(n,e,t){const i=new Map,s=t==="item";let l=n;if(s&&n){const{[Ox]:c,[Mx]:f,...h}=n;l=h}return{...t==="floating"&&{tabIndex:-1,[lL]:""},...l,...e.map(c=>{const f=c?c[t]:null;return typeof f=="function"?n?f(n):null:f}).concat(n).reduce((c,f)=>(f&&Object.entries(f).forEach(h=>{let[g,y]=h;if(!(s&&[Ox,Mx].includes(g)))if(g.indexOf("on")===0){if(i.has(g)||i.set(g,[]),typeof y=="function"){var E;(E=i.get(g))==null||E.push(y),c[g]=function(){for(var w,T=arguments.length,A=new Array(T),k=0;k<T;k++)A[k]=arguments[k];return(w=i.get(g))==null?void 0:w.map(D=>D(...A)).find(D=>D!==void 0)}}}else c[g]=y}),c),{})}}function dL(n){n===void 0&&(n=[]);const e=n.map(f=>f==null?void 0:f.reference),t=n.map(f=>f==null?void 0:f.floating),i=n.map(f=>f==null?void 0:f.item),s=b.useCallback(f=>Np(f,n,"reference"),e),l=b.useCallback(f=>Np(f,n,"floating"),t),c=b.useCallback(f=>Np(f,n,"item"),i);return b.useMemo(()=>({getReferenceProps:s,getFloatingProps:l,getItemProps:c}),[s,l,c])}function Px(n,e){return{...n,rects:{...n.rects,floating:{...n.rects.floating,height:e}}}}const fL=n=>({name:"inner",options:n,async fn(e){const{listRef:t,overflowRef:i,onFallbackChange:s,offset:l=0,index:c=0,minItemsVisible:f=4,referenceOverflowThreshold:h=0,scrollRef:g,...y}=kl(n,e),{rects:E,elements:{floating:w}}=e,T=t.current[c],A=(g==null?void 0:g.current)||w,k=w.clientTop||A.clientTop,D=w.clientTop!==0,j=A.clientTop!==0,H=w===A;if(!T)return{};const $={...e,...await kA(-T.offsetTop-w.clientTop-E.reference.height/2-T.offsetHeight/2-l).fn(e)},Z=await Rp(Px($,A.scrollHeight+k+w.clientTop),y),ee=await Rp($,{...y,elementContext:"reference"}),ie=hn(0,Z.top),O=$.y+ie,P=(A.scrollHeight>A.clientHeight?U=>U:wc)(hn(0,A.scrollHeight+(D&&H||j?k*2:0)-ie-hn(0,Z.bottom)));if(A.style.maxHeight=P+"px",A.scrollTop=ie,s){const U=A.offsetHeight<T.offsetHeight*Ys(f,t.current.length)-1||ee.top>=-h||ee.bottom>=-h;$r.flushSync(()=>s(U))}return i&&(i.current=await Rp(Px({...$,y:O},A.offsetHeight+k+w.clientTop),y)),{y:O}}});function hL(n,e){const{open:t,elements:i}=n,{enabled:s=!0,overflowRef:l,scrollRef:c,onChange:f}=e,h=OA(f),g=b.useRef(!1),y=b.useRef(null),E=b.useRef(null);b.useEffect(()=>{if(!s)return;function T(k){if(k.ctrlKey||!A||l.current==null)return;const D=k.deltaY,j=l.current.top>=-.5,H=l.current.bottom>=-.5,$=A.scrollHeight-A.clientHeight,Z=D<0?-1:1,ee=D<0?"max":"min";A.scrollHeight<=A.clientHeight||(!j&&D>0||!H&&D<0?(k.preventDefault(),$r.flushSync(()=>{h(ie=>ie+Math[ee](D,$*Z))})):/firefox/i.test(d6())&&(A.scrollTop+=D))}const A=(c==null?void 0:c.current)||i.floating;if(t&&A)return A.addEventListener("wheel",T),requestAnimationFrame(()=>{y.current=A.scrollTop,l.current!=null&&(E.current={...l.current})}),()=>{y.current=null,E.current=null,A.removeEventListener("wheel",T)}},[s,t,i.floating,l,c,h]);const w=b.useMemo(()=>({onKeyDown(){g.current=!0},onWheel(){g.current=!1},onPointerMove(){g.current=!1},onScroll(){const T=(c==null?void 0:c.current)||i.floating;if(!(!l.current||!T||!g.current)){if(y.current!==null){const A=T.scrollTop-y.current;(l.current.bottom<-.5&&A<-1||l.current.top<-.5&&A>1)&&$r.flushSync(()=>h(k=>k+A))}requestAnimationFrame(()=>{y.current=T.scrollTop})}}}),[i.floating,h,l,c]);return b.useMemo(()=>s?{floating:w}:{},[s,w])}let Dl=b.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Dl.displayName="FloatingContext";let Q0=b.createContext(null);Q0.displayName="PlacementContext";function mL(n){return b.useMemo(()=>n?typeof n=="string"?{to:n}:n:null,[n])}function gL(){return b.useContext(Dl).setReference}function pL(){return b.useContext(Dl).getReferenceProps}function yL(){let{getFloatingProps:n,slot:e}=b.useContext(Dl);return b.useCallback((...t)=>Object.assign({},n(...t),{"data-anchor":e.anchor}),[n,e])}function vL(n=null){n===!1&&(n=null),typeof n=="string"&&(n={to:n});let e=b.useContext(Q0),t=b.useMemo(()=>n,[JSON.stringify(n,(s,l)=>{var c;return(c=l==null?void 0:l.outerHTML)!=null?c:l})]);ht(()=>{e==null||e(t??null)},[e,t]);let i=b.useContext(Dl);return b.useMemo(()=>[i.setFloating,n?i.styles:{}],[i.setFloating,n,i.styles])}let jx=4;function _L({children:n,enabled:e=!0}){let[t,i]=b.useState(null),[s,l]=b.useState(0),c=b.useRef(null),[f,h]=b.useState(null);bL(f);let g=e&&t!==null&&f!==null,{to:y="bottom",gap:E=0,offset:w=0,padding:T=0,inner:A}=wL(t,f),[k,D="center"]=y.split(" ");ht(()=>{g&&l(0)},[g]);let{refs:j,floatingStyles:H,context:$}=cL({open:g,placement:k==="selection"?D==="center"?"bottom":`bottom-${D}`:D==="center"?`${k}`:`${k}-${D}`,strategy:"absolute",transform:!1,middleware:[kA({mainAxis:k==="selection"?0:E,crossAxis:w}),K6({padding:T}),k!=="selection"&&Q6({padding:T}),k==="selection"&&A?fL({...A,padding:T,overflowRef:c,offset:s,minItemsVisible:jx,referenceOverflowThreshold:T,onFallbackChange(U){var L,M;if(!U)return;let Ee=$.elements.floating;if(!Ee)return;let De=parseFloat(getComputedStyle(Ee).scrollPaddingBottom)||0,K=Math.min(jx,Ee.childElementCount),le=0,fe=0;for(let ue of(M=(L=$.elements.floating)==null?void 0:L.childNodes)!=null?M:[])if(ue instanceof HTMLElement){let V=ue.offsetTop,W=V+ue.clientHeight+De,he=Ee.scrollTop,re=he+Ee.clientHeight;if(V>=he&&W<=re)K--;else{fe=Math.max(0,Math.min(W,re)-Math.max(V,he)),le=ue.clientHeight;break}}K>=1&&l(ue=>{let V=le*K-fe+De;return ue>=V?ue:V})}}):null,W6({padding:T,apply({availableWidth:U,availableHeight:L,elements:M}){Object.assign(M.floating.style,{overflow:"auto",maxWidth:`${U}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${L}px)`})}})].filter(Boolean),whileElementsMounted:$6}),[Z=k,ee=D]=$.placement.split("-");k==="selection"&&(Z="selection");let ie=b.useMemo(()=>({anchor:[Z,ee].filter(Boolean).join(" ")}),[Z,ee]),O=hL($,{overflowRef:c,onChange:l}),{getReferenceProps:N,getFloatingProps:I}=dL([O]),P=We(U=>{h(U),j.setFloating(U)});return b.createElement(Q0.Provider,{value:i},b.createElement(Dl.Provider,{value:{setFloating:P,setReference:j.setReference,styles:H,getReferenceProps:N,getFloatingProps:I,slot:ie}},n))}function bL(n){ht(()=>{if(!n)return;let e=new MutationObserver(()=>{let t=window.getComputedStyle(n).maxHeight,i=parseFloat(t);if(isNaN(i))return;let s=parseInt(t);isNaN(s)||i!==s&&(n.style.maxHeight=`${Math.ceil(i)}px`)});return e.observe(n,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[n])}function wL(n,e){var t,i,s;let l=Ip((t=n==null?void 0:n.gap)!=null?t:"var(--anchor-gap, 0)",e),c=Ip((i=n==null?void 0:n.offset)!=null?i:"var(--anchor-offset, 0)",e),f=Ip((s=n==null?void 0:n.padding)!=null?s:"var(--anchor-padding, 0)",e);return{...n,gap:l,offset:c,padding:f}}function Ip(n,e,t=void 0){let i=Uc(),s=We((h,g)=>{if(h==null)return[t,null];if(typeof h=="number")return[h,null];if(typeof h=="string"){if(!g)return[t,null];let y=Lx(h,g);return[y,E=>{let w=MA(h);{let T=w.map(A=>window.getComputedStyle(g).getPropertyValue(A));i.requestAnimationFrame(function A(){i.nextFrame(A);let k=!1;for(let[j,H]of w.entries()){let $=window.getComputedStyle(g).getPropertyValue(H);if(T[j]!==$){T[j]=$,k=!0;break}}if(!k)return;let D=Lx(h,g);y!==D&&(E(D),y=D)})}return i.dispose}]}return[t,null]}),l=b.useMemo(()=>s(n,e)[0],[n,e]),[c=l,f]=b.useState();return ht(()=>{let[h,g]=s(n,e);if(f(h),!!g)return g(f)},[n,e]),c}function MA(n){let e=/var\((.*)\)/.exec(n);if(e){let t=e[1].indexOf(",");if(t===-1)return[e[1]];let i=e[1].slice(0,t).trim(),s=e[1].slice(t+1).trim();return s?[i,...MA(s)]:[i]}return[]}function Lx(n,e){let t=document.createElement("div");e.appendChild(t),t.style.setProperty("margin-top","0px","important"),t.style.setProperty("margin-top",n,"important");let i=parseFloat(window.getComputedStyle(t).marginTop)||0;return e.removeChild(t),i}let W0=b.createContext(null);W0.displayName="OpenClosedContext";var pr=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(pr||{});function X0(){return b.useContext(W0)}function PA({value:n,children:e}){return dt.createElement(W0.Provider,{value:n},e)}function EL(n){throw new Error("Unexpected object: "+n)}var mn=(n=>(n[n.First=0]="First",n[n.Previous=1]="Previous",n[n.Next=2]="Next",n[n.Last=3]="Last",n[n.Specific=4]="Specific",n[n.Nothing=5]="Nothing",n))(mn||{});function kp(n,e){let t=e.resolveItems();if(t.length<=0)return null;let i=e.resolveActiveIndex(),s=i??-1;switch(n.focus){case 0:{for(let l=0;l<t.length;++l)if(!e.resolveDisabled(t[l],l,t))return l;return i}case 1:{s===-1&&(s=t.length);for(let l=s-1;l>=0;--l)if(!e.resolveDisabled(t[l],l,t))return l;return i}case 2:{for(let l=s+1;l<t.length;++l)if(!e.resolveDisabled(t[l],l,t))return l;return i}case 3:{for(let l=t.length-1;l>=0;--l)if(!e.resolveDisabled(t[l],l,t))return l;return i}case 4:{for(let l=0;l<t.length;++l)if(e.resolveId(t[l],l,t)===n.id)return l;return i}case 5:return null;default:EL(n)}}function xL(n){let e=We(n),t=b.useRef(!1);b.useEffect(()=>(t.current=!1,()=>{t.current=!0,iA(()=>{t.current&&e()})}),[e])}function TL(){let n=typeof document>"u";return"useSyncExternalStore"in Mp?(e=>e.useSyncExternalStore)(Mp)(()=>()=>{},()=>!1,()=>!n):!1}function Z0(){let n=TL(),[e,t]=b.useState(Ps.isHandoffComplete);return e&&Ps.isHandoffComplete===!1&&t(!1),b.useEffect(()=>{e!==!0&&t(!0)},[e]),b.useEffect(()=>Ps.handoff(),[]),n?!1:e}let SL=b.createContext(!1);function AL(){return b.useContext(SL)}function RL(n){let e=AL(),t=b.useContext(LA),[i,s]=b.useState(()=>{var l;if(!e&&t!==null)return(l=t.current)!=null?l:null;if(Ps.isServer)return null;let c=n==null?void 0:n.getElementById("headlessui-portal-root");if(c)return c;if(n===null)return null;let f=n.createElement("div");return f.setAttribute("id","headlessui-portal-root"),n.body.appendChild(f)});return b.useEffect(()=>{i!==null&&(n!=null&&n.body.contains(i)||n==null||n.body.appendChild(i))},[i,n]),b.useEffect(()=>{e||t!==null&&s(t.current)},[t,s,e]),i}let jA=b.Fragment,CL=Tn(function(n,e){let{ownerDocument:t=null,...i}=n,s=b.useRef(null),l=xr(_j(T=>{s.current=T}),e),c=wy(s),f=t??c,h=RL(f),[g]=b.useState(()=>{var T;return Ps.isServer?null:(T=f==null?void 0:f.createElement("div"))!=null?T:null}),y=b.useContext(DL),E=Z0();ht(()=>{!h||!g||h.contains(g)||(g.setAttribute("data-headlessui-portal",""),h.appendChild(g))},[h,g]),ht(()=>{if(g&&y)return y.register(g)},[y,g]),xL(()=>{var T;!h||!g||(g instanceof Node&&h.contains(g)&&h.removeChild(g),h.childNodes.length<=0&&((T=h.parentElement)==null||T.removeChild(h)))});let w=kn();return E?!h||!g?null:$r.createPortal(w({ourProps:{ref:l},theirProps:i,slot:{},defaultTag:jA,name:"Portal"}),g):null});function NL(n,e){let t=xr(e),{enabled:i=!0,ownerDocument:s,...l}=n,c=kn();return i?dt.createElement(CL,{...l,ownerDocument:s,ref:t}):c({ourProps:{ref:t},theirProps:l,slot:{},defaultTag:jA,name:"Portal"})}let IL=b.Fragment,LA=b.createContext(null);function kL(n,e){let{target:t,...i}=n,s={ref:xr(e)},l=kn();return dt.createElement(LA.Provider,{value:t},l({ourProps:s,theirProps:i,defaultTag:IL,name:"Popover.Group"}))}let DL=b.createContext(null),OL=Tn(NL),ML=Tn(kL),PL=Object.assign(OL,{Group:ML});function jL(){let n=b.useRef(!1);return ht(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function VA(n){var e;return!!(n.enter||n.enterFrom||n.enterTo||n.leave||n.leaveFrom||n.leaveTo)||((e=n.as)!=null?e:FA)!==b.Fragment||dt.Children.count(n.children)===1}let Wh=b.createContext(null);Wh.displayName="TransitionContext";var LL=(n=>(n.Visible="visible",n.Hidden="hidden",n))(LL||{});function VL(){let n=b.useContext(Wh);if(n===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}function UL(){let n=b.useContext(Xh);if(n===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}let Xh=b.createContext(null);Xh.displayName="NestingContext";function Zh(n){return"children"in n?Zh(n.children):n.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function UA(n,e){let t=Nl(n),i=b.useRef([]),s=jL(),l=Uc(),c=We((T,A=Ta.Hidden)=>{let k=i.current.findIndex(({el:D})=>D===T);k!==-1&&(to(A,{[Ta.Unmount](){i.current.splice(k,1)},[Ta.Hidden](){i.current[k].state="hidden"}}),l.microTask(()=>{var D;!Zh(i)&&s.current&&((D=t.current)==null||D.call(t))}))}),f=We(T=>{let A=i.current.find(({el:k})=>k===T);return A?A.state!=="visible"&&(A.state="visible"):i.current.push({el:T,state:"visible"}),()=>c(T,Ta.Unmount)}),h=b.useRef([]),g=b.useRef(Promise.resolve()),y=b.useRef({enter:[],leave:[]}),E=We((T,A,k)=>{h.current.splice(0),e&&(e.chains.current[A]=e.chains.current[A].filter(([D])=>D!==T)),e==null||e.chains.current[A].push([T,new Promise(D=>{h.current.push(D)})]),e==null||e.chains.current[A].push([T,new Promise(D=>{Promise.all(y.current[A].map(([j,H])=>H)).then(()=>D())})]),A==="enter"?g.current=g.current.then(()=>e==null?void 0:e.wait.current).then(()=>k(A)):k(A)}),w=We((T,A,k)=>{Promise.all(y.current[A].splice(0).map(([D,j])=>j)).then(()=>{var D;(D=h.current.shift())==null||D()}).then(()=>k(A))});return b.useMemo(()=>({children:i,register:f,unregister:c,onStart:E,onStop:w,wait:g,chains:y}),[f,c,i,E,w,y,g])}let FA=b.Fragment,$A=dh.RenderStrategy;function FL(n,e){var t,i;let{transition:s=!0,beforeEnter:l,afterEnter:c,beforeLeave:f,afterLeave:h,enter:g,enterFrom:y,enterTo:E,entered:w,leave:T,leaveFrom:A,leaveTo:k,...D}=n,[j,H]=b.useState(null),$=b.useRef(null),Z=VA(n),ee=xr(...Z?[$,e,H]:e===null?[]:[e]),ie=(t=D.unmount)==null||t?Ta.Unmount:Ta.Hidden,{show:O,appear:N,initial:I}=VL(),[P,U]=b.useState(O?"visible":"hidden"),L=UL(),{register:M,unregister:Ee}=L;ht(()=>M($),[M,$]),ht(()=>{if(ie===Ta.Hidden&&$.current){if(O&&P!=="visible"){U("visible");return}return to(P,{hidden:()=>Ee($),visible:()=>M($)})}},[P,$,M,Ee,O,ie]);let De=Z0();ht(()=>{if(Z&&De&&P==="visible"&&$.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[$,P,De,Z]);let K=I&&!N,le=N&&O&&I,fe=b.useRef(!1),ue=UA(()=>{fe.current||(U("hidden"),Ee($))},L),V=We(ge=>{fe.current=!0;let ce=ge?"enter":"leave";ue.onStart($,ce,Re=>{Re==="enter"?l==null||l():Re==="leave"&&(f==null||f())})}),W=We(ge=>{let ce=ge?"enter":"leave";fe.current=!1,ue.onStop($,ce,Re=>{Re==="enter"?c==null||c():Re==="leave"&&(h==null||h())}),ce==="leave"&&!Zh(ue)&&(U("hidden"),Ee($))});b.useEffect(()=>{Z&&s||(V(O),W(O))},[O,Z,s]);let he=!(!s||!Z||!De||K),[,re]=vA(he,j,O,{start:V,end:W}),de=Ns({ref:ee,className:((i=yy(D.className,le&&g,le&&y,re.enter&&g,re.enter&&re.closed&&y,re.enter&&!re.closed&&E,re.leave&&T,re.leave&&!re.closed&&A,re.leave&&re.closed&&k,!re.transition&&O&&w))==null?void 0:i.trim())||void 0,...yA(re)}),we=0;P==="visible"&&(we|=pr.Open),P==="hidden"&&(we|=pr.Closed),re.enter&&(we|=pr.Opening),re.leave&&(we|=pr.Closing);let xe=kn();return dt.createElement(Xh.Provider,{value:ue},dt.createElement(PA,{value:we},xe({ourProps:de,theirProps:D,defaultTag:FA,features:$A,visible:P==="visible",name:"Transition.Child"})))}function $L(n,e){let{show:t,appear:i=!1,unmount:s=!0,...l}=n,c=b.useRef(null),f=VA(n),h=xr(...f?[c,e]:e===null?[]:[e]);Z0();let g=X0();if(t===void 0&&g!==null&&(t=(g&pr.Open)===pr.Open),t===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[y,E]=b.useState(t?"visible":"hidden"),w=UA(()=>{t||E("hidden")}),[T,A]=b.useState(!0),k=b.useRef([t]);ht(()=>{T!==!1&&k.current[k.current.length-1]!==t&&(k.current.push(t),A(!1))},[k,t]);let D=b.useMemo(()=>({show:t,appear:i,initial:T}),[t,i,T]);ht(()=>{t?E("visible"):!Zh(w)&&c.current!==null&&E("hidden")},[t,w]);let j={unmount:s},H=We(()=>{var ee;T&&A(!1),(ee=n.beforeEnter)==null||ee.call(n)}),$=We(()=>{var ee;T&&A(!1),(ee=n.beforeLeave)==null||ee.call(n)}),Z=kn();return dt.createElement(Xh.Provider,{value:w},dt.createElement(Wh.Provider,{value:D},Z({ourProps:{...j,as:b.Fragment,children:dt.createElement(zA,{ref:h,...j,...l,beforeEnter:H,beforeLeave:$})},theirProps:{},defaultTag:b.Fragment,features:$A,visible:y==="visible",name:"Transition"})))}function zL(n,e){let t=b.useContext(Wh)!==null,i=X0()!==null;return dt.createElement(dt.Fragment,null,!t&&i?dt.createElement(Sy,{ref:e,...n}):dt.createElement(zA,{ref:e,...n}))}let Sy=Tn($L),zA=Tn(FL),BL=Tn(zL),Ay=Object.assign(Sy,{Child:BL,Root:Sy});function HL(n,e){let t=b.useRef({left:0,top:0});if(ht(()=>{if(!e)return;let s=e.getBoundingClientRect();s&&(t.current=s)},[n,e]),e==null||!n||e===document.activeElement)return!1;let i=e.getBoundingClientRect();return i.top!==t.current.top||i.left!==t.current.left}let Vx=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Ux(n){var e,t;let i=(e=n.innerText)!=null?e:"",s=n.cloneNode(!0);if(!(s instanceof HTMLElement))return i;let l=!1;for(let f of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))f.remove(),l=!0;let c=l?(t=s.innerText)!=null?t:"":i;return Vx.test(c)&&(c=c.replace(Vx,"")),c}function qL(n){let e=n.getAttribute("aria-label");if(typeof e=="string")return e.trim();let t=n.getAttribute("aria-labelledby");if(t){let i=t.split(" ").map(s=>{let l=document.getElementById(s);if(l){let c=l.getAttribute("aria-label");return typeof c=="string"?c.trim():Ux(l).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return Ux(n).trim()}function GL(n){let e=b.useRef(""),t=b.useRef("");return We(()=>{let i=n.current;if(!i)return"";let s=i.innerText;if(e.current===s)return t.current;let l=qL(i).trim().toLowerCase();return e.current=s,t.current=l,l})}var YL=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(YL||{}),KL=(n=>(n[n.Pointer=0]="Pointer",n[n.Other=1]="Other",n))(KL||{}),QL=(n=>(n[n.OpenMenu=0]="OpenMenu",n[n.CloseMenu=1]="CloseMenu",n[n.GoToItem=2]="GoToItem",n[n.Search=3]="Search",n[n.ClearSearch=4]="ClearSearch",n[n.RegisterItem=5]="RegisterItem",n[n.UnregisterItem=6]="UnregisterItem",n[n.SetButtonElement=7]="SetButtonElement",n[n.SetItemsElement=8]="SetItemsElement",n))(QL||{});function Dp(n,e=t=>t){let t=n.activeItemIndex!==null?n.items[n.activeItemIndex]:null,i=gA(e(n.items.slice()),l=>l.dataRef.current.domRef.current),s=t?i.indexOf(t):null;return s===-1&&(s=null),{items:i,activeItemIndex:s}}let WL={1(n){return n.menuState===1?n:{...n,activeItemIndex:null,menuState:1}},0(n){return n.menuState===0?n:{...n,__demoMode:!1,menuState:0}},2:(n,e)=>{var t,i,s,l,c;if(n.menuState===1)return n;let f={...n,searchQuery:"",activationTrigger:(t=e.trigger)!=null?t:1,__demoMode:!1};if(e.focus===mn.Nothing)return{...f,activeItemIndex:null};if(e.focus===mn.Specific)return{...f,activeItemIndex:n.items.findIndex(y=>y.id===e.id)};if(e.focus===mn.Previous){let y=n.activeItemIndex;if(y!==null){let E=n.items[y].dataRef.current.domRef,w=kp(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:T=>T.id,resolveDisabled:T=>T.dataRef.current.disabled});if(w!==null){let T=n.items[w].dataRef.current.domRef;if(((i=E.current)==null?void 0:i.previousElementSibling)===T.current||((s=T.current)==null?void 0:s.previousElementSibling)===null)return{...f,activeItemIndex:w}}}}else if(e.focus===mn.Next){let y=n.activeItemIndex;if(y!==null){let E=n.items[y].dataRef.current.domRef,w=kp(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:T=>T.id,resolveDisabled:T=>T.dataRef.current.disabled});if(w!==null){let T=n.items[w].dataRef.current.domRef;if(((l=E.current)==null?void 0:l.nextElementSibling)===T.current||((c=T.current)==null?void 0:c.nextElementSibling)===null)return{...f,activeItemIndex:w}}}}let h=Dp(n),g=kp(e,{resolveItems:()=>h.items,resolveActiveIndex:()=>h.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});return{...f,...h,activeItemIndex:g}},3:(n,e)=>{let t=n.searchQuery!==""?0:1,i=n.searchQuery+e.value.toLowerCase(),s=(n.activeItemIndex!==null?n.items.slice(n.activeItemIndex+t).concat(n.items.slice(0,n.activeItemIndex+t)):n.items).find(c=>{var f;return((f=c.dataRef.current.textValue)==null?void 0:f.startsWith(i))&&!c.dataRef.current.disabled}),l=s?n.items.indexOf(s):-1;return l===-1||l===n.activeItemIndex?{...n,searchQuery:i}:{...n,searchQuery:i,activeItemIndex:l,activationTrigger:1}},4(n){return n.searchQuery===""?n:{...n,searchQuery:"",searchActiveItemIndex:null}},5:(n,e)=>{let t=Dp(n,i=>[...i,{id:e.id,dataRef:e.dataRef}]);return{...n,...t}},6:(n,e)=>{let t=Dp(n,i=>{let s=i.findIndex(l=>l.id===e.id);return s!==-1&&i.splice(s,1),i});return{...n,...t,activationTrigger:1}},7:(n,e)=>n.buttonElement===e.element?n:{...n,buttonElement:e.element},8:(n,e)=>n.itemsElement===e.element?n:{...n,itemsElement:e.element}},J0=b.createContext(null);J0.displayName="MenuContext";function Jh(n){let e=b.useContext(J0);if(e===null){let t=new Error(`<${n} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Jh),t}return e}function XL(n,e){return to(e.type,WL,n,e)}let ZL=b.Fragment;function JL(n,e){let{__demoMode:t=!1,...i}=n,s=b.useReducer(XL,{__demoMode:t,menuState:t?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:l,itemsElement:c,buttonElement:f},h]=s,g=xr(e);Yj(l===0,[f,c],(A,k)=>{h({type:1}),H0(k,B0.Loose)||(A.preventDefault(),f==null||f.focus())});let y=We(()=>{h({type:1})}),E=b.useMemo(()=>({open:l===0,close:y}),[l,y]),w={ref:g},T=kn();return dt.createElement(_L,null,dt.createElement(J0.Provider,{value:s},dt.createElement(PA,{value:to(l,{0:pr.Open,1:pr.Closed})},T({ourProps:w,theirProps:i,slot:E,defaultTag:ZL,name:"Menu"}))))}let eV="button";function tV(n,e){var t;let i=b.useId(),{id:s=`headlessui-menu-button-${i}`,disabled:l=!1,autoFocus:c=!1,...f}=n,[h,g]=Jh("Menu.Button"),y=pL(),E=xr(e,gL(),We(O=>g({type:7,element:O}))),w=We(O=>{switch(O.key){case nn.Space:case nn.Enter:case nn.ArrowDown:O.preventDefault(),O.stopPropagation(),$r.flushSync(()=>g({type:0})),g({type:2,focus:mn.First});break;case nn.ArrowUp:O.preventDefault(),O.stopPropagation(),$r.flushSync(()=>g({type:0})),g({type:2,focus:mn.Last});break}}),T=We(O=>{switch(O.key){case nn.Space:O.preventDefault();break}}),A=We(O=>{var N;if(yj(O.currentTarget))return O.preventDefault();l||(h.menuState===0?($r.flushSync(()=>g({type:1})),(N=h.buttonElement)==null||N.focus({preventScroll:!0})):(O.preventDefault(),g({type:0})))}),{isFocusVisible:k,focusProps:D}=rj({autoFocus:c}),{isHovered:j,hoverProps:H}=nj({isDisabled:l}),{pressed:$,pressProps:Z}=uj({disabled:l}),ee=b.useMemo(()=>({open:h.menuState===0,active:$||h.menuState===0,disabled:l,hover:j,focus:k,autofocus:c}),[h,j,k,$,l,c]),ie=oA(y(),{ref:E,id:s,type:Kj(n,h.buttonElement),"aria-haspopup":"menu","aria-controls":(t=h.itemsElement)==null?void 0:t.id,"aria-expanded":h.menuState===0,disabled:l||void 0,autoFocus:c,onKeyDown:w,onKeyUp:T,onClick:A},D,H,Z);return kn()({ourProps:ie,theirProps:f,slot:ee,defaultTag:eV,name:"Menu.Button"})}let nV="div",rV=dh.RenderStrategy|dh.Static;function iV(n,e){var t,i;let s=b.useId(),{id:l=`headlessui-menu-items-${s}`,anchor:c,portal:f=!1,modal:h=!0,transition:g=!1,...y}=n,E=mL(c),[w,T]=Jh("Menu.Items"),[A,k]=vL(E),D=yL(),[j,H]=b.useState(null),$=xr(e,E?A:null,We(ue=>T({type:8,element:ue})),H),Z=wy(w.buttonElement),ee=wy(w.itemsElement);E&&(f=!0);let ie=X0(),[O,N]=vA(g,j,ie!==null?(ie&pr.Open)===pr.Open:w.menuState===0);Oj(O,w.buttonElement,()=>{T({type:1})});let I=w.__demoMode?!1:h&&w.menuState===0;e6(I,ee);let P=w.__demoMode?!1:h&&w.menuState===0;Dj(P,{allowed:b.useCallback(()=>[w.buttonElement,w.itemsElement],[w.buttonElement,w.itemsElement])});let U=w.menuState!==0,L=HL(U,w.buttonElement)?!1:O;b.useEffect(()=>{let ue=w.itemsElement;ue&&w.menuState===0&&ue!==(ee==null?void 0:ee.activeElement)&&ue.focus({preventScroll:!0})},[w.menuState,w.itemsElement,ee]),l6(w.menuState===0,{container:w.itemsElement,accept(ue){return ue.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:ue.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(ue){ue.setAttribute("role","none")}});let M=Uc(),Ee=We(ue=>{var V,W,he;switch(M.dispose(),ue.key){case nn.Space:if(w.searchQuery!=="")return ue.preventDefault(),ue.stopPropagation(),T({type:3,value:ue.key});case nn.Enter:if(ue.preventDefault(),ue.stopPropagation(),T({type:1}),w.activeItemIndex!==null){let{dataRef:re}=w.items[w.activeItemIndex];(W=(V=re.current)==null?void 0:V.domRef.current)==null||W.click()}mA(w.buttonElement);break;case nn.ArrowDown:return ue.preventDefault(),ue.stopPropagation(),T({type:2,focus:mn.Next});case nn.ArrowUp:return ue.preventDefault(),ue.stopPropagation(),T({type:2,focus:mn.Previous});case nn.Home:case nn.PageUp:return ue.preventDefault(),ue.stopPropagation(),T({type:2,focus:mn.First});case nn.End:case nn.PageDown:return ue.preventDefault(),ue.stopPropagation(),T({type:2,focus:mn.Last});case nn.Escape:ue.preventDefault(),ue.stopPropagation(),$r.flushSync(()=>T({type:1})),(he=w.buttonElement)==null||he.focus({preventScroll:!0});break;case nn.Tab:ue.preventDefault(),ue.stopPropagation(),$r.flushSync(()=>T({type:1})),zj(w.buttonElement,ue.shiftKey?by.Previous:by.Next);break;default:ue.key.length===1&&(T({type:3,value:ue.key}),M.setTimeout(()=>T({type:4}),350));break}}),De=We(ue=>{switch(ue.key){case nn.Space:ue.preventDefault();break}}),K=b.useMemo(()=>({open:w.menuState===0}),[w.menuState]),le=oA(E?D():{},{"aria-activedescendant":w.activeItemIndex===null||(t=w.items[w.activeItemIndex])==null?void 0:t.id,"aria-labelledby":(i=w.buttonElement)==null?void 0:i.id,id:l,onKeyDown:Ee,onKeyUp:De,role:"menu",tabIndex:w.menuState===0?0:void 0,ref:$,style:{...y.style,...k,"--button-width":Nj(w.buttonElement,!0).width},...yA(N)}),fe=kn();return dt.createElement(PL,{enabled:f?n.static||O:!1,ownerDocument:Z},fe({ourProps:le,theirProps:y,slot:K,defaultTag:nV,features:rV,visible:L,name:"Menu.Items"}))}let aV=b.Fragment;function sV(n,e){let t=b.useId(),{id:i=`headlessui-menu-item-${t}`,disabled:s=!1,...l}=n,[c,f]=Jh("Menu.Item"),h=c.activeItemIndex!==null?c.items[c.activeItemIndex].id===i:!1,g=b.useRef(null),y=xr(e,g);ht(()=>{if(!c.__demoMode&&c.menuState===0&&h&&c.activationTrigger!==0)return Jr().requestAnimationFrame(()=>{var U,L;(L=(U=g.current)==null?void 0:U.scrollIntoView)==null||L.call(U,{block:"nearest"})})},[c.__demoMode,g,h,c.menuState,c.activationTrigger,c.activeItemIndex]);let E=GL(g),w=b.useRef({disabled:s,domRef:g,get textValue(){return E()}});ht(()=>{w.current.disabled=s},[w,s]),ht(()=>(f({type:5,id:i,dataRef:w}),()=>f({type:6,id:i})),[w,i]);let T=We(()=>{f({type:1})}),A=We(U=>{if(s)return U.preventDefault();f({type:1}),mA(c.buttonElement)}),k=We(()=>{if(s)return f({type:2,focus:mn.Nothing});f({type:2,focus:mn.Specific,id:i})}),D=t6(),j=We(U=>{D.update(U),!s&&(h||f({type:2,focus:mn.Specific,id:i,trigger:0}))}),H=We(U=>{D.wasMoved(U)&&(s||h||f({type:2,focus:mn.Specific,id:i,trigger:0}))}),$=We(U=>{D.wasMoved(U)&&(s||h&&f({type:2,focus:mn.Nothing}))}),[Z,ee]=cA(),[ie,O]=bj(),N=b.useMemo(()=>({active:h,focus:h,disabled:s,close:T}),[h,s,T]),I={id:i,ref:y,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-labelledby":Z,"aria-describedby":ie,disabled:void 0,onClick:A,onFocus:k,onPointerEnter:j,onMouseEnter:j,onPointerMove:H,onMouseMove:H,onPointerLeave:$,onMouseLeave:$},P=kn();return dt.createElement(ee,null,dt.createElement(O,null,P({ourProps:I,theirProps:l,slot:N,defaultTag:aV,name:"Menu.Item"})))}let oV="div";function lV(n,e){let[t,i]=cA(),s=n,l={ref:e,"aria-labelledby":t,role:"group"},c=kn();return dt.createElement(i,null,c({ourProps:l,theirProps:s,slot:{},defaultTag:oV,name:"Menu.Section"}))}let uV="header";function cV(n,e){let t=b.useId(),{id:i=`headlessui-menu-heading-${t}`,...s}=n,l=$0();ht(()=>l.register(i),[i,l.register]);let c={id:i,ref:e,role:"presentation",...l.props};return kn()({ourProps:c,theirProps:s,slot:{},defaultTag:uV,name:"Menu.Heading"})}let dV="div";function fV(n,e){let t=n,i={ref:e,role:"separator"};return kn()({ourProps:i,theirProps:t,slot:{},defaultTag:dV,name:"Menu.Separator"})}let hV=Tn(JL),mV=Tn(tV),gV=Tn(iV),pV=Tn(sV),yV=Tn(lV),vV=Tn(cV),_V=Tn(fV),ir=Object.assign(hV,{Button:mV,Items:gV,Item:pV,Section:yV,Heading:vV,Separator:_V});function bV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const wV=b.forwardRef(bV);function EV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const xV=b.forwardRef(EV);function TV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Tf=b.forwardRef(TV);function SV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Fa=b.forwardRef(SV);function AV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const RV=b.forwardRef(AV);function CV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Fx=b.forwardRef(CV);function NV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const $x=b.forwardRef(NV);function IV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const gh=b.forwardRef(IV);function kV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const em=b.forwardRef(kV);function DV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const BA=b.forwardRef(DV);function OV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const MV=b.forwardRef(OV);function PV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const ev=b.forwardRef(PV);function jV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const LV=b.forwardRef(jV);function VV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const HA=b.forwardRef(VV);function UV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const js=b.forwardRef(UV);function FV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const $V=b.forwardRef(FV);function zV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const BV=b.forwardRef(zV);function HV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const qV=b.forwardRef(HV);function GV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const qA=b.forwardRef(GV);function YV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const KV=b.forwardRef(YV);function QV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const GA=b.forwardRef(QV);function WV({title:n,titleId:e,...t},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?b.createElement("title",{id:e},n):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Ui=b.forwardRef(WV);function XV(){const{currentUser:n}=xn(),[e,t]=b.useState([]),[i,s]=b.useState(0),[l,c]=b.useState(null),[f,h]=b.useState(!0);b.useEffect(()=>{if(!n)return;const T=lr(_t,"notifications"),A=Gr(T,Yr("userId","==",n.uid));return M0(A,D=>{try{const j=D.docs.map($=>{var Z;return{id:$.id,...$.data(),createdAt:((Z=$.data().createdAt)==null?void 0:Z.toDate())||new Date}});j.sort(($,Z)=>Z.createdAt-$.createdAt);const H=j.slice(0,10);t(H),s(H.filter($=>!$.read).length),h(!1)}catch(j){console.error("Error processing notifications:",j),c(j.message),h(!1)}},D=>{console.error("Error fetching notifications:",D),c(D.message),h(!1)})},[n]);const g=async T=>{try{const A=Bn(_t,"notifications",T);await Hs(A,{read:!0})}catch(A){console.error("Error marking notification as read:",A)}},y=async()=>{try{const A=e.filter(k=>!k.read).map(k=>{const D=Bn(_t,"notifications",k.id);return Hs(D,{read:!0})});await Promise.all(A)}catch(T){console.error("Error marking all notifications as read:",T)}},E=T=>{switch(T){case"event_reminder":return v.jsx(em,{className:"h-5 w-5 text-purple-500"});case"shared_calendar":return v.jsx(GA,{className:"h-5 w-5 text-blue-500"});case"new_event":return v.jsx(Fa,{className:"h-5 w-5 text-green-500"});default:return v.jsx(Fa,{className:"h-5 w-5 text-gray-500"})}},w=T=>{const k=Math.floor((new Date-T)/1e3);return k<60?"just now":k<3600?`${Math.floor(k/60)}m ago`:k<86400?`${Math.floor(k/3600)}h ago`:k<604800?`${Math.floor(k/86400)}d ago`:vt(T,"MMM d")};return l?v.jsxs(ir,{as:"div",className:"relative",children:[v.jsx("div",{children:v.jsxs(ir.Button,{className:"relative rounded-full bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2",children:[v.jsx("span",{className:"sr-only",children:"View notifications"}),v.jsx(Tf,{className:"h-6 w-6","aria-hidden":"true"})]})}),v.jsx(Ay,{as:b.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:v.jsx(ir.Items,{className:"absolute right-0 z-10 mt-2 w-80 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:v.jsxs("div",{className:"px-4 py-6 text-center text-sm text-gray-500",children:[v.jsx("div",{className:"flex justify-center mb-3",children:v.jsx(Tf,{className:"h-6 w-6 text-gray-400"})}),v.jsx("p",{children:"Unable to load notifications"}),v.jsx("p",{className:"mt-1 text-xs",children:"Please try again later"})]})})})]}):v.jsxs(ir,{as:"div",className:"relative",children:[v.jsx("div",{children:v.jsxs(ir.Button,{className:"relative rounded-full bg-white dark:bg-gray-700 p-1 text-gray-400 dark:text-gray-300 hover:text-gray-500 dark:hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:[v.jsx("span",{className:"sr-only",children:"View notifications"}),v.jsx(Tf,{className:"h-6 w-6","aria-hidden":"true"}),i>0&&v.jsx("span",{className:"absolute top-0 right-0 block h-4 w-4 rounded-full bg-red-500 text-xs text-white font-bold flex items-center justify-center transform translate-x-1/2 -translate-y-1/2",children:i>9?"9+":i})]})}),v.jsx(Ay,{as:b.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:v.jsxs(ir.Items,{className:"absolute right-0 z-10 mt-2 w-80 origin-top-right rounded-md bg-white dark:bg-gray-800 py-1 shadow-lg ring-1 ring-black ring-opacity-5 dark:ring-gray-700 focus:outline-none",children:[v.jsxs("div",{className:"px-4 py-2 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Notifications"}),i>0&&v.jsxs("button",{onClick:y,className:"text-xs text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 font-medium flex items-center",children:[v.jsx(RV,{className:"h-3 w-3 mr-1"}),"Mark all as read"]})]}),f?v.jsxs("div",{className:"px-4 py-6 text-center text-sm text-gray-500 dark:text-gray-400",children:[v.jsx("div",{className:"flex justify-center mb-3",children:v.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-purple-600 dark:border-purple-400"})}),v.jsx("p",{children:"Loading notifications..."})]}):e.length===0?v.jsxs("div",{className:"px-4 py-6 text-center text-sm text-gray-500 dark:text-gray-400",children:[v.jsx("div",{className:"flex justify-center mb-3",children:v.jsx(Tf,{className:"h-6 w-6 text-gray-400 dark:text-gray-500"})}),v.jsx("p",{children:"No notifications yet"}),v.jsx("p",{className:"mt-1 text-xs",children:"We'll notify you when something happens"})]}):v.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.map(T=>v.jsx(ir.Item,{children:({active:A})=>v.jsxs("div",{className:`
                        ${A?"bg-gray-50 dark:bg-gray-700":""}
                        ${T.read?"":"bg-purple-50 dark:bg-purple-900/30"}
                        px-4 py-3 flex cursor-pointer
                      `,onClick:()=>g(T.id),children:[v.jsx("div",{className:"flex-shrink-0 mr-3 mt-1",children:E(T.type)}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:`text-sm ${T.read?"text-gray-700 dark:text-gray-300":"font-medium text-gray-900 dark:text-white"}`,children:T.title}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 line-clamp-2",children:T.message}),v.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:w(T.createdAt)})]})]})},T.id))})]})})]})}function tv({toggleMobileSidebar:n}){var Z,ee;const{currentUser:e,logout:t}=xn(),{theme:i,toggleTheme:s}=rP(),[l,c]=b.useState(""),[f,h]=b.useState([]),[g,y]=b.useState(!1),[E,w]=b.useState(!1),T=b.useRef(null),A=Zr(),k=$a();b.useEffect(()=>{function ie(O){T.current&&!T.current.contains(O.target)&&w(!1)}return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[]),b.useEffect(()=>{c(""),h([]),w(!1)},[A.pathname]);const D=async()=>{try{await t()}catch(ie){console.error("Failed to log out",ie)}},j=async ie=>{const O=ie.target.value;if(c(O),O.trim().length<2){h([]),w(!1);return}y(!0),w(!0);try{const N=lr(_t,"calendars"),I=Gr(N,Yr("members","array-contains",e.uid)),P=await Ms(I),U=Gr(N,Yr("sharedEmails","array-contains",e.email)),L=await Ms(U),M=new Set;P.docs.forEach(W=>{M.add(W.id)}),L.docs.forEach(W=>{M.add(W.id)});const Ee=Array.from(M);if(Ee.length===0){h([]),y(!1);return}const De={};P.docs.forEach(W=>{De[W.id]={id:W.id,name:W.data().name,color:W.data().color,ownerId:W.data().ownerId}}),L.docs.forEach(W=>{De[W.id]={id:W.id,name:W.data().name,color:W.data().color,ownerId:W.data().ownerId}});const K=lr(_t,"events"),le=Gr(K,Yr("calendarId","in",Ee)),fe=await Ms(le),ue=O.toLowerCase(),V=fe.docs.map(W=>({id:W.id,...W.data(),start:W.data().start.toDate(),end:W.data().end.toDate(),calendarId:W.data().calendarId,calendarDetails:De[W.data().calendarId]||{name:"Unknown Calendar",color:"#6366f1"}})).filter(W=>W.title.toLowerCase().includes(ue)||W.description&&W.description.toLowerCase().includes(ue)||W.location&&W.location.toLowerCase().includes(ue)).sort((W,he)=>W.start-he.start).slice(0,5);h(V)}catch(N){console.error("Error searching events:",N)}finally{y(!1)}},H=ie=>{k("/");const O={date:ie.start,eventId:ie.id};window.dispatchEvent(new CustomEvent("focusCalendarEvent",{detail:O})),w(!1),c("")},$=()=>{c(""),h([]),w(!1)};return v.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm z-20 border-b border-gray-200 dark:border-gray-700",children:v.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16 px-2 sm:px-4",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsxs("button",{type:"button",className:"md:hidden h-10 w-10 inline-flex items-center justify-center rounded-md text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-orange-500",onClick:()=>n(!0),children:[v.jsx("span",{className:"sr-only",children:"Toggle sidebar"}),v.jsx(xV,{className:"h-6 w-6","aria-hidden":"true"})]}),v.jsx(Ls,{to:"/",children:v.jsx("div",{className:"hidden md:flex md:items-center md:ml-2",children:v.jsx("h1",{className:"text-xl font-bold text-orange-700 dark:text-orange-400",children:"Calendar-Share"})})})]}),v.jsx("div",{className:"hidden sm:flex flex-1 max-w-md mx-2 sm:mx-4",ref:T,children:v.jsxs("div",{className:"relative w-full",children:[v.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:v.jsx(MV,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400","aria-hidden":"true"})}),v.jsx("input",{type:"text",name:"search",id:"search",value:l,onChange:j,onFocus:()=>l.trim().length>=2&&w(!0),className:"block w-full rounded-md border-0 py-1.5 pl-10 pr-8 text-gray-900 dark:text-white bg-white dark:bg-gray-700 ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 dark:placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-orange-600 sm:text-sm sm:leading-6",placeholder:"Search for events"}),l&&v.jsx("button",{onClick:$,className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:v.jsx(Ui,{className:"h-4 w-4 sm:h-5 sm:w-5","aria-hidden":"true"})}),E&&v.jsx("div",{className:"absolute mt-1 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg max-h-96 overflow-y-auto z-50 border border-gray-200 dark:border-gray-700",children:g?v.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-orange-600 dark:border-orange-400 mx-auto"}),v.jsx("p",{className:"mt-1",children:"Searching..."})]}):f.length===0?v.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 text-center",children:l.trim().length>=2?"No events found":"Type at least 2 characters to search"}):v.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:f.map(ie=>v.jsxs("li",{className:"px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>H(ie),children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:ie.color||ie.calendarDetails.color||"#6366f1"}}),v.jsx("span",{className:"font-medium text-sm text-gray-900 dark:text-white",children:ie.title})]}),v.jsxs("div",{className:"mt-1 flex items-center text-xs text-gray-500 dark:text-gray-400",children:[v.jsx(em,{className:"h-3 w-3 mr-1"}),v.jsx("span",{children:vt(ie.start,"MMM d, yyyy h:mm a")})]}),v.jsxs("div",{className:"mt-1 flex items-center text-xs text-gray-500 dark:text-gray-400",children:[v.jsx(Fa,{className:"h-3 w-3 mr-1"}),v.jsx("span",{children:ie.calendarDetails.name})]}),ie.location&&v.jsxs("div",{className:"mt-1 flex items-center text-xs text-gray-500 dark:text-gray-400",children:[v.jsx(ev,{className:"h-3 w-3 mr-1"}),v.jsx("span",{children:ie.location})]})]},ie.id))})})]})}),v.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[v.jsx("button",{onClick:s,className:"rounded-full p-1 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500","aria-label":i==="dark"?"Switch to light mode":"Switch to dark mode",children:i==="dark"?v.jsx(BV,{className:"h-6 w-6","aria-hidden":"true"}):v.jsx(LV,{className:"h-6 w-6","aria-hidden":"true"})}),v.jsx(XV,{}),v.jsxs(ir,{as:"div",className:"relative",children:[v.jsx("div",{children:v.jsxs(ir.Button,{className:"flex rounded-full bg-white dark:bg-gray-700 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:[v.jsx("span",{className:"sr-only",children:"Open user menu"}),e!=null&&e.photoURL?v.jsx("img",{className:"h-8 w-8 rounded-full",src:e.photoURL||"/placeholder.svg",alt:""}):v.jsx("div",{className:"h-8 w-8 rounded-full bg-orange-100 dark:bg-orange-900 flex items-center justify-center text-orange-600 dark:text-orange-300",children:((Z=e==null?void 0:e.displayName)==null?void 0:Z.charAt(0))||((ee=e==null?void 0:e.email)==null?void 0:ee.charAt(0))||"U"})]})}),v.jsx(Ay,{as:b.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:v.jsxs(ir.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white dark:bg-gray-800 py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[v.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 border-b dark:border-gray-700",children:[v.jsx("p",{className:"font-medium",children:(e==null?void 0:e.displayName)||"User"}),v.jsx("p",{className:"text-gray-500 dark:text-gray-400 truncate",children:e==null?void 0:e.email})]}),v.jsx(ir.Item,{children:({active:ie})=>v.jsxs(Ls,{to:"/settings",className:`${ie?"bg-gray-100 dark:bg-gray-700":""} flex px-4 py-2 text-sm text-gray-700 dark:text-gray-300 w-full`,children:[v.jsx(BA,{className:"mr-3 h-5 w-5 text-gray-400 dark:text-gray-500"}),"Settings"]})}),v.jsx(ir.Item,{children:({active:ie})=>v.jsxs("button",{onClick:D,className:`${ie?"bg-gray-100 dark:bg-gray-700":""} flex px-4 py-2 text-sm text-gray-700 dark:text-gray-300 w-full`,children:[v.jsx(wV,{className:"mr-3 h-5 w-5 text-gray-400 dark:text-gray-500"}),"Sign out"]})})]})})]})]})]})})}function ZV({isOpen:n,onClose:e,onCalendarCreated:t}){const[i,s]=b.useState(""),[l,c]=b.useState("#6366f1"),[f,h]=b.useState(!1),{currentUser:g}=xn(),y=[{name:"Indigo",value:"#6366f1"},{name:"Blue",value:"#3b82f6"},{name:"Green",value:"#10b981"},{name:"Yellow",value:"#f59e0b"},{name:"Red",value:"#ef4444"},{name:"Pink",value:"#ec4899"},{name:"Purple",value:"#8b5cf6"}],E=async w=>{if(w.preventDefault(),!i.trim()){Fe.error("Please enter a calendar name");return}try{h(!0);const T=await DS(g.uid,i,l);Fe.success("Calendar created successfully"),t&&t({id:T,name:i,color:l,ownerId:g.uid,isDefault:!1,members:[g.uid],sharedEmails:[]}),e()}catch(T){console.error("Error creating calendar:",T),Fe.error("Failed to create calendar")}finally{h(!1)}};return n?v.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-500 bg-opacity-75 transition-opacity",children:v.jsx("div",{className:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:v.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle",children:[v.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:v.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2",onClick:e,children:[v.jsx("span",{className:"sr-only",children:"Close"}),v.jsx(Ui,{className:"h-6 w-6","aria-hidden":"true"})]})}),v.jsxs("form",{onSubmit:E,children:[v.jsx("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:v.jsx("div",{className:"sm:flex sm:items-start",children:v.jsxs("div",{className:"mt-3 w-full text-center sm:ml-4 sm:mt-0 sm:text-left",children:[v.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Create New Calendar"}),v.jsxs("div",{className:"mt-4 space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Calendar Name"}),v.jsx("input",{type:"text",id:"name",value:i,onChange:w=>s(w.target.value),placeholder:"Enter calendar name",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-700",children:"Calendar Color"}),v.jsx("div",{className:"mt-1 flex space-x-2",children:y.map(w=>v.jsx("button",{type:"button",className:`h-6 w-6 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 ${l===w.value?"ring-2 ring-offset-2 ring-purple-500":""}`,style:{backgroundColor:w.value},onClick:()=>c(w.value),title:w.name},w.value))})]})]})]})})}),v.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[v.jsx("button",{type:"submit",disabled:f,className:"inline-flex w-full justify-center rounded-md bg-purple-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-purple-500 sm:ml-3 sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Creating...":"Create Calendar"}),v.jsx("button",{type:"button",onClick:e,className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",children:"Cancel"})]})]})]})})}):null}function JV({isOpen:n,onClose:e,calendar:t,onCalendarUpdated:i,onCalendarDeleted:s,onShareCalendar:l}){const[c,f]=b.useState(""),[h,g]=b.useState(""),[y,E]=b.useState(!1),[w,T]=b.useState(!1);b.useEffect(()=>{t&&(f(t.name||""),g(t.color||"#6366f1"),T(t.isDefault||!1))},[t]);const A=[{name:"Indigo",value:"#6366f1"},{name:"Blue",value:"#3b82f6"},{name:"Green",value:"#10b981"},{name:"Yellow",value:"#f59e0b"},{name:"Red",value:"#ef4444"},{name:"Pink",value:"#ec4899"},{name:"Purple",value:"#8b5cf6"}],k=async j=>{if(j.preventDefault(),!c.trim()){Fe.error("Please enter a calendar name");return}try{E(!0),await eP(t.id,{name:c,color:h,isDefault:w}),Fe.success("Calendar updated successfully"),i&&i({...t,name:c,color:h,isDefault:w}),e()}catch(H){console.error("Error updating calendar:",H),Fe.error("Failed to update calendar")}finally{E(!1)}},D=async()=>{if(t){if(t.isDefault){Fe.error("Cannot delete default calendar");return}if(window.confirm(`Are you sure you want to delete "${t.name}"? This will delete all events in this calendar.`))try{E(!0),await tP(t.id),Fe.success("Calendar deleted"),s&&s(t.id),e()}catch(j){console.error("Error deleting calendar:",j),Fe.error("Failed to delete calendar")}finally{E(!1)}}};return!n||!t?null:v.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-500 bg-opacity-75 transition-opacity",children:v.jsx("div",{className:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:v.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle",children:[v.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:v.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2",onClick:e,children:[v.jsx("span",{className:"sr-only",children:"Close"}),v.jsx(Ui,{className:"h-6 w-6","aria-hidden":"true"})]})}),v.jsxs("form",{onSubmit:k,children:[v.jsx("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:v.jsx("div",{className:"sm:flex sm:items-start",children:v.jsxs("div",{className:"mt-3 w-full text-center sm:ml-4 sm:mt-0 sm:text-left",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Manage Calendar"}),v.jsxs("button",{type:"button",onClick:()=>l(t),className:"inline-flex items-center px-2 py-1 text-sm text-purple-600 hover:text-purple-800",children:[v.jsx($V,{className:"h-4 w-4 mr-1"}),"Share"]})]}),v.jsxs("div",{className:"mt-4 space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Calendar Name"}),v.jsx("input",{type:"text",id:"name",value:c,onChange:j=>f(j.target.value),placeholder:"Enter calendar name",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-700",children:"Calendar Color"}),v.jsx("div",{className:"mt-1 flex space-x-2",children:A.map(j=>v.jsx("button",{type:"button",className:`h-6 w-6 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 ${h===j.value?"ring-2 ring-offset-2 ring-orange-500":""}`,style:{backgroundColor:j.value},onClick:()=>g(j.value),title:j.name},j.value))})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{id:"isDefault",type:"checkbox",checked:w,onChange:j=>T(j.target.checked),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),v.jsx("label",{htmlFor:"isDefault",className:"ml-2 block text-sm text-gray-900",children:"Set as default calendar"})]})]})]})})}),v.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[v.jsx("button",{type:"submit",disabled:y,className:"inline-flex w-full justify-center rounded-md bg-purple-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-purple-500 sm:ml-3 sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Saving...":"Save Changes"}),!t.isDefault&&v.jsxs("button",{type:"button",onClick:D,disabled:y,className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-red-600 shadow-sm ring-1 ring-inset ring-red-300 hover:bg-red-50 sm:mt-0 sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed",children:[v.jsx(qV,{className:"h-4 w-4 mr-1"}),"Delete"]}),v.jsx("button",{type:"button",onClick:e,className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",children:"Cancel"})]})]})]})})})}const nv=async(n,e,t,i)=>{try{return(await O0(lr(_t,"notifications"),{userId:n,title:e,message:t,type:i,read:!1,createdAt:qs()})).id}catch(s){throw console.error("Error creating notification:",s),s}},e9=async(n,e,t=30)=>{const i=`Reminder: ${e.title}`,s=`Your event "${e.title}" starts in ${t} minutes.`;return nv(n,i,s,"event_reminder")},rv=async(n,e,t)=>{const i="New Shared Calendar",s=`${e} has shared their calendar "${t}" with you.`;return nv(n,i,s,"shared_calendar")},t9=async(n,e,t)=>{const i=`New Event: ${e.title}`,s=`${t} has added a new event "${e.title}" to your calendar.`;return nv(n,i,s,"new_event")};function n9({isOpen:n,onClose:e,calendar:t}){const[i,s]=b.useState(""),[l,c]=b.useState(!1),{currentUser:f}=xn(),h=async y=>{if(y.preventDefault(),!i.trim()){Fe.error("Please enter an email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)){Fe.error("Please enter a valid email address");return}if(t.sharedEmails.includes(i)){Fe.error("Calendar already shared with this email");return}try{c(!0);const w={ownerEmail:f.email,ownerName:f.displayName||f.email.split("@")[0]};await OS(t.id,i,w),await rv(i,f.displayName||f.email,t.name),Fe.success(`Calendar shared with ${i}`),s(""),e()}catch(w){console.error("Error sharing calendar:",w),Fe.error("Failed to share calendar")}finally{c(!1)}},g=async y=>{try{c(!0),await MS(t.id,y),Fe.success(`Removed ${y} from calendar`);const E=t.sharedEmails.filter(w=>w!==y);t.sharedEmails=E}catch(E){console.error("Error removing user from calendar:",E),Fe.error("Failed to remove user from calendar")}finally{c(!1)}};return!n||!t?null:v.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-500 bg-opacity-75 transition-opacity",children:v.jsx("div",{className:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:v.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle",children:[v.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:v.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2",onClick:e,children:[v.jsx("span",{className:"sr-only",children:"Close"}),v.jsx(Ui,{className:"h-6 w-6","aria-hidden":"true"})]})}),v.jsx("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:v.jsx("div",{className:"sm:flex sm:items-start",children:v.jsxs("div",{className:"mt-3 w-full text-center sm:ml-4 sm:mt-0 sm:text-left",children:[v.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Share Calendar"}),v.jsx("div",{className:"mt-2",children:v.jsxs("p",{className:"text-sm text-gray-500",children:["Share"," ",v.jsx("span",{className:"font-medium",style:{color:t.color},children:t.name})," ","with others"]})}),v.jsx("form",{onSubmit:h,className:"mt-4",children:v.jsxs("div",{className:"flex",children:[v.jsx("input",{type:"email",value:i,onChange:y=>s(y.target.value),placeholder:"Enter email address",className:"flex-1 rounded-l-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"}),v.jsxs("button",{type:"submit",disabled:l,className:"inline-flex items-center px-3 py-2 border border-l-0 border-transparent rounded-r-md bg-orange-600 text-white shadow-sm hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[v.jsx(qA,{className:"h-4 w-4 mr-1"}),"Share"]})]})}),t.sharedEmails&&t.sharedEmails.length>0&&v.jsxs("div",{className:"mt-4",children:[v.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Shared with:"}),v.jsx("ul",{className:"mt-2 divide-y divide-gray-200",children:t.sharedEmails.map(y=>v.jsxs("li",{className:"py-2 flex justify-between items-center",children:[v.jsx("span",{className:"text-sm text-gray-600",children:y}),v.jsx("button",{type:"button",onClick:()=>g(y),className:"text-xs text-red-600 hover:text-red-800",children:"Remove"})]},y))})]})]})})}),v.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:v.jsx("button",{type:"button",onClick:e,className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",children:"Close"})})]})})})}function r9({isOpen:n,onClose:e,onCalendarCreated:t,onCalendarUpdated:i,onCalendarDeleted:s}){const[l,c]=b.useState([]),[f,h]=b.useState(!0),[g,y]=b.useState(!1),[E,w]=b.useState(!1),[T,A]=b.useState(!1),[k,D]=b.useState(null),{currentUser:j}=xn();b.useEffect(()=>{n&&(async()=>{if(j)try{const N=await zh(j.uid);c(N),h(!1)}catch(N){console.error("Error fetching calendars:",N),h(!1)}})()},[j,n]);const H=O=>{c([...l,O]),t&&t(O)},$=O=>{c(l.map(N=>N.id===O.id?O:N)),i&&i(O)},Z=O=>{c(l.filter(N=>N.id!==O)),s&&s(O)},ee=O=>{D(O),w(!0)},ie=O=>{D(O),A(!0)};return n?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-500 bg-opacity-75 transition-opacity",children:v.jsx("div",{className:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:v.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle",children:[v.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:v.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2",onClick:e,children:[v.jsx("span",{className:"sr-only",children:"Close"}),v.jsx(Ui,{className:"h-6 w-6","aria-hidden":"true"})]})}),v.jsx("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:v.jsx("div",{className:"sm:flex sm:items-start",children:v.jsxs("div",{className:"mt-3 w-full text-center sm:ml-4 sm:mt-0 sm:text-left",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Manage Calendars"}),v.jsxs("button",{type:"button",onClick:()=>y(!0),className:"inline-flex items-center px-2 py-1 text-sm text-purple-600 hover:text-purple-800",children:[v.jsx(js,{className:"h-4 w-4 mr-1"}),"New Calendar"]})]}),v.jsx("div",{className:"mt-4",children:f?v.jsx("div",{className:"py-4 text-center text-gray-500",children:"Loading calendars..."}):l.length===0?v.jsxs("div",{className:"py-4 text-center text-gray-500",children:[v.jsx("p",{children:"No calendars found"}),v.jsxs("button",{onClick:()=>y(!0),className:"mt-2 inline-flex items-center text-sm text-purple-600 hover:text-purple-800",children:[v.jsx(js,{className:"h-4 w-4 mr-1"}),"Create your first calendar"]})]}):v.jsx("ul",{className:"divide-y divide-gray-200",children:l.map(O=>v.jsxs("li",{className:"py-3 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("span",{className:"h-4 w-4 rounded-full mr-2",style:{backgroundColor:O.color}}),v.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[O.name,O.isDefault&&v.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"(Default)"})]})]}),v.jsx("button",{type:"button",onClick:()=>ee(O),className:"text-sm text-orange-600 hover:text-orange-800",children:"Manage"})]},O.id))})})]})})}),v.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:v.jsx("button",{type:"button",onClick:e,className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",children:"Close"})})]})})}),g&&v.jsx(ZV,{isOpen:g,onClose:()=>y(!1),onCalendarCreated:H}),E&&k&&v.jsx(JV,{isOpen:E,onClose:()=>w(!1),calendar:k,onCalendarUpdated:$,onCalendarDeleted:Z,onShareCalendar:ie}),T&&k&&v.jsx(n9,{isOpen:T,onClose:()=>A(!1),calendar:k})]}):null}function iv({isMobile:n,toggleMobileSidebar:e,onCreateEvent:t,selectedCalendars:i=[],onCalendarToggle:s}){var O,N;const l=Zr(),{currentUser:c}=xn(),{sharedCalendars:f,loading:h}=j0(),[g,y]=b.useState(!1),[E,w]=b.useState(!0),[T,A]=b.useState(!0),[k,D]=b.useState([]),[j,H]=b.useState(!0),$=$a();b.useEffect(()=>{(async()=>{if(c)try{const P=await zh(c.uid);D(P),H(!1)}catch(P){console.error("Error fetching calendars:",P),H(!1)}})()},[c]);const Z=()=>{t?t():($("/"),n&&e(!1))},ee=I=>{s&&s(I)},ie=[{name:"Calendar",href:"/",icon:Fa},{name:"Shared Calendars",href:"/shared",icon:GA},{name:"Settings",href:"/settings",icon:BA}];return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:`${n?"fixed inset-y-0 left-0 z-40 transform transition-transform duration-300 ease-in-out w-64":"hidden md:flex md:flex-col md:w-64 md:fixed md:inset-y-0"} ${n&&!e?"-translate-x-full":"translate-x-0"} bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700`,children:v.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-y-auto",children:[v.jsxs("div",{className:"flex items-center justify-between h-16 flex-shrink-0 px-4 border-b border-gray-200 dark:border-gray-700",children:[v.jsx("h1",{className:"text-xl font-bold text-orange-700 dark:text-orange-400",children:"CalendarShare"}),n&&v.jsx("button",{onClick:()=>e(!1),className:"p-2 rounded-md text-gray-500 dark:text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-orange-500",children:v.jsx(Ui,{className:"h-6 w-6","aria-hidden":"true"})})]}),v.jsx("div",{className:"p-4",children:v.jsxs("button",{onClick:Z,className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-full shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 dark:bg-orange-700 dark:hover:bg-orange-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 dark:focus:ring-offset-gray-800",children:[v.jsx(js,{className:"h-5 w-5 mr-2"}),"Create"]})}),v.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:ie.map(I=>{const P=l.pathname===I.href;return v.jsxs(Ls,{to:I.href,className:`${P?"bg-orange-50 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"} group flex items-center px-2 py-2 text-sm font-medium rounded-md`,onClick:n?()=>e(!1):void 0,children:[v.jsx(I.icon,{className:`${P?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"} mr-3 flex-shrink-0 h-5 w-5`}),I.name]},I.name)})}),v.jsxs("div",{className:"px-3 mt-2",children:[v.jsxs("div",{className:"flex items-center justify-between py-2 text-sm font-medium text-gray-600 dark:text-gray-300 cursor-pointer",onClick:()=>w(!E),children:[v.jsx("span",{children:"My calendars"}),E?v.jsx(Fx,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}):v.jsx(gh,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"})]}),E&&v.jsxs("div",{className:"ml-2 space-y-1 mt-1",children:[j?v.jsx("div",{className:"py-2 px-1",children:v.jsxs("div",{className:"animate-pulse flex space-x-2 items-center",children:[v.jsx("div",{className:"h-3 w-3 bg-gray-200 dark:bg-gray-700 rounded-full"}),v.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-3/4"})]})}):k.length===0?v.jsxs("div",{className:"py-2 px-1",children:[v.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"No calendars found"}),v.jsxs("button",{onClick:()=>y(!0),className:"flex items-center text-sm text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-300",children:[v.jsx(js,{className:"h-4 w-4 mr-1"}),"Create calendar"]})]}):k.map(I=>v.jsxs("div",{className:"flex items-center py-1",children:[v.jsx("input",{type:"checkbox",id:`calendar-${I.id}`,checked:i.includes(I.id),onChange:()=>ee(I),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 dark:border-gray-600 rounded"}),v.jsxs("div",{className:"flex items-center ml-2 flex-1",children:[v.jsx("span",{className:"h-3 w-3 rounded-full mr-2",style:{backgroundColor:I.color}}),v.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:I.name}),I.isDefault&&v.jsx("span",{className:"ml-1 text-xs text-gray-500 dark:text-gray-400",children:"(Default)"})]})]},I.id)),v.jsxs("button",{onClick:()=>y(!0),className:"flex items-center text-sm text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-300 mt-2",children:[v.jsx(js,{className:"h-4 w-4 mr-1"}),"Manage calendars"]})]})]}),v.jsxs("div",{className:"px-3 mt-2",children:[v.jsxs("div",{className:"flex items-center justify-between py-2 text-sm font-medium text-gray-600 dark:text-gray-300 cursor-pointer",onClick:()=>A(!T),children:[v.jsx("span",{children:"Shared calendars"}),T?v.jsx(Fx,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}):v.jsx(gh,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"})]}),T&&v.jsx("div",{className:"ml-2 space-y-1 mt-1",children:h?v.jsx("div",{className:"py-2 px-1",children:v.jsxs("div",{className:"animate-pulse flex space-x-2 items-center",children:[v.jsx("div",{className:"h-3 w-3 bg-gray-200 dark:bg-gray-700 rounded-full"}),v.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-3/4"})]})}):f.length===0?v.jsx("div",{className:"py-2 px-1",children:v.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No shared calendars"})}):f.map(I=>v.jsxs("div",{className:"flex items-center py-1",children:[v.jsx("input",{type:"checkbox",id:`shared-calendar-${I.id}`,checked:i.includes(I.id),onChange:()=>ee(I),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 dark:border-gray-600 rounded"}),v.jsxs("div",{className:"flex items-center ml-2 flex-1",children:[v.jsx("span",{className:"h-3 w-3 rounded-full mr-2",style:{backgroundColor:I.color}}),v.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:I.name}),v.jsxs("span",{className:"ml-1 text-xs text-gray-500 dark:text-gray-400",children:["(Shared by ",I.ownerName||I.ownerEmail,")"]})]})]},I.id))})]}),v.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 mt-auto",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx("div",{className:"h-9 w-9 rounded-full bg-orange-100 dark:bg-orange-900 flex items-center justify-center text-orange-600 dark:text-orange-300",children:((O=c==null?void 0:c.displayName)==null?void 0:O.charAt(0))||((N=c==null?void 0:c.email)==null?void 0:N.charAt(0))||"U"})}),v.jsxs("div",{className:"ml-3",children:[v.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:(c==null?void 0:c.displayName)||"User"}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[160px]",children:c==null?void 0:c.email})]})]})})]})}),n&&e&&v.jsx("div",{className:"fixed inset-0 z-30 bg-gray-600 bg-opacity-75",onClick:()=>e(!1)}),g&&v.jsx(r9,{isOpen:g,onClose:()=>y(!1),onCalendarCreated:I=>{D([...k,I]),s&&s(I)},onCalendarUpdated:I=>{D(k.map(P=>P.id===I.id?I:P))},onCalendarDeleted:I=>{D(k.filter(P=>P.id!==I))}})]})}function YA({isOpen:n,onClose:e,selectedDate:t,event:i=null,initialCalendarId:s=null}){const{currentUser:l}=xn(),[c,f]=b.useState((i==null?void 0:i.title)||""),[h,g]=b.useState((i==null?void 0:i.description)||""),[y,E]=b.useState(i!=null&&i.start?vt(i.start,"yyyy-MM-dd"):vt(t,"yyyy-MM-dd")),[w,T]=b.useState(i!=null&&i.start?vt(i.start,"HH:mm"):"09:00"),[A,k]=b.useState(i!=null&&i.end?vt(i.end,"yyyy-MM-dd"):vt(t,"yyyy-MM-dd")),[D,j]=b.useState(i!=null&&i.end?vt(i.end,"HH:mm"):"10:00"),[H,$]=b.useState((i==null?void 0:i.location)||""),[Z,ee]=b.useState((i==null?void 0:i.color)||"#6366f1"),[ie,O]=b.useState((i==null?void 0:i.isShared)||!1),[N,I]=b.useState((i==null?void 0:i.sharedWith)||[]),[P,U]=b.useState(""),[L,M]=b.useState((i==null?void 0:i.calendarId)||s||""),[Ee,De]=b.useState([]),[K,le]=b.useState(!1),fe=[{name:"Indigo",value:"#6366f1"},{name:"Blue",value:"#3b82f6"},{name:"Green",value:"#10b981"},{name:"Yellow",value:"#f59e0b"},{name:"Red",value:"#ef4444"},{name:"Pink",value:"#ec4899"},{name:"Purple",value:"#8b5cf6"}];b.useEffect(()=>{n&&(async()=>{if(l)try{const we=await zh(l.uid),xe=lr(_t,"calendars"),ge=Gr(xe,Yr("sharedEmails","array-contains",l.email)),Re=(await Ms(ge)).docs.map(pe=>{var be,Ze;return{id:pe.id,...pe.data(),createdAt:((be=pe.data().createdAt)==null?void 0:be.toDate())||new Date,updatedAt:((Ze=pe.data().updatedAt)==null?void 0:Ze.toDate())||new Date}}),Pe=[...we,...Re];if(De(Pe),!L&&Pe.length>0)if(s){M(s);const pe=Pe.find(be=>be.id===s);pe&&ee(pe.color)}else{const pe=Pe.find(be=>be.isDefault)||Pe[0];M(pe.id),ee(pe.color)}}catch(we){console.error("Error fetching calendars:",we),Fe.error("Failed to load calendars")}})()},[l,n,L,s]);const ue=async de=>{de.preventDefault();try{const we=new Date(`${y}T${w}`),xe=new Date(`${A}T${D}`);if(we>=xe){Fe.error("End time must be after start time");return}if(!L){Fe.error("Please select a calendar");return}le(!0);const ge={title:c,description:h,location:H,start:we,end:xe,color:Z,userId:l.uid,calendarId:L,isShared:ie,sharedWith:N,createdAt:new Date};if(i)await Hs(Bn(_t,"events",i.id),ge),Fe.success("Event updated");else{const ce=await O0(lr(_t,"events"),ge);if(await t9(l.uid,{...ge,id:ce.id},l.displayName||l.email),ie&&N.length>0){const Re=Ee.find(pe=>pe.id===L),Pe=Re?Re.name:"Calendar";for(const pe of N)await rv(pe,l.displayName||l.email,Pe)}Fe.success("Event created")}e()}catch(we){console.error("Error saving event:",we),Fe.error("Failed to save event")}finally{le(!1)}},V=async()=>{if(i)try{await NS(Bn(_t,"events",i.id)),Fe.success("Event deleted"),e()}catch(de){console.error("Error deleting event:",de),Fe.error("Failed to delete event")}},W=()=>{!P||N.includes(P)||(I([...N,P]),U(""))},he=de=>{I(N.filter(we=>we!==de))},re=de=>{const we=de.target.value;M(we);const xe=Ee.find(ge=>ge.id===we);xe&&ee(xe.color)};return n?v.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-500 bg-opacity-75 transition-opacity",children:v.jsx("div",{className:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:v.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle",children:[v.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:v.jsxs("button",{type:"button",className:"rounded-md bg-white dark:bg-gray-800 text-gray-400 dark:text-gray-500 hover:text-gray-500 dark:hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",onClick:e,children:[v.jsx("span",{className:"sr-only",children:"Close"}),v.jsx(Ui,{className:"h-6 w-6","aria-hidden":"true"})]})}),v.jsxs("form",{onSubmit:ue,children:[v.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:v.jsx("div",{className:"sm:flex sm:items-start",children:v.jsx("div",{className:"mt-3 w-full text-center sm:ml-4 sm:mt-0 sm:text-left",children:v.jsxs("div",{className:"mt-2 space-y-4",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(HA,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 mr-2"}),v.jsx("input",{type:"text",id:"title",value:c,onChange:de=>f(de.target.value),placeholder:"Add title",required:!0,className:"block w-full border-0 p-0 text-gray-900 dark:text-white bg-transparent placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-0 sm:text-lg font-semibold"})]}),v.jsx("div",{className:"mt-1 border-b border-gray-200 dark:border-gray-700 pb-2"})]}),v.jsxs("div",{className:"flex items-start",children:[v.jsx(Fa,{className:"h-5 w-5 text-gray-400 mr-2 mt-1"}),v.jsxs("div",{className:"w-full",children:[v.jsx("label",{htmlFor:"calendar",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Calendar"}),v.jsxs("select",{id:"calendar",value:L,onChange:re,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-purple-500 dark:focus:border-purple-400 focus:ring-purple-500 dark:focus:ring-purple-400 sm:text-sm",children:[v.jsx("option",{value:"",children:"Select a calendar"}),Ee.map(de=>v.jsxs("option",{value:de.id,children:[de.name," ",de.ownerId!==l.uid?"(Shared)":""]},de.id))]})]})]}),v.jsxs("div",{className:"flex items-start",children:[v.jsx(Fa,{className:"h-5 w-5 text-gray-400 mr-2 mt-1"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Start Date"}),v.jsx("input",{type:"date",id:"startDate",value:y,onChange:de=>E(de.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-purple-500 dark:focus:border-purple-400 focus:ring-purple-500 dark:focus:ring-purple-400 sm:text-sm"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"startTime",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Start Time"}),v.jsx("input",{type:"time",id:"startTime",value:w,onChange:de=>T(de.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-purple-500 dark:focus:border-purple-400 focus:ring-purple-500 dark:focus:ring-purple-400 sm:text-sm"})]})]})]}),v.jsxs("div",{className:"flex items-start",children:[v.jsx(em,{className:"h-5 w-5 text-gray-400 mr-2 mt-1"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"End Date"}),v.jsx("input",{type:"date",id:"endDate",value:A,onChange:de=>k(de.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-purple-500 dark:focus:border-purple-400 focus:ring-purple-500 dark:focus:ring-purple-400 sm:text-sm"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"endTime",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"End Time"}),v.jsx("input",{type:"time",id:"endTime",value:D,onChange:de=>j(de.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-purple-500 dark:focus:border-purple-400 focus:ring-purple-500 dark:focus:ring-purple-400 sm:text-sm"})]})]})]}),v.jsxs("div",{className:"flex items-start",children:[v.jsx(ev,{className:"h-5 w-5 text-gray-400 mr-2 mt-1"}),v.jsxs("div",{className:"w-full",children:[v.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Location"}),v.jsx("input",{type:"text",id:"location",value:H,onChange:de=>$(de.target.value),placeholder:"Add location",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-purple-500 dark:focus:border-purple-400 focus:ring-purple-500 dark:focus:ring-purple-400 sm:text-sm"})]})]}),v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"h-5 w-5 text-gray-400 mr-2 mt-1 flex items-center justify-center",children:v.jsx("span",{className:"h-3 w-3 rounded-full",style:{backgroundColor:Z}})}),v.jsxs("div",{className:"w-full",children:[v.jsx("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Color"}),v.jsx("div",{className:"mt-1 flex space-x-2",children:fe.map(de=>v.jsx("button",{type:"button",className:`h-6 w-6 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 ${Z===de.value?"ring-2 ring-offset-2 ring-purple-500":""}`,style:{backgroundColor:de.value},onClick:()=>ee(de.value),title:de.name},de.value))})]})]}),v.jsx("div",{className:"flex items-start",children:v.jsxs("div",{className:"w-full",children:[v.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),v.jsx("textarea",{id:"description",value:h,onChange:de=>g(de.target.value),rows:"3",placeholder:"Add description",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-purple-500 dark:focus:border-purple-400 focus:ring-purple-500 dark:focus:ring-purple-400 sm:text-sm"})]})}),v.jsxs("div",{className:"flex items-start",children:[v.jsx(KV,{className:"h-5 w-5 text-gray-400 mr-2 mt-1"}),v.jsxs("div",{className:"w-full",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{id:"isShared",type:"checkbox",checked:ie,onChange:de=>O(de.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),v.jsx("label",{htmlFor:"isShared",className:"ml-2 block text-sm text-gray-900 dark:text-gray-300",children:"Share this event"})]}),ie&&v.jsxs("div",{className:"mt-3 space-y-2",children:[v.jsxs("div",{className:"flex",children:[v.jsx("input",{type:"email",value:P,onChange:de=>U(de.target.value),placeholder:"Enter email to share with",className:"flex-1 rounded-l-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-purple-500 dark:focus:border-purple-400 focus:ring-purple-500 dark:focus:ring-purple-400 sm:text-sm"}),v.jsx("button",{type:"button",onClick:W,className:"inline-flex items-center px-3 py-2 border border-l-0 border-gray-300 dark:border-gray-600 rounded-r-md bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 sm:text-sm",children:"Add"})]}),N.length>0&&v.jsxs("div",{className:"mt-2",children:[v.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Shared with:"}),v.jsx("div",{className:"mt-1 flex flex-wrap gap-2",children:N.map(de=>v.jsxs("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[de,v.jsx("button",{type:"button",onClick:()=>he(de),className:"ml-1.5 inline-flex text-purple-400 hover:text-purple-600",children:v.jsx(Ui,{className:"h-3 w-3"})})]},de))})]})]})]})]})]})})})}),v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[v.jsx("button",{type:"submit",disabled:K,className:"inline-flex w-full justify-center rounded-md bg-purple-600 dark:bg-purple-700 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-purple-500 dark:hover:bg-purple-600 sm:ml-3 sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed",children:K?"Saving...":i?"Update":"Save"}),i&&v.jsx("button",{type:"button",onClick:V,disabled:K,className:"mt-3 inline-flex w-full justify-center rounded-md bg-white dark:bg-gray-800 px-3 py-2 text-sm font-semibold text-red-600 dark:text-red-400 shadow-sm ring-1 ring-inset ring-red-300 dark:ring-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 sm:mt-0 sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed",children:"Delete"}),v.jsx("button",{type:"button",onClick:e,className:"mt-3 inline-flex w-full justify-center rounded-md bg-white dark:bg-gray-800 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 sm:mt-0 sm:w-auto",children:"Cancel"})]})]})]})})}):null}function tm(n){const[e,t]=b.useState(!1);return b.useEffect(()=>{const i=window.matchMedia(n);i.matches!==e&&t(i.matches);const s=()=>t(i.matches);return i.addEventListener("change",s),()=>i.removeEventListener("change",s)},[e,n]),e}function i9({currentDate:n,onPrev:e,onNext:t,view:i,onViewChange:s,onToday:l}){const c=tm("(max-width: 768px)"),f=La(n,{weekStartsOn:0}),h=Array.from({length:7}).map((g,y)=>Bh(f,y));return v.jsxs("div",{className:"flex flex-col mb-1 text-gray-900 dark:text-gray-100",children:[v.jsxs("div",{className:"flex items-center justify-between py-1 sm:py-4",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("h2",{className:"text-lg sm:text-xl font-semibold ml-3 text-gray-900",children:vt(n,c?"MMM yyyy":"MMMM yyyy")}),v.jsxs("div",{className:"ml-2 sm:ml-6 flex space-x-1 sm:space-x-2",children:[v.jsx("button",{type:"button",onClick:e,className:"p-1 sm:p-1.5 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:v.jsx($x,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),v.jsx("button",{type:"button",onClick:t,className:"p-1 sm:p-1.5 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:v.jsx(gh,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),v.jsx("button",{type:"button",onClick:l,className:"ml-1 sm:ml-4 px-2 sm:px-3 py-1 sm:py-1.5 text-xs sm:text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600",children:"Today"})]})]}),v.jsxs("div",{className:"flex space-x-1 rounded-md bg-gray-100 dark:bg-gray-700 p-0.5",children:[v.jsx("button",{type:"button",onClick:()=>s("month"),className:`px-2 sm:px-3 py-1 sm:py-1.5 text-xs sm:text-sm font-medium rounded-md ${i==="month"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Month"}),v.jsx("button",{type:"button",onClick:()=>s("week"),className:`px-2 sm:px-3 py-1 sm:py-1.5 text-xs sm:text-sm font-medium rounded-md ${i==="week"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Week"}),v.jsx("button",{type:"button",onClick:()=>s("day"),className:`px-2 sm:px-3 py-1 sm:py-1.5 text-xs sm:text-sm font-medium rounded-md ${i==="day"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Day"})]})]}),c&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"text-xs text-center text-gray-500 dark:text-gray-400 my-1",children:v.jsxs("span",{className:"inline-flex items-center",children:[v.jsx($x,{className:"h-3 w-3 mr-1"})," Swipe to navigate ",v.jsx(gh,{className:"h-3 w-3 ml-1"})]})}),v.jsx("div",{className:"flex justify-between border-b border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 py-2",children:h.map((g,y)=>v.jsxs("div",{className:`flex flex-col items-center justify-center w-8 h-8 rounded-full ${vt(g,"yyyy-MM-dd")===vt(n,"yyyy-MM-dd")?"bg-orange-600 text-white":"text-gray-700 dark:text-gray-300"}`,onClick:()=>s("day",g),children:[v.jsx("span",{className:"text-xs",children:vt(g,"EEE")}),v.jsx("span",{className:"text-xs font-semibold",children:vt(g,"d")})]},y))})]})]})}function a9(n,e){const[t,i]=b.useState(null),[s,l]=b.useState(null),c=50;return{onTouchStart:y=>{l(null),i(y.targetTouches[0].clientX)},onTouchMove:y=>{l(y.targetTouches[0].clientX)},onTouchEnd:()=>{if(!t||!s)return;const y=t-s,E=y>c,w=y<-50;E&&n&&n(),w&&e&&e()}}}function s9(){const[n,e]=b.useState(new Date),[t,i]=b.useState([]),[s,l]=b.useState(!1),[c,f]=b.useState(null),[h,g]=b.useState(null),[y,E]=b.useState("month"),[w,T]=b.useState(!1),[A,k]=b.useState([]),{sharedCalendars:D}=j0(),[j,H]=b.useState([]),{currentUser:$}=xn(),Z=tm("(max-width: 768px)"),ee=()=>{f(new Date),g(null),l(!0)};b.useEffect(()=>{if(!$)return;(async()=>{try{const ce=await zh($.uid);k(ce);const Re=[...ce,...D].map(Pe=>Pe.id);H(Re)}catch(ce){console.error("Error fetching calendars:",ce)}})()},[$,D]),b.useEffect(()=>{if(!$||j.length===0){i([]);return}const ge=lr(_t,"events"),ce=Gr(ge,Yr("calendarId","in",j));return M0(ce,Pe=>{const pe=Pe.docs.map(gt=>({id:gt.id,...gt.data(),start:gt.data().start.toDate(),end:gt.data().end.toDate()}));i(pe);const be=new Date,Ze=fP(be,30);pe.forEach(gt=>{bf(gt.start,Ze)&&bf(be,gt.start)&&e9($.uid,gt,30).catch(Dn=>console.error("Error creating reminder notification:",Dn))})})},[$,j]),b.useEffect(()=>{const ge=async ce=>{const{date:Re,eventId:Pe}=ce.detail;if(e(Re),E("day"),Pe)try{const pe=await k0(Bn(_t,"events",Pe));if(pe.exists()){const be=pe.data();g({id:Pe,...be,start:be.start.toDate(),end:be.end.toDate()}),f(be.start.toDate()),l(!0)}}catch(pe){console.error("Error fetching event details:",pe)}};return window.addEventListener("focusCalendarEvent",ge),()=>{window.removeEventListener("focusCalendarEvent",ge)}},[]);const ie=ge=>{H(ce=>ce.includes(ge.id)?ce.filter(Re=>Re!==ge.id):[...ce,ge.id])},O=()=>e(FS(n,1)),N=()=>e(P3(n)),I=()=>e(new Date),P=()=>e(zS(n,1)),U=()=>e(j3(n)),L=()=>e(Bh(n,1)),M=()=>e(_3(n)),Ee=(ge,ce=n)=>{E(ge),e(ce)},De=()=>{switch(y){case"month":return{onSwipeLeft:O,onSwipeRight:N};case"week":return{onSwipeLeft:P,onSwipeRight:U};case"day":return{onSwipeLeft:L,onSwipeRight:M};default:return{onSwipeLeft:O,onSwipeRight:N}}},{onSwipeLeft:K,onSwipeRight:le}=De(),fe=a9(K,le),ue=ge=>{f(ge),g(null),l(!0)},V=(ge,ce)=>{ce.stopPropagation(),g(ge),f(ge.start),l(!0)},W=ge=>{T(typeof ge=="boolean"?ge:!w)},he=ge=>t.filter(ce=>{const Re=Et(wp(ce.start.toISOString()),ge),Pe=v3(ge,{start:ce.start,end:ce.end});return Re||Pe}),re=(ge,ce)=>{const Re=Et(wp(ge.start.toISOString()),ce),Pe=Et(wp(ge.end.toISOString()),ce);let pe=ge.title;return!Re&&!Pe?pe=`${ge.title} (cont.)`:!Re&&Pe?pe=`${ge.title} (ends)`:Re&&!Pe&&!Et(ge.start,ge.end)&&(pe=`${ge.title} (starts)`),{...ge,displayTitle:pe}},de=()=>{const ge=yP(n),ce=gP(n),Re=La(ge),Pe=cx(ce),pe=ux({start:Re,end:Pe});return v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg h-full flex flex-col",...Z?fe:{},children:[v.jsx("div",{className:"grid grid-cols-7 gap-px bg-gray-200 dark:bg-gray-700",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((be,Ze)=>v.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 py-3 text-center text-sm font-medium text-gray-600 dark:text-gray-300",children:Z?be:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][Ze]},Ze))}),v.jsx("div",{className:"grid grid-cols-7 gap-px bg-gray-200 dark:bg-gray-700 flex-1",children:pe.map(be=>{const Ze=he(be),gt=Et(be,new Date),Dn=Z?2:5;return v.jsxs("div",{onClick:()=>ue(be),className:`bg-white dark:bg-gray-800 p-1 flex flex-col ${y3(be,n)?"text-gray-900 dark:text-gray-100":"text-gray-400 dark:text-gray-500 bg-gray-50 dark:bg-gray-850"} hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer`,children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsx("div",{className:`font-medium text-sm ${gt?"h-6 w-6 rounded-full bg-orange-600 text-white flex items-center justify-center":""}`,children:vt(be,"d")}),Ze.length>0&&Z&&v.jsx("div",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:Ze.length})]}),v.jsxs("div",{className:"mt-1 space-y-1 flex-1 overflow-y-auto",children:[Ze.slice(0,Dn).map(ti=>{const Sn=re(ti,be);return v.jsx("div",{onClick:Ol=>V(ti,Ol),className:"px-1 py-1 text-xs rounded truncate text-white transition-colors duration-200 hover:brightness-90 hover:shadow-sm flex-shrink-0",style:{backgroundColor:ti.color||"#6366f1"},children:Sn.displayTitle},ti.id)}),Ze.length>Dn&&v.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center py-1",children:["+",Ze.length-Dn," more"]})]})]},be.toString())})})]})},we=()=>{const ge=La(n),ce=cx(n),Re=ux({start:ge,end:ce}),Pe=Array.from({length:24},(pe,be)=>be);return v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg h-full flex flex-col",...Z?fe:{},children:[v.jsxs("div",{className:"grid grid-cols-8 border-b dark:border-gray-700",children:[v.jsx("div",{className:"border-r dark:border-gray-700 p-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400",children:"Time"}),Re.map(pe=>v.jsxs("div",{className:`p-3 text-center font-medium ${Et(pe,new Date)?"bg-orange-50 dark:bg-orange-900/30":""}`,children:[v.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:vt(pe,"EEE")}),v.jsx("div",{className:`font-bold text-lg ${Et(pe,new Date)?"text-orange-600 dark:text-orange-400":"text-gray-900 dark:text-white"}`,children:vt(pe,"d")})]},pe.toString()))]}),v.jsxs("div",{className:"grid grid-cols-8 divide-x dark:divide-gray-700 flex-1 overflow-y-auto",children:[v.jsx("div",{className:"divide-y dark:divide-gray-700",children:Pe.map(pe=>v.jsx("div",{className:"h-16 p-1 text-xs text-gray-500 dark:text-gray-400 text-right pr-2",children:pe===0?"12am":pe<12?`${pe}am`:pe===12?"12pm":`${pe-12}pm`},pe))}),Re.map(pe=>v.jsxs("div",{className:"relative divide-y dark:divide-gray-700",children:[Pe.map(be=>v.jsx("div",{className:"h-16 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>{const Ze=px(yx(pe,0),be);ue(Ze)}},be)),t.filter(be=>Et(pe,be.start)||Et(pe,be.end)||gx(pe,be.start)&&bf(pe,be.end)).map(be=>{let Ze,gt;return Et(pe,be.start)?(Ze=Wo(be.start)+Xo(be.start)/60,Et(pe,be.end)?gt=Wo(be.end)+Xo(be.end)/60-Ze:gt=24-Ze):Et(pe,be.end)?(Ze=0,gt=Wo(be.end)+Xo(be.end)/60):(Ze=0,gt=24),v.jsxs("div",{onClick:Dn=>V(be,Dn),className:"absolute left-0 right-0 mx-1 rounded px-2 text-xs text-white overflow-hidden transition-colors duration-200 hover:brightness-90 hover:shadow-md",style:{backgroundColor:be.color||"#6366f1",top:`${Ze*4}rem`,height:`${Math.max(1,gt*4)}rem`,zIndex:10},children:[v.jsx("div",{className:"font-semibold ",children:Et(pe,be.start)?be.title:`${be.title} (cont.)`}),!Z&&v.jsxs("div",{className:" ",children:[Et(pe,be.start)?vt(be.start,"h:mm a"):"all day"," -",Et(pe,be.end)?vt(be.end,"h:mm a"):""]})]},`${be.id}-${pe}`)})]},pe.toString()))]})]})},xe=()=>{const ge=Array.from({length:24},(ce,Re)=>Re);return v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg h-full flex flex-col",...Z?fe:{},children:[v.jsx("div",{className:"grid grid-cols-1 border-b dark:border-gray-700 p-4",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:vt(n,"EEEE")}),v.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:vt(n,"d MMMM yyyy")})]})}),v.jsxs("div",{className:"grid grid-cols-[80px_1fr] divide-x dark:divide-gray-700 flex-1 overflow-y-auto",children:[v.jsx("div",{className:"divide-y dark:divide-gray-700",children:ge.map(ce=>v.jsx("div",{className:"h-16 p-1 text-xs text-gray-500 dark:text-gray-400 text-right pr-2",children:ce===0?"12am":ce<12?`${ce}am`:ce===12?"12pm":`${ce-12}pm`},ce))}),v.jsxs("div",{className:"relative divide-y dark:divide-gray-700",children:[ge.map(ce=>v.jsx("div",{className:"h-16 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>{const Re=px(yx(n,0),ce);ue(Re)}},ce)),t.filter(ce=>Et(n,ce.start)||Et(n,ce.end)||gx(n,ce.start)&&bf(n,ce.end)).map(ce=>{let Re,Pe;return Et(n,ce.start)?(Re=Wo(ce.start)+Xo(ce.start)/60,Et(n,ce.end)?Pe=Wo(ce.end)+Xo(ce.end)/60-Re:Pe=24-Re):Et(n,ce.end)?(Re=0,Pe=Wo(ce.end)+Xo(ce.end)/60):(Re=0,Pe=24),v.jsxs("div",{onClick:pe=>V(ce,pe),className:"absolute left-0 right-0 mx-2 rounded px-3 py-1 text-white overflow-hidden transition-colors duration-200 hover:brightness-90 hover:shadow-md",style:{backgroundColor:ce.color||"#6366f1",top:`${Re*4}rem`,height:`${Math.max(1,Pe*4)}rem`,zIndex:10},children:[v.jsx("div",{className:"font-semibold truncate",children:Et(n,ce.start)?ce.title:`${ce.title} (cont.)`}),v.jsxs("div",{className:"truncate",children:[Et(n,ce.start)?vt(ce.start,"h:mm a"):"all day"," -",Et(n,ce.end)?vt(ce.end,"h:mm a"):""]}),ce.location&&v.jsx("div",{className:"text-xs truncate",children:ce.location})]},ce.id)})]})]})]})};return v.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[v.jsx(iv,{isMobile:Z,toggleMobileSidebar:w,onCreateEvent:ee,selectedCalendars:j,onCalendarToggle:ie}),Z&&w&&v.jsx("div",{className:"fixed inset-0 z-30 bg-gray-600 bg-opacity-75",onClick:()=>W(!1)}),v.jsxs("div",{className:`flex-1 flex flex-col overflow-hidden ${Z?"":"md:ml-64"}`,children:[v.jsx(tv,{toggleMobileSidebar:W}),v.jsxs("main",{className:"flex-1 flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[v.jsx(i9,{currentDate:n,onPrev:N,onNext:O,onToday:I,view:y,onViewChange:Ee}),v.jsx("div",{className:"p-2 sm:p-4 flex-1 overflow-hidden flex flex-col",children:v.jsxs("div",{className:"flex-1 min-h-0",children:[y==="month"&&de(),y==="week"&&we(),y==="day"&&xe()]})})]}),v.jsx("button",{onClick:ee,className:"fixed right-4 bottom-16 sm:bottom-6 p-3 rounded-full bg-orange-600 dark:bg-orange-700 text-white shadow-lg hover:bg-orange-700 dark:hover:bg-orange-800 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900 z-20","aria-label":"Add new event",children:v.jsx(js,{className:"h-6 w-6"})})]}),s&&v.jsx(YA,{isOpen:s,onClose:()=>l(!1),selectedDate:c,event:h})]})}function o9({isOpen:n,onClose:e,calendar:t}){const[i,s]=b.useState(""),[l,c]=b.useState(!1),{currentUser:f}=xn(),h=async y=>{if(y.preventDefault(),!i.trim()){Fe.error("Please enter an email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)){Fe.error("Please enter a valid email address");return}if(t.sharedEmails.includes(i)){Fe.error("Calendar already shared with this email");return}try{c(!0);const w={ownerEmail:f.email,ownerName:f.displayName||f.email.split("@")[0]};await OS(t.id,i,w),await rv(i,f.displayName||f.email,t.name),Fe.success(`Calendar shared with ${i}`),s(""),e()}catch(w){console.error("Error sharing calendar:",w),Fe.error("Failed to share calendar")}finally{c(!1)}},g=async y=>{try{c(!0),await MS(t.id,y),Fe.success(`Removed ${y} from calendar`);const E=t.sharedEmails.filter(w=>w!==y);t.sharedEmails=E}catch(E){console.error("Error removing user from calendar:",E),Fe.error("Failed to remove user from calendar")}finally{c(!1)}};return!n||!t?null:v.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-500 bg-opacity-75 transition-opacity",children:v.jsx("div",{className:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:v.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle",children:[v.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:v.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2",onClick:e,children:[v.jsx("span",{className:"sr-only",children:"Close"}),v.jsx(Ui,{className:"h-6 w-6","aria-hidden":"true"})]})}),v.jsx("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:v.jsx("div",{className:"sm:flex sm:items-start",children:v.jsxs("div",{className:"mt-3 w-full text-center sm:ml-4 sm:mt-0 sm:text-left",children:[v.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Share Calendar"}),v.jsx("div",{className:"mt-2",children:v.jsxs("p",{className:"text-sm text-gray-500",children:["Share"," ",v.jsx("span",{className:"font-medium",style:{color:t.color},children:t.name})," ","with others"]})}),v.jsx("form",{onSubmit:h,className:"mt-4",children:v.jsxs("div",{className:"flex",children:[v.jsx("input",{type:"email",value:i,onChange:y=>s(y.target.value),placeholder:"Enter email address",className:"flex-1 rounded-l-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm"}),v.jsxs("button",{type:"submit",disabled:l,className:"inline-flex items-center px-3 py-2 border border-l-0 border-transparent rounded-r-md bg-purple-600 text-white shadow-sm hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[v.jsx(qA,{className:"h-4 w-4 mr-1"}),"Share"]})]})}),t.sharedEmails&&t.sharedEmails.length>0&&v.jsxs("div",{className:"mt-4",children:[v.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Shared with:"}),v.jsx("ul",{className:"mt-2 divide-y divide-gray-200",children:t.sharedEmails.map(y=>v.jsxs("li",{className:"py-2 flex justify-between items-center",children:[v.jsx("span",{className:"text-sm text-gray-600",children:y}),v.jsx("button",{type:"button",onClick:()=>g(y),className:"text-xs text-red-600 hover:text-red-800",children:"Remove"})]},y))})]})]})})}),v.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:v.jsx("button",{type:"button",onClick:e,className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",children:"Close"})})]})})})}function l9(){const[n,e]=b.useState([]),[t,i]=b.useState(!1),[s,l]=b.useState(null),[c,f]=b.useState(!1),[h,g]=b.useState(!1),[y,E]=b.useState(null),[w,T]=b.useState(null),[A,k]=b.useState(!0),[D,j]=b.useState([]),{currentUser:H}=xn(),{sharedCalendars:$,loading:Z}=j0(),ee=tm("(max-width: 768px)"),ie=$a();b.useEffect(()=>{$.length>0&&j($.map(L=>L.id))},[$]),b.useEffect(()=>{if(!H||D.length===0){e([]),k(!1);return}const L=lr(_t,"events"),M=Gr(L,Yr("calendarId","in",D));return M0(M,De=>{const K=De.docs.map(le=>({id:le.id,...le.data(),start:le.data().start.toDate(),end:le.data().end.toDate()}));e(K),k(!1)})},[H,D]);const O=L=>{i(typeof L=="boolean"?L:!t)},N=L=>{E(L),T(L.start),g(!0)},I=L=>{const M=$.find(Ee=>Ee.id===L);M&&(l(M),T(new Date),E(null),g(!0))},P=()=>{ie("/")},U=L=>{j(M=>M.includes(L.id)?M.filter(Ee=>Ee!==L.id):[...M,L.id])};return v.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[v.jsx(iv,{isMobile:ee,toggleMobileSidebar:t,onCreateEvent:P,selectedCalendars:D,onCalendarToggle:U}),ee&&t&&v.jsx("div",{className:"fixed inset-0 z-30 bg-gray-600 bg-opacity-75",onClick:()=>O(!1)}),v.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden md:ml-64",children:[v.jsx(tv,{toggleMobileSidebar:O}),v.jsxs("main",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900",children:[v.jsxs("div",{className:"max-w-7xl mx-auto",children:[v.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Shared Calendars"}),A||Z?v.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-orange-600 dark:border-orange-400 mx-auto"}),v.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading shared calendars..."})]}):$.length===0?v.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 text-center",children:[v.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-orange-100 dark:bg-orange-900/30",children:v.jsx(Fa,{className:"h-6 w-6 text-orange-600 dark:text-orange-400","aria-hidden":"true"})}),v.jsx("h3",{className:"mt-3 text-lg font-medium text-gray-900 dark:text-white",children:"No shared calendars found"}),v.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"When someone shares their calendar with you, it will appear here."})]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg mb-6",children:[v.jsxs("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-gray-700",children:[v.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Calendars Shared With You"}),v.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500 dark:text-gray-400",children:"Calendars that others have shared with you"})]}),v.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:$.map(L=>v.jsx("li",{className:"px-4 py-4 sm:px-6 hover:bg-gray-50 dark:hover:bg-gray-700",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("span",{className:"h-4 w-4 rounded-full mr-2",style:{backgroundColor:L.color}}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L.name})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Shared by ",L.ownerName||L.ownerEmail||"Unknown User"]}),v.jsxs("button",{onClick:()=>I(L.id),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-orange-700 dark:text-orange-300 bg-orange-100 dark:bg-orange-900/30 hover:bg-orange-200 dark:hover:bg-orange-900/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 dark:focus:ring-offset-gray-900",children:[v.jsx(HA,{className:"h-4 w-4 mr-1"}),"Add Event"]})]})]})},L.id))})]}),n.length>0?v.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg",children:[v.jsxs("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-gray-700",children:[v.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Events from Shared Calendars"}),v.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500 dark:text-gray-400",children:"Upcoming events from calendars shared with you"})]}),v.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n.map(L=>{var M;return v.jsx("li",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>N(L),children:v.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:L.color||"#6366f1"}}),v.jsx("p",{className:"text-sm font-medium text-orange-600 dark:text-orange-400 truncate",children:L.title})]}),v.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:v.jsx("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300",children:((M=$.find(Ee=>Ee.id===L.calendarId))==null?void 0:M.name)||"Shared Calendar"})})]}),v.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[v.jsx("div",{className:"sm:flex",children:v.jsx("p",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:L.description||"No description"})}),v.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 dark:text-gray-400 sm:mt-0",children:[v.jsx(em,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400 dark:text-gray-500"}),v.jsxs("p",{children:[vt(L.start,"MMM d, yyyy h:mm a")," -"," ",vt(L.end,"MMM d, yyyy h:mm a")]})]})]}),L.location&&v.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 dark:text-gray-400",children:[v.jsx(ev,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400 dark:text-gray-500"}),v.jsx("p",{children:L.location})]})]})},L.id)})})]}):v.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 text-center",children:[v.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-orange-100 dark:bg-orange-900/30",children:v.jsx(Fa,{className:"h-6 w-6 text-orange-600 dark:text-orange-400","aria-hidden":"true"})}),v.jsx("h3",{className:"mt-3 text-lg font-medium text-gray-900 dark:text-white",children:"No events in shared calendars"}),v.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"There are no events in the calendars shared with you."})]})]})]}),v.jsx("button",{onClick:P,className:"fixed right-4 bottom-16 sm:bottom-6 p-3 rounded-full bg-orange-600 dark:bg-orange-700 text-white shadow-lg hover:bg-orange-700 dark:hover:bg-orange-800 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900 z-20","aria-label":"Add new event",children:v.jsx(js,{className:"h-6 w-6"})})]})]}),c&&s&&v.jsx(o9,{isOpen:c,onClose:()=>f(!1),calendar:s}),h&&v.jsx(YA,{isOpen:h,onClose:()=>g(!1),selectedDate:w,event:y,initialCalendarId:s==null?void 0:s.id})]})}function u9(){const{currentUser:n}=xn(),[e,t]=b.useState((n==null?void 0:n.displayName)||""),[i,s]=b.useState(!1),[l,c]=b.useState(!1),[f,h]=b.useState(!0),[g,y]=b.useState(!0),E=tm("(max-width: 768px)"),w=$a(),[T,A]=b.useState([]),k=()=>{w("/")},D=async $=>{$.preventDefault();try{s(!0),await HT(tc.currentUser,{displayName:e}),Fe.success("Profile updated successfully")}catch(Z){console.error("Error updating profile:",Z),Fe.error("Failed to update profile")}finally{s(!1)}},j=$=>{c(typeof $=="boolean"?$:!l)},H=$=>{A(Z=>Z.includes($.id)?Z.filter(ee=>ee!==$.id):[...Z,$.id])};return v.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[v.jsx(iv,{isMobile:E,toggleMobileSidebar:l,onCreateEvent:k,selectedCalendars:T,onCalendarToggle:H}),E&&l&&v.jsx("div",{className:"fixed inset-0 z-30 bg-gray-600 bg-opacity-75",onClick:()=>j(!1)}),v.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden md:ml-64",children:[v.jsx(tv,{toggleMobileSidebar:j}),v.jsx("main",{className:"flex-1 overflow-y-auto p-4 pb-20 bg-gray-50 dark:bg-gray-900",children:v.jsxs("div",{className:"max-w-7xl mx-auto",children:[v.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Settings"}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg",children:[v.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[v.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Profile Information"}),v.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500 dark:text-gray-400",children:"Update your personal details."})]}),v.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 px-4 py-5 sm:p-6",children:v.jsxs("form",{onSubmit:D,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email address"}),v.jsx("input",{type:"email",id:"email",value:(n==null?void 0:n.email)||"",disabled:!0,className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-gray-50 dark:bg-gray-700 text-gray-500 dark:text-gray-400 sm:text-sm"}),v.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Email cannot be changed."})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Display name"}),v.jsx("input",{type:"text",id:"name",value:e,onChange:$=>t($.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm"})]}),v.jsx("div",{children:v.jsx("button",{type:"submit",disabled:i,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 dark:bg-orange-700 hover:bg-orange-700 dark:hover:bg-orange-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 dark:focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save changes"})})]})})]}),v.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg",children:[v.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[v.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Notification Settings"}),v.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500 dark:text-gray-400",children:"Manage your notification preferences."})]}),v.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 px-4 py-5 sm:p-6",children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"flex items-center h-5",children:v.jsx("input",{id:"notifications",name:"notifications",type:"checkbox",checked:f,onChange:$=>h($.target.checked),className:"focus:ring-orange-500 h-4 w-4 text-orange-600 border-gray-300 dark:border-gray-600 rounded"})}),v.jsxs("div",{className:"ml-3 text-sm",children:[v.jsx("label",{htmlFor:"notifications",className:"font-medium text-gray-700 dark:text-gray-300",children:"Enable notifications"}),v.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Receive in-app notifications for calendar events and updates."})]})]}),v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"flex items-center h-5",children:v.jsx("input",{id:"email-notifications",name:"email-notifications",type:"checkbox",checked:g,onChange:$=>y($.target.checked),className:"focus:ring-orange-500 h-4 w-4 text-orange-600 border-gray-300 dark:border-gray-600 rounded"})}),v.jsxs("div",{className:"ml-3 text-sm",children:[v.jsx("label",{htmlFor:"email-notifications",className:"font-medium text-gray-700 dark:text-gray-300",children:"Email notifications"}),v.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Receive email notifications for shared calendar events."})]})]}),v.jsxs("div",{className:"mt-6",children:[v.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notification types"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"flex items-center h-5",children:v.jsx("input",{id:"event-reminders",name:"event-reminders",type:"checkbox",defaultChecked:!0,className:"focus:ring-orange-500 h-4 w-4 text-orange-600 border-gray-300 dark:border-gray-600 rounded"})}),v.jsx("div",{className:"ml-3 text-sm",children:v.jsx("label",{htmlFor:"event-reminders",className:"font-medium text-gray-700 dark:text-gray-300",children:"Event reminders"})})]}),v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"flex items-center h-5",children:v.jsx("input",{id:"shared-calendars",name:"shared-calendars",type:"checkbox",defaultChecked:!0,className:"focus:ring-orange-500 h-4 w-4 text-orange-600 border-gray-300 dark:border-gray-600 rounded"})}),v.jsx("div",{className:"ml-3 text-sm",children:v.jsx("label",{htmlFor:"shared-calendars",className:"font-medium text-gray-700 dark:text-gray-300",children:"Shared calendars"})})]}),v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"flex items-center h-5",children:v.jsx("input",{id:"new-events",name:"new-events",type:"checkbox",defaultChecked:!0,className:"focus:ring-orange-500 h-4 w-4 text-orange-600 border-gray-300 dark:border-gray-600 rounded"})}),v.jsx("div",{className:"ml-3 text-sm",children:v.jsx("label",{htmlFor:"new-events",className:"font-medium text-gray-700 dark:text-gray-300",children:"New events"})})]})]})]}),v.jsx("div",{className:"pt-5",children:v.jsx("button",{type:"button",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 dark:bg-orange-700 hover:bg-orange-700 dark:hover:bg-orange-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 dark:focus:ring-offset-gray-900",children:"Save notification settings"})})]})})]})]})})]})]})}const Op=({children:n})=>{const{currentUser:e,loading:t}=xn();return t?v.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-600 dark:border-orange-400"})}):e?n:v.jsx(yC,{to:"/login"})};function c9(){return v.jsx(nP,{children:v.jsx(iP,{children:v.jsx(aP,{children:v.jsxs(BC,{basename:"/calendar-share",children:[v.jsx(zN,{position:"top-right",toastOptions:{style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),v.jsxs(_C,{children:[v.jsx(Zo,{path:"/login",element:v.jsx(sP,{})}),v.jsx(Zo,{path:"/register",element:v.jsx(oP,{})}),v.jsx(Zo,{path:"/",element:v.jsx(Op,{children:v.jsx(s9,{})})}),v.jsx(Zo,{path:"/shared",element:v.jsx(Op,{children:v.jsx(l9,{})})}),v.jsx(Zo,{path:"/settings",element:v.jsx(Op,{children:v.jsx(u9,{})})})]})]})})})})}C2.createRoot(document.getElementById("root")).render(v.jsx(dt.StrictMode,{children:v.jsx(c9,{})}));
